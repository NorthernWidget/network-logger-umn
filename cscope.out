cscope 15 $HOME/Arduino/libraries/network-logger-umn               0000425938
	@Network.cpp

43 
	~<Nëw‹k.h
>

44 
	~<Queue.h
>

45 
	~<Packë.h
>

46 
	#DEBUG


	)

48 
	gNëw‹k
::
	$Nëw‹k
(): 
	$ødio
(10,2Ë{
	}
}

50 
	gNëw‹k
::
	$öôNëw‹k
()

54 
this
->
ødio
.
	`£tThisAddªss
—his->
myID
);

57 
this
->
ødio
.
	`öô
();

63 
	}
}

70 
ªtVÆ
 
	gNëw‹k
::
	$ªadPackë
(
Packë
* 
p
)

72 
uöt8_t
 
buf
[
this
->
ødio
.
	`maxMesßgeLígth
()];

73 
uöt8_t
 
Àn
 = 
ødio
.
	`maxMesßgeLígth
();

74 i‡(
this
->
ødio
.
	`ªcv
(
buf
, &
Àn
)) {

75 
	`dñay
(15);

76 
p
->
	`£tdSize
(
Àn
 - 1);

77 
p
->
	`£tsAddr
(
this
->
ødio
.
	`hódîFrom
());

78 
p
->
	`£tdAddr
(
this
->
ødio
.
	`hódîTo
());

79 
p
->
	`£t›Code
(
buf
[0]);

81 
i
 = 0; i < 
p
->
	`gëdSize
(); i++) {

82 
p
->
	`£td©a
(
buf
[
i
 + 1], i);

84 
i
 = 
p
->
	`gëdSize
(); i < 
MAXDATASIZE
; i++) {

85 
p
->
	`£td©a
(0, 
i
);

87 i‡(
this
->
ødio
.
	`ACKReque°ed
())

88 
this
->
ødio
.
	`£ndACK
();

89  
SUCCESS
;

91  
NOMESSAGE
;

92 
	}
}

97 
ªtVÆ
 
	gNëw‹k
::
	$£ndPackë
(
Packë
* 
p
)

99 
uöt8_t
 
d©a
[
p
->
	`gëdSize
() + 1];

100 
d©a
[0] = 
p
->
	`gë›Code
();

101 
i
 = 0; i < 
p
->
	`gëdSize
(); i++) {

102 
d©a
[
i
 + 1] = 
p
->
	`gëD©a
(i);

104 i‡(
this
->
u£Ack
 && 
p
->
	`gëdAddr
(Ë!
BROADCASTADDRESS
) {

105 i‡(
this
->
ødio
.
	`£ndWôhRëry
(
p
->
	`gëdAddr
(), 
d©a
,Ö->
	`gëdSize
() + 1)) {

106  
SUCCESS
;

109  
NOACK
;

113 
	`dñay
(100);

114 
this
->
ødio
.
	`√wSíd
(
p
->
	`gëdAddr
(), 
d©a
,Ö->
	`gëdSize
() + 1);

115  
SUCCESS
;

117 
	}
}

122 
	gNëw‹k
::
	$¸óãPackë
(
uöt8_t
 
›Code
, uöt8_à
sAddr
, uöt8_à
dAddr
, uöt8_à
dSize
, uöt8_à
d©a
[], 
Packë
* 
p
)

124 
p
->
	`£t›Code
(
›Code
);

125 
p
->
	`£tsAddr
(
sAddr
);

126 
p
->
	`£tdAddr
(
dAddr
);

127 
p
->
	`£tdSize
(
dSize
);

128 
i
 = 0; i < 
dSize
; i++)

129 
p
->
	`£td©a
(
d©a
[
i
], i);

130 
i
 = 
dSize
; i < 
MAXDATASIZE
; i++)

131 
p
->
	`£td©a
(0, 
i
);

132 
	}
}

138 
	gNëw‹k
::
	$lookF‹Co‹d
()

140 
Packë
 *
p
 = 
√w
 
	`Packë
();

141 
	`¸óãPackë
(
ASKFORCOORD
, 
this
->
myID
, 
BROADCASTADDRESS
, 0, 
NULL
, 
p
);

142 
	`£ndPackë
(
p
);

143 
dñëe
 
p
;

144 
	}
}

150 
	gNëw‹k
::
	$foundCo‹d
()

152 
Packë
 *
p
 = 
√w
 
	`Packë
();

153 
	`¸óãPackë
(
IHAVECOORD
, 
this
->
myID
, 
BROADCASTADDRESS
, 0, 
NULL
, 
p
);

154 
	`£ndPackë
(
p
);

155 
dñëe
 
p
;

156 
	}
}

163 
	gNëw‹k
::
	$dr›≥dCo‹d
(){

164 
this
->
haveCo‹d
 = 
Ál£
;

165 
this
->
cuºítRSSI
 = 0;

166 
Packë
 *
p
 = 
√w
 
	`Packë
();

167 
	`¸óãPackë
(
DROPPEDCOORD
, 
this
->
myID
, 
BROADCASTADDRESS
, 0, 
NULL
, 
p
);

168 
	`£ndPackë
(
p
);

169 
dñëe
 
p
;

170 
	}
}

172 
	gNëw‹k
::
	$runNëw‹k
()

175 
this
->
noPackëRe˚ived
 = 0;

176 
Packë
 *
p
 = 
√w
 
	`Packë
();

177 if(
this
->
amCo‹d
){

183 
noPackëRe˚ived
 < 
COORDLISTENTIMEOUT
){

184 if(
	`ªadPackë
(
p
Ë!
NOMESSAGE
){

185 
	`ª˚ivedPackë
(
p
);

188 ++
noPackëRe˚ived
;

190 
	`dñay
(10);

195 if(
this
->
haveCo‹d
){

197 
uöt8_t
 
d©a
[
MAXDATASIZE
];

198 
uöt8_t
 
ödex
;

199 
d
;

200 !
d©aQueue
.
	`isEm±y
()){

201 
d©a
[0] = 
this
->
myID
;

202 
ödex
 = 1 ; index<
MAXDATASIZE
-3 && !
d©aQueue
.
	`isEm±y
();){

203 
d
 = 
d©aQueue
.
	`dequeue
();

204 
d©a
[
ödex
++] = 
d
 >> 24;

205 
d©a
[
ödex
++] = 
d
 >> 16;

206 
d©a
[
ödex
++] = 
d
 >> 8;

207 
d©a
[
ödex
++] = 
d
;

209 
uöt8_t
 
ÁûedSíd
 = 0;

210 
	`¸óãPackë
(
DTRANSMISSION
, 
this
->
myID
,Åhis->
√xtH›
, 
ödex
, 
d©a
, 
p
);

211 (
	`£ndPackë
(
p
Ë=
NOACK
Ë&& (
ÁûedSíd
 < 
DROPPEDPACKETTIMEOUT
)){

212 
ÁûedSíd
++;

215 if(
ÁûedSíd
 =
DROPPEDPACKETTIMEOUT
){

217 
	`dr›≥dCo‹d
();

218 
dñëe
 
p
;

224 
boﬁ
 
dr›≥d
 = 
Ál£
;

225 
noPackëRe˚ived
 < 
ROUTERLISTENTIMEOUT
){

226 if(
	`ªadPackë
(
p
Ë!
NOMESSAGE
){

227 if(
	`ª˚ivedPackë
(
p
Ë=
DROPPED
){

228 
dr›≥d
 = 
åue
;

233 ++
noPackëRe˚ived
;

238 if(
dr›≥d
){

239 
	`dr›≥dCo‹d
();

244 
	`lookF‹Co‹d
();

245 
	`dñay
(20);

248 
noPackëRe˚ived
 < 
LFCLISTENTIMEOUT
){

249 if(
	`ªadPackë
(
p
Ë!
NOMESSAGE
){

250 
	`dñay
(100);

251 
	`ª˚ivedPackë
(
p
);

254 ++
noPackëRe˚ived
;

256 
	`dñay
(100);

264 if(
this
->
ªc⁄√˘ed
){

265 
this
->
ªc⁄√˘ed
 = 
Ál£
;

266 
this
->
haveCo‹d
 = 
åue
;

267 
	`foundCo‹d
();

270 
dñëe
 
p
;

271 
	}
}

273 
	gNëw‹k
::
	$ª˚ivedPackë
(
Packë
* 
p
)

276 
uöt8_t
 
›Code
 = 
p
->
	`gë›Code
();

277 
uöt8_t
 
ÁûedSíd
;

278 if(
this
->
amCo‹d
){

279 
›Code
){

280 
DTRANSMISSION
:

285 #ifde‡
DEBUG


286 
Sîül
.
	`¥öt
("Received data from: ");

287 
Sîül
.
	`¥öén
(
p
->
	`gësAddr
());

288 
Sîül
.
	`¥öt
("Data belongsÅo: ");

289 
Sîül
.
	`¥öén
(
p
->
	`gëD©a
(0));

290 
Sîül
.
	`¥öt
("LSB of first data: ");

291 
Sîül
.
	`¥öén
(
p
->
	`gëD©a
(1));

293  
SUCCESS
;

294 
ASKFORCOORD
:

296 #ifde‡
DEBUG


297 
Sîül
.
	`¥öt
("Asked foráccess from: ");

298 
Sîül
.
	`¥öén
(
p
->
	`gësAddr
());

300 
ÁûedSíd
 = 0;

301 
	`¸óãPackë
(
IAMCOORD
, 
this
->
myID
, 
p
->
	`gësAddr
(), 0, 
NULL
,Ö);

302 (
	`£ndPackë
(
p
Ë=
NOACK
Ë&& (
ÁûedSíd
 < 
DROPPEDPACKETTIMEOUT
)){

303 
ÁûedSíd
++;

306 if(
ÁûedSíd
 =
DROPPEDPACKETTIMEOUT
){

307 #ifde‡
DEBUG


308 
Sîül
.
	`¥öén
("FailedÅoÅellámCoord");

310  
FAIL
;

312 #ifde‡
DEBUG


313 
Sîül
.
	`¥öén
("succededÅoÅellámCoord");

315  
SUCCESS
;

317  
IGNORED
;

320 if(
this
->
haveCo‹d
){

321 
›Code
){

322 
DTRANSMISSION
:

324 #ifde‡
DEBUG


325 
Sîül
.
	`¥öt
("Received data from: ");

326 
Sîül
.
	`¥öén
(
p
->
	`gësAddr
());

327 
Sîül
.
	`¥öt
("SendingÅoÇext hop: ");

328 
Sîül
.
	`¥öén
(
this
->
√xtH›
);

330 
ÁûedSíd
 = 0;

331 
p
->
	`£tdAddr
(
this
->
√xtH›
);

332 (
	`£ndPackë
(
p
Ë=
NOACK
Ë&& (
ÁûedSíd
 < 
DROPPEDPACKETTIMEOUT
)){

333 
ÁûedSíd
++;

336 if(
ÁûedSíd
 =
DROPPEDPACKETTIMEOUT
){

337 #ifde‡
DEBUG


338 
Sîül
.
	`¥öén
("FailedÅo send, dropped coord");

340  
DROPPED
;

342 #ifde‡
DEBUG


343 
Sîül
.
	`¥öén
("Succeded inÑetransmiting data");

345  
SUCCESS
;

346 
DROPPEDCOORD
:

348 if(
p
->
	`gësAddr
(Ë=
this
->
√xtH›
){

349 #ifde‡
DEBUG


350 
Sîül
.
	`¥öén
("Next hop dropped coord so I didás well");

352  
DROPPED
;

354  
IGNORED
;

355 
ASKFORCOORD
:

357 #ifde‡
DEBUG


358 
Sîül
.
	`¥öt
("Asked foráccess from: ");

359 
Sîül
.
	`¥öén
(
p
->
	`gësAddr
());

361 
ÁûedSíd
 = 0;

362 
	`¸óãPackë
(
IHAVECOORD
, 
this
->
myID
, 
p
->
	`gësAddr
(), 0, 
NULL
,Ö);

363 (
	`£ndPackë
(
p
Ë=
NOACK
Ë&& (
ÁûedSíd
 < 
DROPPEDPACKETTIMEOUT
)){

364 
ÁûedSíd
++;

367 if(
ÁûedSíd
 =
DROPPEDPACKETTIMEOUT
){

368 #ifde‡
DEBUG


369 
Sîül
.
	`¥öén
("FailedÅoÅell haveCoord");

371  
FAIL
;

373 #ifde‡
DEBUG


374 
Sîül
.
	`¥öén
("SuccededÅoÅell haveCoord");

376  
SUCCESS
;

378  
IGNORED
;

382 
›Code
){

383 
IAMCOORD
:

385 #ifde‡
DEBUG


386 
Sîül
.
	`¥öt
("New connection found: ");

387 
Sîül
.
	`¥öén
(
p
->
	`gësAddr
());

388 
Sîül
.
	`¥öt
("RSSI: ");

389 
Sîül
.
	`¥öén
(
p
->
	`gëRSSI
());

391 if(
p
->
	`gëRSSI
(Ë> 
MINRSSI
 &&Ö->gëRSSI(Ë>
cuºítRSSI
){

392 #ifde‡
DEBUG


393 
Sîül
.
	`¥öén
("ChooseÇewÇext hop");

395 
this
->
ªc⁄√˘ed
 = 
åue
;

396 
this
->
cuºítRSSI
 = 
p
->
	`gëRSSI
();

397 
this
->
√xtH›
 = 
p
->
	`gësAddr
();

398  
SUCCESS
;

400  
IGNORED
;

401 
IHAVECOORD
:

402 #ifde‡
DEBUG


403 
Sîül
.
	`¥öt
("New connection found: ");

404 
Sîül
.
	`¥öén
(
p
->
	`gësAddr
());

405 
Sîül
.
	`¥öt
("RSSI: ");

406 
Sîül
.
	`¥öén
(
p
->
	`gëRSSI
());

408 if(
p
->
	`gëRSSI
(Ë> 
MINRSSI
 &&Ö->gëRSSI(Ë>
cuºítRSSI
){

409 #ifde‡
DEBUG


410 
Sîül
.
	`¥öén
("ChooseÇewÇext hop");

412 
this
->
ªc⁄√˘ed
 = 
åue
;

413 
this
->
cuºítRSSI
 = 
p
->
	`gëRSSI
();

414 
this
->
√xtH›
 = 
p
->
	`gësAddr
();

415  
SUCCESS
;

417  
IGNORED
;

418 
DTRANSMISSION
:

420 
ÁûedSíd
 = 0;

421 
	`¸óãPackë
(
DROPPEDCOORD
, 
this
->
myID
, 
p
->
	`gësAddr
(), 0, 
NULL
,Ö);

422 (
	`£ndPackë
(
p
Ë=
NOACK
Ë&& (
ÁûedSíd
 < 
DROPPEDPACKETTIMEOUT
)){

423 
ÁûedSíd
++;

426 if(
ÁûedSíd
 =
DROPPEDPACKETTIMEOUT
){

427  
FAIL
;

429  
SUCCESS
;

431  
IGNORED
;

434 
	}
}

	@Network.h

40 
	~<RH_RF69.h
>

41 
	~<Packë.h
>

42 
	~<Queue.h
>

44 #i‚de‡
Nëw‹k_h


45 
	#Nëw‹k_h


	)

50 
	eªtVÆ
 { 
	mSUCCESS
,

51 
	mFAIL
,

52 
	mNOMESSAGE
,

53 
	mNOACK
,

54 
	mIGNORED
,

55 
	mDROPPED
 };

57 
	#DTRANSMISSION
 0x01

58 
	#DROPPEDCOORD
 0x02

59 
	#ASKFORCOORD
 0x03

60 
	#IHAVECOORD
 0x04

61 
	#IAMCOORD
 0x05

62 

	)

64 
	#MAXDATASIZE
 60

	)

65 
	#BROADCASTADDRESS
 255

	)

66 
	#DEFAULTWAITTIME
 10000

67 
	#COORDLISTENTIMEOUT
 650

	)

68 
	#ROUTERLISTENTIMEOUT
 255

	)

69 
	#LFCLISTENTIMEOUT
 30

70 

	)

71 
	#DROPPEDPACKETTIMEOUT
 5

72 
	#MINRSSI
 0

73 

	)

77 ˛as†
	cNëw‹k
 {

78 
	mpublic
:

80 
Nëw‹k
();

84 
öôNëw‹k
();

87 
runNëw‹k
();

90 
boﬁ
 
	$£ndOvîNëw‹k
(
d©a
){  
d©aQueue
.
	`íqueue
(data); };

93 
	$£tCo‹d
(Ë{
this
->
amCo‹d
 = 
åue
; 
	}
};

96 
	$£tNextH›
(
h›
Ë{ 
this
->
√xtH›
 = h›;Åhis->
haveCo‹d
 = 
åue
;
	}
};

99 
	$£tmyID
(
id
Ë{ 
this
->
myID
 = id; 
	}
};

102 
	g¥iv©e
:

104 
ªtVÆ
 
ªadPackë
(
Packë
* 
p
);

107 
ªtVÆ
 
£ndPackë
(
Packë
* 
p
);

110 
¸óãPackë
(
uöt8_t
 
›Code
, uöt8_à
sAddr
, uöt8_à
dAddr
, uöt8_à
dSize
, uöt8_à
d©a
[], 
Packë
* 
p
);

113 
boﬁ
 
	$checkIfCo‹d
(){  
this
->
amCo‹d
; 
	}
};

116 
lookF‹Co‹d
();

119 
foundCo‹d
();

122 
dr›≥dCo‹d
();

125 
ª˚ivedPackë
(
Packë
* 
p
);

129 
RH_RF69
 
	gødio
;

130 
uöt8_t
 
	gmyID
;

131 
boﬁ
 
	gu£Ack
 = 
åue
;

134 
uöt8_t
 
	g√tw‹kID
 = 0;

135 
uöt8_t
 
	g√xtH›
;

136 
uöt16_t
 
	gcuºítRSSI
 = 0;

137 
boﬁ
 
	ghaveCo‹d
 = 
Ál£
;

138 
boﬁ
 
	gamCo‹d
 = 
Ál£
;

139 
boﬁ
 
	gªc⁄√˘ed
 = 
Ál£
;

140 
	gnoPackëRe˚ived
;

141 
Queue
 
	gd©aQueue
;

	@Packet.h

18 #i‚de‡
PACKET_H


19 
	#PACKET_H


	)

20 
	#MAXDATASIZE
 60

	)

21 ˛as†
	cPackë
 {

22 
	mpublic
:

23 
	$Packë
(){}

26 
ölöe
 
uöt8_t
 
	$gë›Code
(Ë{  
›Code
; 
	}
}

27 
ölöe
 
uöt8_t
 
	$gësAddr
(Ë{  
sAddr
; 
	}
}

28 
ölöe
 
uöt8_t
 
	$gëdAddr
(Ë{  
dAddr
; 
	}
}

29 
ölöe
 
uöt8_t
 
	$gëdSize
(Ë{  
dSize
; 
	}
}

30 
ölöe
 
uöt8_t
 
	$gëD©a
(
ödex
Ë{  
d©a
[ödex]; 
	}
}

31 
ölöe
 
uöt16_t
 
	$gëRSSI
(Ë{  
RSSI
; 
	}
}

34 
ölöe
 
	$£t›Code
(
uöt8_t
 
code
Ë{ 
this
->
›Code
 = code; 
	}
}

35 
ölöe
 
	$£tsAddr
(
uöt8_t
 
sAddr
Ë{ 
this
->sAdd∏sAddr; 
	}
}

36 
ölöe
 
	$£tdAddr
(
uöt8_t
 
dAddr
Ë{ 
this
->dAdd∏dAddr; 
	}
}

37 
ölöe
 
	$£tdSize
(
uöt8_t
 
dSize
Ë{ 
this
->dSizêdSize; 
	}
}

38 
ölöe
 
	$£td©a
(
uöt8_t
 
d©a
, 
ödex
Ë{ 
this
->d©a[ödex] = d©a; 
	}
}

39 
ölöe
 
	$£tRSSI
(
uöt16_t
 
RSSI
Ë{ 
this
->RSSI = RSSI; 
	}
}

41 
	g¥iv©e
:

43 
uöt8_t
 
›Code
;

44 
uöt8_t
 
	gsAddr
;

45 
uöt8_t
 
	gdAddr
;

46 
uöt8_t
 
	gdSize
;

47 
uöt8_t
 
	gd©a
[
MAXDATASIZE
];

48 
uöt16_t
 
	gRSSI
;

	@Queue.cpp

19 
	~<Queue.h
>

21 
	gQueue
::
	$Queue
(){

22 
‰⁄tPå
 = 
nuŒ±r
;

23 
backPå
 = 
nuŒ±r
;

24 
cou¡
 = 0;

25 
	}
}

28 
boﬁ
 
	gQueue
::
	$isEm±y
()

30  (
cou¡
 == 0);

31 
	}
}

34 
boﬁ
 
	gQueue
::
	$íqueue
(
d©a
)

36 i‡(
cou¡
 < 
MAXQUEUESIZE
) {

37 
Node
* 
√wO√
 = 
√w
 Node;

38 
√wO√
->
d©e
 = 
d©a
;

39 
√wO√
->
√xt
 = 
nuŒ±r
;

40 i‡(
	`isEm±y
()) {

41 
‰⁄tPå
 = 
√wO√
;

44 
backPå
->
√xt
 = 
√wO√
;

46 
backPå
 = 
√wO√
;

47 
cou¡
++;

48  
åue
;

50  
Ál£
;

51 
	}
}

54 
	gQueue
::
	$dequeue
()

56 i‡(
	`isEm±y
()) {

60 
d©a
;

61 
Node
* 
ãmp
 = 
‰⁄tPå
;

62 i‡(
‰⁄tPå
 =
backPå
) {

63 
‰⁄tPå
 = 
nuŒ±r
;

64 
backPå
 = 
nuŒ±r
;

67 
‰⁄tPå
 = fr⁄tPå->
√xt
;

69 
d©a
 = 
ãmp
->
d©e
;

70 
dñëe
 
ãmp
;

71 
cou¡
--;

72  
d©a
;

74 
	}
}

	@Queue.h

20 #i‚de‡
QUEUE_H


21 
	#QUEUE_H


	)

22 
	#MAXQUEUESIZE
 100

24 

	)

25 ˛as†
	cQueue
{

26 
	mpublic
:

27 
Queue
();

28 
boﬁ
 
isEm±y
();

29 
boﬁ
 
íqueue
(
d©a
);

30 
dequeue
();

32 
	m¥iv©e
:

33 
	sNode
 {

34 
d©e
;

35 
Node
* 
	m√xt
;

38 
Node
* 
	g‰⁄tPå
;

39 
Node
* 
	gbackPå
;

40 
	gcou¡
;

	@RHCRC.cpp

43 
	~<RHCRC.h
>

45 
	#lo8
(
x
Ë((x)&0xff)

	)

46 
	#hi8
(
x
Ë((x)>>8)

	)

48 
uöt16_t
 
	$RH¸c16_upd©e
(
uöt16_t
 
¸c
, 
uöt8_t
 
a
)

50 
i
;

52 
¸c
 ^
a
;

53 
i
 = 0; i < 8; ++i)

55 i‡(
¸c
 & 1)

56 
¸c
 = (crc >> 1) ^ 0xA001;

58 
¸c
 = (crc >> 1);

60  
¸c
;

61 
	}
}

63 
uöt16_t
 
	$RH¸c_xmodem_upd©e
 (
uöt16_t
 
¸c
, 
uöt8_t
 
d©a
)

65 
i
;

67 
¸c
 = cr¯^ ((
uöt16_t
)
d©a
 << 8);

68 
i
=0; i<8; i++)

70 i‡(
¸c
 & 0x8000)

71 
¸c
 = (crc << 1) ^ 0x1021;

73 
¸c
 <<= 1;

76  
¸c
;

77 
	}
}

79 
uöt16_t
 
	$RH¸c_ccôt_upd©e
 (
uöt16_t
 
¸c
, 
uöt8_t
 
d©a
)

81 
d©a
 ^
	`lo8
 (
¸c
);

82 
d©a
 ^= data << 4;

84  ((((
uöt16_t
)
d©a
 << 8Ë| 
	`hi8
 (
¸c
)Ë^ (
uöt8_t
)(data >> 4)

85 ^ ((
uöt16_t
)
d©a
 << 3));

86 
	}
}

88 
uöt8_t
 
	$RH¸c_ibuâ⁄_upd©e
(
uöt8_t
 
¸c
, uöt8_à
d©a
)

90 
uöt8_t
 
i
;

92 
¸c
 = cr¯^ 
d©a
;

93 
i
 = 0; i < 8; i++)

95 i‡(
¸c
 & 0x01)

96 
¸c
 = (crc >> 1) ^ 0x8C;

98 
¸c
 >>= 1;

101  
¸c
;

102 
	}
}

	@RHCRC.h

9 #i‚de‡
RHCRC_h


10 
	#RHCRC_h


	)

12 
	~<RadioHód.h
>

14 
uöt16_t
 
RH¸c16_upd©e
(uöt16_à
¸c
, 
uöt8_t
 
a
);

15 
uöt16_t
 
RH¸c_xmodem_upd©e
 (uöt16_à
¸c
, 
uöt8_t
 
d©a
);

16 
uöt16_t
 
RH¸c_ccôt_upd©e
 (uöt16_à
¸c
, 
uöt8_t
 
d©a
);

17 
uöt8_t
 
RH¸c_ibuâ⁄_upd©e
(uöt8_à
¸c
, uöt8_à
d©a
);

	@RHDatagram.cpp

6 
	~<RHD©agøm.h
>

8 
	gRHD©agøm
::
	$RHD©agøm
(
RHGíîicDrivî
& 
drivî
, 
uöt8_t
 
thisAddªss
)

10 
	`_drivî
(
drivî
),

11 
	$_thisAddªss
(
thisAddªss
)

13 
	}
}

17 
boﬁ
 
	gRHD©agøm
::
	$öô
()

19 
boﬁ
 
ªt
 = 
_drivî
.
	`öô
();

20 i‡(
ªt
)

21 
	`£tThisAddªss
(
_thisAddªss
);

22  
ªt
;

23 
	}
}

25 
	gRHD©agøm
::
	$£tThisAddªss
(
uöt8_t
 
thisAddªss
)

27 
_drivî
.
	`£tThisAddªss
(
thisAddªss
);

29 
	`£tHódîFrom
(
thisAddªss
);

30 
_thisAddªss
 = 
thisAddªss
;

31 
	}
}

33 
boﬁ
 
	gRHD©agøm
::
	$£ndto
(
uöt8_t
* 
buf
, uöt8_à
Àn
, uöt8_à
addªss
)

35 
	`£tHódîTo
(
addªss
);

36  
åue
 ;

37 
	}
}

39 
boﬁ
 
	gRHD©agøm
::
	$ªcv‰om
(
uöt8_t
* 
buf
, uöt8_t* 
Àn
, uöt8_t* 
‰om
, uöt8_t* 
to
, uöt8_t* 
id
, uöt8_t* 
Êags
)

41 i‡(
_drivî
.
	`ªcv
(
buf
, 
Àn
))

43 i‡(
‰om
Ë*‰om = 
	`hódîFrom
();

44 i‡(
to
Ë*tÿ
	`hódîTo
();

45 i‡(
id
Ë*id = 
	`hódîId
();

46 i‡(
Êags
Ë*Êag†
	`hódîFœgs
();

47  
åue
;

49  
Ál£
;

50 
	}
}

52 
boﬁ
 
	gRHD©agøm
::
	$avaûabÀ
()

54  
_drivî
.
	`avaûabÀ
();

55 
	}
}

57 
	gRHD©agøm
::
	$waôAvaûabÀ
()

59 
_drivî
.
	`waôAvaûabÀ
();

60 
	}
}

62 
boﬁ
 
	gRHD©agøm
::
	$waôPackëSít
()

64  
_drivî
.
	`waôPackëSít
();

65 
	}
}

67 
boﬁ
 
	gRHD©agøm
::
	$waôPackëSít
(
uöt16_t
 
timeout
)

69  
_drivî
.
	`waôPackëSít
(
timeout
);

70 
	}
}

72 
boﬁ
 
	gRHD©agøm
::
	$waôAvaûabÀTimeout
(
uöt16_t
 
timeout
)

74  
_drivî
.
	`waôAvaûabÀTimeout
(
timeout
);

75 
	}
}

77 
uöt8_t
 
	gRHD©agøm
::
	$thisAddªss
()

79  
_thisAddªss
;

80 
	}
}

82 
	gRHD©agøm
::
	$£tHódîTo
(
uöt8_t
 
to
)

84 
_drivî
.
	`£tHódîTo
(
to
);

85 
	}
}

87 
	gRHD©agøm
::
	$£tHódîFrom
(
uöt8_t
 
‰om
)

89 
_drivî
.
	`£tHódîFrom
(
‰om
);

90 
	}
}

92 
	gRHD©agøm
::
	$£tHódîId
(
uöt8_t
 
id
)

94 
_drivî
.
	`£tHódîId
(
id
);

95 
	}
}

97 
	gRHD©agøm
::
	$£tHódîFœgs
(
uöt8_t
 
£t
, uöt8_à
˛ór
)

99 
_drivî
.
	`£tHódîFœgs
(
£t
, 
˛ór
);

100 
	}
}

102 
uöt8_t
 
	gRHD©agøm
::
	$hódîTo
()

104  
_drivî
.
	`hódîTo
();

105 
	}
}

107 
uöt8_t
 
	gRHD©agøm
::
	$hódîFrom
()

109  
_drivî
.
	`hódîFrom
();

110 
	}
}

112 
uöt8_t
 
	gRHD©agøm
::
	$hódîId
()

114  
_drivî
.
	`hódîId
();

115 
	}
}

117 
uöt8_t
 
	gRHD©agøm
::
	$hódîFœgs
()

119  
_drivî
.
	`hódîFœgs
();

120 
	}
}

	@RHDatagram.h

6 #i‚de‡
RHD©agøm_h


7 
	#RHD©agøm_h


	)

9 
	~<RHGíîicDrivî.h
>

13 
	#RH_MAX_MESSAGE_LEN
 255

	)

45 ˛as†
	cRHD©agøm


47 
	mpublic
:

51 
RHD©agøm
(
RHGíîicDrivî
& 
drivî
, 
uöt8_t
 
thisAddªss
 = 0);

55 
boﬁ
 
öô
();

62 
£tThisAddªss
(
uöt8_t
 
thisAddªss
);

71 
boﬁ
 
£ndto
(
uöt8_t
* 
buf
, uöt8_à
Àn
, uöt8_à
addªss
);

88 
boﬁ
 
ªcv‰om
(
uöt8_t
* 
buf
, uöt8_t* 
Àn
, uöt8_t* 
‰om
 = 
NULL
, uöt8_t* 
to
 = NULL, uöt8_t* 
id
 = NULL, uöt8_t* 
Êags
 = NULL);

96 
boﬁ
 
avaûabÀ
();

100 
waôAvaûabÀ
();

104 
boﬁ
 
waôPackëSít
();

110 
boﬁ
 
waôPackëSít
(
uöt16_t
 
timeout
);

115 
boﬁ
 
waôAvaûabÀTimeout
(
uöt16_t
 
timeout
);

119 
£tHódîTo
(
uöt8_t
 
to
);

123 
£tHódîFrom
(
uöt8_t
 
‰om
);

127 
£tHódîId
(
uöt8_t
 
id
);

132 
£tHódîFœgs
(
uöt8_t
 
£t
, uöt8_à
˛ór
 = 
RH_FLAGS_NONE
);

136 
uöt8_t
 
hódîTo
();

140 
uöt8_t
 
hódîFrom
();

144 
uöt8_t
 
hódîId
();

148 
uöt8_t
 
hódîFœgs
();

152 
uöt8_t
 
thisAddªss
();

154 
	m¥Ÿe˘ed
:

156 
RHGíîicDrivî
& 
_drivî
;

159 
uöt8_t
 
	m_thisAddªss
;

	@RHGenericDriver.cpp

6 
	~<RHGíîicDrivî.h
>

8 
	gRHGíîicDrivî
::
	$RHGíîicDrivî
()

10 
	`_mode
(
RHModeInôülisög
),

11 
	`_thisAddªss
(
RH_BROADCAST_ADDRESS
),

12 
	`_txHódîTo
(
RH_BROADCAST_ADDRESS
),

13 
	`_txHódîFrom
(
RH_BROADCAST_ADDRESS
),

14 
	`_txHódîId
(0),

15 
	`_txHódîFœgs
(0),

16 
	`_rxBad
(0),

17 
	`_rxGood
(0),

18 
	`_txGood
(0),

19 
	$_ˇd_timeout
(0)

21 
	}
}

23 
boﬁ
 
	gRHGíîicDrivî
::
	$öô
()

25  
åue
;

26 
	}
}

29 
	gRHGíîicDrivî
::
	$waôAvaûabÀ
()

31 !
	`avaûabÀ
())

32 
YIELD
;

33 
	}
}

38 
boﬁ
 
	gRHGíîicDrivî
::
	$waôAvaûabÀTimeout
(
uöt16_t
 
timeout
)

40 
°¨âime
 = 
	`mûlis
();

41 (
	`mûlis
(Ë- 
°¨âime
Ë< 
timeout
)

43 i‡(
	`avaûabÀ
())

45  
åue
;

47 
YIELD
;

49  
Ál£
;

50 
	}
}

52 
boﬁ
 
	gRHGíîicDrivî
::
	$waôPackëSít
()

54 
_mode
 =
RHModeTx
)

55 
YIELD
;

56  
åue
;

57 
	}
}

59 
boﬁ
 
	gRHGíîicDrivî
::
	$waôPackëSít
(
uöt16_t
 
timeout
)

61 
°¨âime
 = 
	`mûlis
();

62 (
	`mûlis
(Ë- 
°¨âime
Ë< 
timeout
)

64 i‡(
_mode
 !
RHModeTx
)

65  
åue
;

66 
YIELD
;

68  
Ál£
;

69 
	}
}

72 
boﬁ
 
	gRHGíîicDrivî
::
	$waôCAD
()

74 i‡(!
_ˇd_timeout
)

75  
åue
;

82 
t
 = 
	`mûlis
();

83 
	`isCh™√lA˘ive
())

85 i‡(
	`mûlis
(Ë- 
t
 > 
_ˇd_timeout
)

86  
Ál£
;

87 #i‡(
RH_PLATFORM
 =
RH_PLATFORM_STM32
)

88 
	`dñay
(
	`_øndom
(1, 10) * 100);

90 
	`dñay
(
	`øndom
(1, 10) * 100);

94  
åue
;

95 
	}
}

98 
boﬁ
 
	gRHGíîicDrivî
::
	$isCh™√lA˘ive
()

100  
Ál£
;

101 
	}
}

103 
	gRHGíîicDrivî
::
	$£tPromiscuous
(
boﬁ
 
¥omiscuous
)

105 
_¥omiscuous
 = 
¥omiscuous
;

106 
	}
}

108 
	gRHGíîicDrivî
::
	$£tThisAddªss
(
uöt8_t
 
addªss
)

110 
_thisAddªss
 = 
addªss
;

111 
	}
}

113 
	gRHGíîicDrivî
::
	$£tHódîTo
(
uöt8_t
 
to
)

115 
_txHódîTo
 = 
to
;

116 
	}
}

118 
	gRHGíîicDrivî
::
	$£tHódîFrom
(
uöt8_t
 
‰om
)

120 
_txHódîFrom
 = 
‰om
;

121 
	}
}

123 
	gRHGíîicDrivî
::
	$£tHódîId
(
uöt8_t
 
id
)

125 
_txHódîId
 = 
id
;

126 
	}
}

128 
	gRHGíîicDrivî
::
	$£tHódîFœgs
(
uöt8_t
 
£t
, uöt8_à
˛ór
)

130 
_txHódîFœgs
 &~
˛ór
;

131 
_txHódîFœgs
 |
£t
;

132 
	}
}

134 
uöt8_t
 
	gRHGíîicDrivî
::
	$hódîTo
()

136  
_rxHódîTo
;

137 
	}
}

139 
uöt8_t
 
	gRHGíîicDrivî
::
	$hódîFrom
()

141  
_rxHódîFrom
;

142 
	}
}

144 
uöt8_t
 
	gRHGíîicDrivî
::
	$hódîId
()

146  
_rxHódîId
;

147 
	}
}

149 
uöt8_t
 
	gRHGíîicDrivî
::
	$hódîFœgs
()

151  
_rxHódîFœgs
;

152 
	}
}

154 
öt8_t
 
	gRHGíîicDrivî
::
	$œ°Rssi
()

156  
_œ°Rssi
;

157 
	}
}

159 
	gRHGíîicDrivî
::
RHMode
 
RHGíîicDrivî
::
	$mode
()

161  
_mode
;

162 
	}
}

164 
	gRHGíîicDrivî
::
	$£tMode
(
RHMode
 
mode
)

166 
_mode
 = 
mode
;

167 
	}
}

169 
boﬁ
 
	gRHGíîicDrivî
::
	$¶ìp
()

171  
Ál£
;

172 
	}
}

175 
	gRHGíîicDrivî
::
	$¥ötBuf„r
(c⁄° * 
¥om±
, c⁄° 
uöt8_t
* 
buf
, uöt8_à
Àn
)

177 
uöt8_t
 
i
;

179 #ifde‡
RH_HAVE_SERIAL


180 
Sîül
.
	`¥öén
(
¥om±
);

181 
i
 = 0; i < 
Àn
; i++)

183 i‡(
i
 % 16 == 15)

184 
Sîül
.
	`¥öén
(
buf
[
i
], 
HEX
);

187 
Sîül
.
	`¥öt
(
buf
[
i
], 
HEX
);

188 
Sîül
.
	`¥öt
(' ');

191 
Sîül
.
	`¥öén
("");

193 
	}
}

195 
uöt16_t
 
	gRHGíîicDrivî
::
	$rxBad
()

197  
_rxBad
;

198 
	}
}

200 
uöt16_t
 
	gRHGíîicDrivî
::
	$rxGood
()

202  
_rxGood
;

203 
	}
}

205 
uöt16_t
 
	gRHGíîicDrivî
::
	$txGood
()

207  
_txGood
;

208 
	}
}

210 
	gRHGíîicDrivî
::
	$£tCADTimeout
(
ˇd_timeout
)

212 
_ˇd_timeout
 = 
ˇd_timeout
;

213 
	}
}

215 #i‡(
RH_PLATFORM
 =
RH_PLATFORM_ARDUINO
Ë&& 
deföed
(
RH_PLATFORM_ATTINY
)

218 "C" 
	$__cxa_puª_vútuÆ
()

221 
	}
}

	@RHGenericDriver.h

6 #i‚de‡
RHGíîicDrivî_h


7 
	#RHGíîicDrivî_h


	)

9 
	~<RadioHód.h
>

13 
	#RH_FLAGS_RESERVED
 0xf0

	)

14 
	#RH_FLAGS_APPLICATION_SPECIFIC
 0x0f

	)

15 
	#RH_FLAGS_NONE
 0

	)

18 
	#RH_CAD_DEFAULT_TIMEOUT
 10000

	)

41 ˛as†
	cRHGíîicDrivî


43 
	mpublic
:

50 
RHModeInôülisög
 = 0,

51 
	mRHModeSÀï
,

52 
	mRHModeIdÀ
,

53 
	mRHModeTx
,

54 
	mRHModeRx
,

55 
	mRHModeCad


56 } 
	tRHMode
;

59 
RHGíîicDrivî
();

64 
vútuÆ
 
boﬁ
 
öô
();

73 
vútuÆ
 
boﬁ
 
avaûabÀ
() = 0;

84 
vútuÆ
 
boﬁ
 
ªcv
(
uöt8_t
* 
buf
, uöt8_t* 
Àn
) = 0;

101 
vútuÆ
 
uöt8_t
 
maxMesßgeLígth
() = 0;

105 
vútuÆ
 
waôAvaûabÀ
();

109 
vútuÆ
 
boﬁ
 
waôPackëSít
();

115 
vútuÆ
 
boﬁ
 
waôPackëSít
(
uöt16_t
 
timeout
);

120 
vútuÆ
 
boﬁ
 
waôAvaûabÀTimeout
(
uöt16_t
 
timeout
);

135 
vútuÆ
 
boﬁ
 
waôCAD
();

140 
£tCADTimeout
(
ˇd_timeout
);

149 
vútuÆ
 
boﬁ
 
isCh™√lA˘ive
();

160 
vútuÆ
 
£tThisAddªss
(
uöt8_t
 
thisAddªss
);

164 
vútuÆ
 
£tHódîTo
(
uöt8_t
 
to
);

168 
vútuÆ
 
£tHódîFrom
(
uöt8_t
 
‰om
);

172 
vútuÆ
 
£tHódîId
(
uöt8_t
 
id
);

181 
vútuÆ
 
£tHódîFœgs
(
uöt8_t
 
£t
, uöt8_à
˛ór
 = 
RH_FLAGS_APPLICATION_SPECIFIC
);

186 
vútuÆ
 
£tPromiscuous
(
boﬁ
 
¥omiscuous
);

190 
vútuÆ
 
uöt8_t
 
hódîTo
();

194 
vútuÆ
 
uöt8_t
 
hódîFrom
();

198 
vútuÆ
 
uöt8_t
 
hódîId
();

202 
vútuÆ
 
uöt8_t
 
hódîFœgs
();

208 
öt8_t
 
œ°Rssi
();

212 
RHMode
 
mode
();

215 
£tMode
(
RHMode
 
mode
);

223 
vútuÆ
 
boﬁ
 
¶ìp
();

230 
¥ötBuf„r
(c⁄° * 
¥om±
, c⁄° 
uöt8_t
* 
buf
, uöt8_à
Àn
);

237 
uöt16_t
 
rxBad
();

242 
uöt16_t
 
rxGood
();

247 
uöt16_t
 
txGood
();

249 
	g¥Ÿe˘ed
:

252 vﬁ©ûê
RHMode
 
_mode
;

255 
uöt8_t
 
	g_thisAddªss
;

258 
boﬁ
 
	g_¥omiscuous
;

261 vﬁ©ûê
uöt8_t
 
	g_rxHódîTo
;

264 vﬁ©ûê
uöt8_t
 
	g_rxHódîFrom
;

267 vﬁ©ûê
uöt8_t
 
	g_rxHódîId
;

270 vﬁ©ûê
uöt8_t
 
	g_rxHódîFœgs
;

273 
uöt8_t
 
	g_txHódîTo
;

276 
uöt8_t
 
	g_txHódîFrom
;

279 
uöt8_t
 
	g_txHódîId
;

282 
uöt8_t
 
	g_txHódîFœgs
;

285 vﬁ©ûê
öt8_t
 
	g_œ°Rssi
;

288 vﬁ©ûê
uöt16_t
 
	g_rxBad
;

291 vﬁ©ûê
uöt16_t
 
	g_rxGood
;

294 vﬁ©ûê
uöt16_t
 
	g_txGood
;

297 vﬁ©ûê
boﬁ
 
	g_ˇd
;

300 
	g_ˇd_timeout
;

302 
	g¥iv©e
:

	@RHGenericSPI.cpp

7 
	~<RHGíîicSPI.h
>

9 
	gRHGíîicSPI
::
	$RHGíîicSPI
(
Fªquícy
 
‰equícy
, 
BôOrdî
 
bôOrdî
, 
D©aMode
 
d©aMode
)

11 
	`_‰equícy
(
‰equícy
),

12 
	`_bôOrdî
(
bôOrdî
),

13 
	$_d©aMode
(
d©aMode
)

15 
	}
}

17 
	gRHGíîicSPI
::
	$£tBôOrdî
(
BôOrdî
 
bôOrdî
)

19 
_bôOrdî
 = 
bôOrdî
;

20 
	}
}

22 
	gRHGíîicSPI
::
	$£tD©aMode
(
D©aMode
 
d©aMode
)

24 
_d©aMode
 = 
d©aMode
;

25 
	}
}

27 
	gRHGíîicSPI
::
	$£tFªquícy
(
Fªquícy
 
‰equícy
)

29 
_‰equícy
 = 
‰equícy
;

30 
	}
}

	@RHGenericSPI.h

7 #i‚de‡
RHGíîicSPI_h


8 
	#RHGíîicSPI_h


	)

10 
	~<SPI.h
>

11 
	~<RadioHód.h
>

31 ˛as†
	cRHGíîicSPI


33 
	mpublic
:

43 
D©aMode0
 = 0,

44 
	mD©aMode1
,

45 
	mD©aMode2
,

46 
	mD©aMode3
,

47 } 
	tD©aMode
;

58 
	gFªquícy1MHz
 = 0,

59 
	gFªquícy2MHz
,

60 
	gFªquícy4MHz
,

61 
	gFªquícy8MHz
,

62 
	gFªquícy16MHz


63 } 
	tFªquícy
;

73 
	gBôOrdîMSBFú°
 = 0,

74 
	gBôOrdîLSBFú°
,

75 } 
	tBôOrdî
;

86 
RHGíîicSPI
(
Fªquícy
 
‰equícy
 = 
Fªquícy1MHz
, 
BôOrdî
 
bôOrdî
 = 
BôOrdîMSBFú°
, 
D©aMode
 
d©aMode
 = 
D©aMode0
);

91 
vútuÆ
 
uöt8_t
 
å™s„r
(uöt8_à
d©a
) = 0;

96 
vútuÆ
 
	$©èchI¡îru±
(Ë{
	}
};

100 
vútuÆ
 
	$dëachI¡îru±
(Ë{
	}
};

104 
vútuÆ
 
begö
() = 0;

108 
vútuÆ
 
íd
() = 0;

114 
vútuÆ
 
£tBôOrdî
(
BôOrdî
 
bôOrdî
);

119 
vútuÆ
 
£tD©aMode
(
D©aMode
 
d©aMode
);

126 
vútuÆ
 
£tFªquícy
(
Fªquícy
 
‰equícy
);

128 
	g¥Ÿe˘ed
:

130 
Fªquícy
 
_‰equícy
;

133 
BôOrdî
 
	g_bôOrdî
;

136 
D©aMode
 
	g_d©aMode
;

139 
	gpublic
:

140 #i‡
	$deföed
(
SPI_HAS_TRANSACTION
)

145 
SPISëtögs
 
_£âögs
;

147 
	}
};

	@RHHardwareSPI.cpp

7 
	~<RHH¨dw¨eSPI.h
>

10 
RHH¨dw¨eSPI
 
	gh¨dw¨e_•i
;

12 #ifde‡
RH_HAVE_HARDWARE_SPI


14 #i‡(
RH_PLATFORM
 =
RH_PLATFORM_STM32
)

16 
H¨dw¨eSPI
 
SPI
(1);

17 #ñi‡(
RH_PLATFORM
 =
RH_PLATFORM_STM32STD
)

19 
H¨dw¨eSPI
 
SPI
(1);

25 #i‡
deföed
 (
__¨m__
Ë&& !deföed(
CORE_TEENSY
Ë&& !deföed(
SPI_CLOCK_DIV16
)

28 
	#SPI_CLOCK_DIV16
 (
VARIANT_MCK
/84000000)

29 
	#SPI_CLOCK_DIV8
 (
VARIANT_MCK
/42000000)

30 
	#SPI_CLOCK_DIV4
 (
VARIANT_MCK
/21000000)

31 
	#SPI_CLOCK_DIV2
 (
VARIANT_MCK
/10500000)

32 
	#SPI_CLOCK_DIV1
 (
VARIANT_MCK
/5250000)

34 

	)

35 
	gRHH¨dw¨eSPI
::
	$RHH¨dw¨eSPI
(
Fªquícy
 
‰equícy
, 
BôOrdî
 
bôOrdî
, 
D©aMode
 
d©aMode
)

37 
	$RHGíîicSPI
(
‰equícy
, 
bôOrdî
, 
d©aMode
)

39 
	}
}

41 
uöt8_t
 
	gRHH¨dw¨eSPI
::
	$å™s„r
(
uöt8_t
 
d©a
)

43 
uöt8_t
 
r
 = 
SPI
.
	`å™s„r
(
d©a
);

45  
r
;

46 
	}
}

48 
	gRHH¨dw¨eSPI
::
	$©èchI¡îru±
()

50 #i‡(
RH_PLATFORM
 =
RH_PLATFORM_ARDUINO
)

51 
SPI
.
	`©èchI¡îru±
();

53 
	}
}

55 
	gRHH¨dw¨eSPI
::
	$dëachI¡îru±
()

57 #i‡(
RH_PLATFORM
 =
RH_PLATFORM_ARDUINO
)

58 
SPI
.
	`dëachI¡îru±
();

60 
	}
}

62 
	gRHH¨dw¨eSPI
::
	$begö
()

65 #i‡
	`deföed
(
SPI_HAS_TRANSACTION
)

66 
uöt32_t
 
‰equícy32
;

67 i‡(
_‰equícy
 =
Fªquícy16MHz
) {

68 
‰equícy32
 = 16000000;

69 } i‡(
_‰equícy
 =
Fªquícy8MHz
) {

70 
‰equícy32
 = 8000000;

71 } i‡(
_‰equícy
 =
Fªquícy4MHz
) {

72 
‰equícy32
 = 4000000;

73 } i‡(
_‰equícy
 =
Fªquícy2MHz
) {

74 
‰equícy32
 = 2000000;

76 
‰equícy32
 = 1000000;

79 #i‡(
RH_PLATFORM
 =
RH_PLATFORM_ARDUINO
Ë&& 
	`deföed
 (
__¨m__
Ë&& (deföed(
ARDUINO_SAM_DUE
Ë|| deföed(
ARDUINO_ARCH_SAMD
))

82 ::
BôOrdî
 
bOrdî
;

84 
uöt8_t
 
bOrdî
;

87 i‡(
_bôOrdî
 =
BôOrdîLSBFú°
) {

88 
bOrdî
 = 
LSBFIRST
;

90 
bOrdî
 = 
MSBFIRST
;

92 
uöt8_t
 
d©aMode
;

93 i‡(
_d©aMode
 =
D©aMode0
)

94 
d©aMode
 = 
SPI_MODE0
;

95 i‡(
_d©aMode
 =
D©aMode1
)

96 
d©aMode
 = 
SPI_MODE1
;

97 i‡(
_d©aMode
 =
D©aMode2
)

98 
d©aMode
 = 
SPI_MODE2
;

99 i‡(
_d©aMode
 =
D©aMode3
)

100 
d©aMode
 = 
SPI_MODE3
;

102 
d©aMode
 = 
SPI_MODE0
;

104 
_£âögs
 = 
	`SPISëtögs
(
‰equícy32
, 
bOrdî
, 
d©aMode
);

107 
SPI
.
	`begö
();

426 
	}
}

428 
	gRHH¨dw¨eSPI
::
	$íd
()

430  
SPI
.
	`íd
();

431 
	}
}

	@RHHardwareSPI.h

7 #i‚de‡
RHH¨dw¨eSPI_h


8 
	#RHH¨dw¨eSPI_h


	)

10 
	~<SPI.h
>

12 
	~<RHGíîicSPI.h
>

20 ˛as†
	cRHH¨dw¨eSPI
 : 
public
 
RHGíîicSPI


22 #ifde‡
RH_HAVE_HARDWARE_SPI


23 
public
:

32 
RHH¨dw¨eSPI
(
Fªquícy
 
‰equícy
 = 
Fªquícy1MHz
, 
BôOrdî
 
bôOrdî
 = 
BôOrdîMSBFú°
, 
D©aMode
 
d©aMode
 = 
D©aMode0
);

37 
uöt8_t
 
å™s„r
(uöt8_à
d©a
);

43 
©èchI¡îru±
();

47 
dëachI¡îru±
();

52 
begö
();

56 
íd
();

59 
uöt8_t
 
	$å™s„r
(
uöt8_t
 ) { 0;}

60 
	$begö
(){
	}
}

61 
	$íd
(){
	}
}

67 
RHH¨dw¨eSPI
 
h¨dw¨e_•i
;

	@RHMesh.cpp

14 
	~<RHMesh.h
>

16 
uöt8_t
 
	gRHMesh
::
_tmpMesßge
[
RH_ROUTER_MAX_MESSAGE_LEN
];

20 
	gRHMesh
::
	$RHMesh
(
RHGíîicDrivî
& 
drivî
, 
uöt8_t
 
thisAddªss
)

21 : 
	$RHRouãr
(
drivî
, 
thisAddªss
)

23 
	}
}

31 
uöt8_t
 
	gRHMesh
::
	$£ndtoWaô
(
uöt8_t
* 
buf
, uöt8_à
Àn
, uöt8_à
addªss
, uöt8_à
Êags
)

33 i‡(
Àn
 > 
RH_MESH_MAX_MESSAGE_LEN
)

34  
RH_ROUTER_ERROR_INVALID_LENGTH
;

36 i‡(
addªss
 !
RH_BROADCAST_ADDRESS
)

38 
RoutögTabÀE¡ry
* 
rouã
 = 
	`gëRouãTo
(
addªss
);

39 i‡(!
rouã
 && !
	`doAΩ
(
addªss
))

40  
RH_ROUTER_ERROR_NO_ROUTE
;

44 
MeshAµliˇti⁄Mesßge
* 
a
 = (MeshAµliˇti⁄Mesßge*)&
_tmpMesßge
;

45 
a
->
hódî
.
msgTy≥
 = 
RH_MESH_MESSAGE_TYPE_APPLICATION
;

46 
	`mem˝y
(
a
->
d©a
, 
buf
, 
Àn
);

47  
RHRouãr
::
	`£ndtoWaô
(
_tmpMesßge
, (
RHMesh
::
MeshMesßgeHódî
Ë+ 
Àn
, 
addªss
, 
Êags
);

48 
	}
}

51 
boﬁ
 
	gRHMesh
::
	$doAΩ
(
uöt8_t
 
addªss
)

55 
MeshRouãDiscovîyMesßge
* 
p
 = (MeshRouãDiscovîyMesßge*)&
_tmpMesßge
;

56 
p
->
hódî
.
msgTy≥
 = 
RH_MESH_MESSAGE_TYPE_ROUTE_DISCOVERY_REQUEST
;

57 
p
->
de°Àn
 = 1;

58 
p
->
de°
 = 
addªss
;

59 
uöt8_t
 
îr‹
 = 
RHRouãr
::
	`£ndtoWaô
((uöt8_t*)
p
, (
RHMesh
::
MeshMesßgeHódî
Ë+ 2, 
RH_BROADCAST_ADDRESS
);

60 i‡(
îr‹
 !
RH_ROUTER_ERROR_NONE
)

61  
Ál£
;

65 
uöt8_t
 
mesßgeLí
 = (
_tmpMesßge
);

67 
°¨âime
 = 
	`mûlis
();

68 
öt32_t
 
timeLe·
;

69 (
timeLe·
 = 
RH_MESH_ARP_TIMEOUT
 - (
	`mûlis
(Ë- 
°¨âime
)) > 0)

71 i‡(
	`waôAvaûabÀTimeout
(
timeLe·
))

73 i‡(
RHRouãr
::
	`ªcv‰omAck
(
_tmpMesßge
, &
mesßgeLí
))

75 i‡–
mesßgeLí
 > 1

76 && 
p
->
hódî
.
msgTy≥
 =
RH_MESH_MESSAGE_TYPE_ROUTE_DISCOVERY_RESPONSE
)

80 
	`addRouãTo
(
addªss
, 
	`hódîFrom
());

81  
åue
;

85 
YIELD
;

87  
Ál£
;

88 
	}
}

92 
	gRHMesh
::
	$≥ekAtMesßge
(
RouãdMesßge
* 
mesßge
, 
uöt8_t
 
mesßgeLí
)

94 
MeshMesßgeHódî
* 
m
 = (MeshMesßgeHódî*)
mesßge
->
d©a
;

95 i‡–
mesßgeLí
 > 1

96 && 
m
->
msgTy≥
 =
RH_MESH_MESSAGE_TYPE_ROUTE_DISCOVERY_RESPONSE
)

101 
MeshRouãDiscovîyMesßge
* 
d
 = (MeshRouãDiscovîyMesßge*)
mesßge
->
d©a
;

102 
	`addRouãTo
(
d
->
de°
, 
	`hódîFrom
());

103 
uöt8_t
 
numRouãs
 = 
mesßgeLí
 - (
RouãdMesßgeHódî
Ë- (
MeshMesßgeHódî
) - 2;

104 
uöt8_t
 
i
;

106 
i
 = 0; i < 
numRouãs
; i++)

107 i‡(
d
->
rouã
[
i
] =
_thisAddªss
)

109 
i
++;

110 
i
++ < 
numRouãs
)

111 
	`addRouãTo
(
d
->
rouã
[
i
], 
	`hódîFrom
());

113 i‡–
mesßgeLí
 > 1

114 && 
m
->
msgTy≥
 =
RH_MESH_MESSAGE_TYPE_ROUTE_FAILURE
)

116 
MeshRouãFaûuªMesßge
* 
d
 = (MeshRouãFaûuªMesßge*)
mesßge
->
d©a
;

117 
	`dñëeRouãTo
(
d
->
de°
);

119 
	}
}

123 
uöt8_t
 
	gRHMesh
::
	$rouã
(
RouãdMesßge
* 
mesßge
, 
uöt8_t
 
mesßgeLí
)

125 
uöt8_t
 
‰om
 = 
	`hódîFrom
();

126 
uöt8_t
 
ªt
 = 
RHRouãr
::
	`rouã
(
mesßge
, 
mesßgeLí
);

127 i‡–
ªt
 =
RH_ROUTER_ERROR_NO_ROUTE


128 || 
ªt
 =
RH_ROUTER_ERROR_UNABLE_TO_DELIVER
)

131 
	`dñëeRouãTo
(
mesßge
->
hódî
.
de°
);

132 i‡(
mesßge
->
hódî
.
sour˚
 !
_thisAddªss
)

135 
MeshRouãFaûuªMesßge
* 
p
 = (MeshRouãFaûuªMesßge*)&
_tmpMesßge
;

136 
p
->
hódî
.
msgTy≥
 = 
RH_MESH_MESSAGE_TYPE_ROUTE_FAILURE
;

137 
p
->
de°
 = 
mesßge
->
hódî
.dest;

139 
	`addRouãTo
(
mesßge
->
hódî
.
sour˚
, 
‰om
);

140 
ªt
 = 
RHRouãr
::
	`£ndtoWaô
((
uöt8_t
*)
p
, (
RHMesh
::
MeshMesßgeHódî
Ë+ 1, 
mesßge
->
hódî
.
sour˚
);

143  
ªt
;

144 
	}
}

148 
boﬁ
 
	gRHMesh
::
	$isPhysiˇlAddªss
(
uöt8_t
* 
addªss
, uöt8_à
addªs¶í
)

151  
addªs¶í
 =1 && 
addªss
[0] =
_thisAddªss
;

152 
	}
}

155 
boﬁ
 
	gRHMesh
::
	$ªcv‰omAck
(
uöt8_t
* 
buf
, uöt8_t* 
Àn
, uöt8_t* 
sour˚
, uöt8_t* 
de°
, uöt8_t* 
id
, uöt8_t* 
Êags
)

157 
uöt8_t
 
tmpMesßgeLí
 = (
_tmpMesßge
);

158 
uöt8_t
 
_sour˚
;

159 
uöt8_t
 
_de°
;

160 
uöt8_t
 
_id
;

161 
uöt8_t
 
_Êags
;

162 i‡(
RHRouãr
::
	`ªcv‰omAck
(
_tmpMesßge
, &
tmpMesßgeLí
, &
_sour˚
, &
_de°
, &
_id
, &
_Êags
))

164 
MeshMesßgeHódî
* 
p
 = (MeshMesßgeHódî*)&
_tmpMesßge
;

166 i‡–
tmpMesßgeLí
 >= 1

167 && 
p
->
msgTy≥
 =
RH_MESH_MESSAGE_TYPE_APPLICATION
)

169 
MeshAµliˇti⁄Mesßge
* 
a
 = (MeshAµliˇti⁄Mesßge*)
p
;

171 i‡(
sour˚
Ë*sour˚ = 
_sour˚
;

172 i‡(
de°
Ë*de° = 
_de°
;

173 i‡(
id
Ë*id = 
_id
;

174 i‡(
Êags
Ë*Êag†
_Êags
;

175 
uöt8_t
 
msgLí
 = 
tmpMesßgeLí
 - (
MeshMesßgeHódî
);

176 i‡(*
Àn
 > 
msgLí
)

177 *
Àn
 = 
msgLí
;

178 
	`mem˝y
(
buf
, 
a
->
d©a
, *
Àn
);

180  
åue
;

182 i‡–
_de°
 =
RH_BROADCAST_ADDRESS


183 && 
tmpMesßgeLí
 > 1

184 && 
p
->
msgTy≥
 =
RH_MESH_MESSAGE_TYPE_ROUTE_DISCOVERY_REQUEST
)

186 
MeshRouãDiscovîyMesßge
* 
d
 = (MeshRouãDiscovîyMesßge*)
p
;

190 i‡(
_sour˚
 =
_thisAddªss
)

191  
Ál£
;

193 
uöt8_t
 
numRouãs
 = 
tmpMesßgeLí
 - (
MeshMesßgeHódî
) - 2;

194 
uöt8_t
 
i
;

196 
i
 = 0; i < 
numRouãs
; i++)

197 i‡(
d
->
rouã
[
i
] =
_thisAddªss
)

198  
Ál£
;

201 
	`addRouãTo
(
_sour˚
, 
	`hódîFrom
());

202 
i
 = 0; i < 
numRouãs
; i++)

203 
	`addRouãTo
(
d
->
rouã
[
i
], 
	`hódîFrom
());

204 i‡(
	`isPhysiˇlAddªss
(&
d
->
de°
, d->
de°Àn
))

209 
d
->
hódî
.
msgTy≥
 = 
RH_MESH_MESSAGE_TYPE_ROUTE_DISCOVERY_RESPONSE
;

210 
RHRouãr
::
	`£ndtoWaô
((
uöt8_t
*)
d
, 
tmpMesßgeLí
, 
_sour˚
);

212 i‡(
i
 < 
_max_h›s
)

215 
d
->
rouã
[
numRouãs
] = 
_thisAddªss
;

216 
tmpMesßgeLí
++;

219 
RHRouãr
::
	`£ndtoFromSour˚Waô
(
_tmpMesßge
, 
tmpMesßgeLí
, 
RH_BROADCAST_ADDRESS
, 
_sour˚
);

223  
Ál£
;

224 
	}
}

227 
boﬁ
 
	gRHMesh
::
	$ªcv‰omAckTimeout
(
uöt8_t
* 
buf
, uöt8_t* 
Àn
, 
uöt16_t
 
timeout
, uöt8_t* 
‰om
, uöt8_t* 
to
, uöt8_t* 
id
, uöt8_t* 
Êags
)

229 
°¨âime
 = 
	`mûlis
();

230 
öt32_t
 
timeLe·
;

231 (
timeLe·
 = 
timeout
 - (
	`mûlis
(Ë- 
°¨âime
)) > 0)

233 i‡(
	`waôAvaûabÀTimeout
(
timeLe·
))

235 i‡(
	`ªcv‰omAck
(
buf
, 
Àn
, 
‰om
, 
to
, 
id
, 
Êags
))

236  
åue
;

237 
YIELD
;

240  
Ál£
;

241 
	}
}

	@RHMesh.h

7 #i‚de‡
RHMesh_h


8 
	#RHMesh_h


	)

10 
	~<RHRouãr.h
>

13 
	#RH_MESH_MESSAGE_TYPE_APPLICATION
 0

	)

14 
	#RH_MESH_MESSAGE_TYPE_ROUTE_DISCOVERY_REQUEST
 1

	)

15 
	#RH_MESH_MESSAGE_TYPE_ROUTE_DISCOVERY_RESPONSE
 2

	)

16 
	#RH_MESH_MESSAGE_TYPE_ROUTE_FAILURE
 3

	)

19 
	#RH_MESH_ARP_TIMEOUT
 4000

	)

115 ˛as†
	cRHMesh
 : 
public
 
RHRouãr


117 
public
:

120 
	#RH_MESH_MAX_MESSAGE_LEN
 (
RH_ROUTER_MAX_MESSAGE_LEN
 - (
RHMesh
::
MeshMesßgeHódî
))

	)

125 
uöt8_t
 
msgTy≥
;

126 } 
	tMeshMesßgeHódî
;

131 
MeshMesßgeHódî
 
hódî
;

132 
uöt8_t
 
d©a
[
RH_MESH_MAX_MESSAGE_LEN
];

133 
	}
} 
	tMeshAµliˇti⁄Mesßge
;

138 
MeshMesßgeHódî
 
	ghódî
;

139 
uöt8_t
 
	gde°Àn
;

140 
uöt8_t
 
	gde°
;

141 
uöt8_t
 
	grouã
[
RH_MESH_MAX_MESSAGE_LEN
 - 1];

142 } 
	tMeshRouãDiscovîyMesßge
;

147 
MeshMesßgeHódî
 
	ghódî
;

148 
uöt8_t
 
	gde°
;

149 } 
	tMeshRouãFaûuªMesßge
;

154 
RHMesh
(
RHGíîicDrivî
& 
drivî
, 
uöt8_t
 
thisAddªss
 = 0);

175 
uöt8_t
 
£ndtoWaô
(uöt8_t* 
buf
, uöt8_à
Àn
, uöt8_à
de°
, uöt8_à
Êags
 = 0);

199 
boﬁ
 
ªcv‰omAck
(
uöt8_t
* 
buf
, uöt8_t* 
Àn
, uöt8_t* 
sour˚
 = 
NULL
, uöt8_t* 
de°
 = NULL, uöt8_t* 
id
 = NULL, uöt8_t* 
Êags
 = NULL);

214 
boﬁ
 
ªcv‰omAckTimeout
(
uöt8_t
* 
buf
, uöt8_t* 
Àn
, 
uöt16_t
 
timeout
, uöt8_t* 
sour˚
 = 
NULL
, uöt8_t* 
de°
 = NULL, uöt8_t* 
id
 = NULL, uöt8_t* 
Êags
 = NULL);

216 
	g¥Ÿe˘ed
:

222 
vútuÆ
 
≥ekAtMesßge
(
RouãdMesßge
* 
mesßge
, 
uöt8_t
 
mesßgeLí
);

229 
vútuÆ
 
uöt8_t
 
rouã
(
RouãdMesßge
* 
mesßge
, uöt8_à
mesßgeLí
);

236 
vútuÆ
 
boﬁ
 
doAΩ
(
uöt8_t
 
addªss
);

248 
vútuÆ
 
boﬁ
 
isPhysiˇlAddªss
(
uöt8_t
* 
addªss
, uöt8_à
addªs¶í
);

250 
	g¥iv©e
:

252 
uöt8_t
 
_tmpMesßge
[
RH_ROUTER_MAX_MESSAGE_LEN
];

	@RHNRFSPIDriver.cpp

6 
	~<RHNRFSPIDrivî.h
>

8 
	gRHNRFSPIDrivî
::
	$RHNRFSPIDrivî
(
uöt8_t
 
¶aveSñe˘Pö
, 
RHGíîicSPI
& 
•i
)

10 
	`_•i
(
•i
),

11 
	$_¶aveSñe˘Pö
(
¶aveSñe˘Pö
)

13 
	}
}

15 
boﬁ
 
	gRHNRFSPIDrivî
::
	$öô
()

19 
_•i
.
	`begö
();

23 
	`pöMode
(
_¶aveSñe˘Pö
, 
OUTPUT
);

24 
	`digôÆWrôe
(
_¶aveSñe˘Pö
, 
HIGH
);

26 
	`dñay
(100);

27  
åue
;

28 
	}
}

31 
uöt8_t
 
	gRHNRFSPIDrivî
::
	$•iComm™d
(
uöt8_t
 
comm™d
)

33 
uöt8_t
 
°©us
;

34 
ATOMIC_BLOCK_START
;

35 
	`digôÆWrôe
(
_¶aveSñe˘Pö
, 
LOW
);

36 
°©us
 = 
_•i
.
	`å™s„r
(
comm™d
);

37 
	`digôÆWrôe
(
_¶aveSñe˘Pö
, 
HIGH
);

38 
ATOMIC_BLOCK_END
;

39  
°©us
;

40 
	}
}

42 
uöt8_t
 
	gRHNRFSPIDrivî
::
	$•iRód
(
uöt8_t
 
ªg
)

44 
uöt8_t
 
vÆ
;

45 
ATOMIC_BLOCK_START
;

46 
	`digôÆWrôe
(
_¶aveSñe˘Pö
, 
LOW
);

47 
_•i
.
	`å™s„r
(
ªg
);

48 
vÆ
 = 
_•i
.
	`å™s„r
(0);

49 
	`digôÆWrôe
(
_¶aveSñe˘Pö
, 
HIGH
);

50 
ATOMIC_BLOCK_END
;

51  
vÆ
;

52 
	}
}

54 
uöt8_t
 
	gRHNRFSPIDrivî
::
	$•iWrôe
(
uöt8_t
 
ªg
, uöt8_à
vÆ
)

56 
uöt8_t
 
°©us
 = 0;

57 
ATOMIC_BLOCK_START
;

58 
	`digôÆWrôe
(
_¶aveSñe˘Pö
, 
LOW
);

59 
°©us
 = 
_•i
.
	`å™s„r
(
ªg
);

60 
_•i
.
	`å™s„r
(
vÆ
);

61 #i‡(
RH_PLATFORM
 =
RH_PLATFORM_ARDUINO
Ë&& 
	`deföed
(
__¨m__
Ë&& deföed(
CORE_TEENSY
)

65 
	`dñayMi¸o£c⁄ds
(5);

67 
	`digôÆWrôe
(
_¶aveSñe˘Pö
, 
HIGH
);

68 
ATOMIC_BLOCK_END
;

69  
°©us
;

70 
	}
}

72 
uöt8_t
 
	gRHNRFSPIDrivî
::
	$•iBur°Ród
(
uöt8_t
 
ªg
, uöt8_t* 
de°
, uöt8_à
Àn
)

74 
uöt8_t
 
°©us
 = 0;

75 
ATOMIC_BLOCK_START
;

76 
	`digôÆWrôe
(
_¶aveSñe˘Pö
, 
LOW
);

77 
°©us
 = 
_•i
.
	`å™s„r
(
ªg
);

78 
Àn
--)

79 *
de°
++ = 
_•i
.
	`å™s„r
(0);

80 
	`digôÆWrôe
(
_¶aveSñe˘Pö
, 
HIGH
);

81 
ATOMIC_BLOCK_END
;

82  
°©us
;

83 
	}
}

85 
uöt8_t
 
	gRHNRFSPIDrivî
::
	$•iBur°Wrôe
(
uöt8_t
 
ªg
, c⁄° uöt8_t* 
§c
, uöt8_à
Àn
)

87 
uöt8_t
 
°©us
 = 0;

88 
ATOMIC_BLOCK_START
;

89 
	`digôÆWrôe
(
_¶aveSñe˘Pö
, 
LOW
);

90 
°©us
 = 
_•i
.
	`å™s„r
(
ªg
);

91 
Àn
--)

92 
_•i
.
	`å™s„r
(*
§c
++);

93 
	`digôÆWrôe
(
_¶aveSñe˘Pö
, 
HIGH
);

94 
ATOMIC_BLOCK_END
;

95  
°©us
;

96 
	}
}

98 
	gRHNRFSPIDrivî
::
	$£tSœveSñe˘Pö
(
uöt8_t
 
¶aveSñe˘Pö
)

100 
_¶aveSñe˘Pö
 = 
¶aveSñe˘Pö
;

101 
	}
}

	@RHNRFSPIDriver.h

6 #i‚de‡
RHNRFSPIDrivî_h


7 
	#RHNRFSPIDrivî_h


	)

9 
	~<RHGíîicDrivî.h
>

10 
	~<RHH¨dw¨eSPI.h
>

12 
˛ass
 
	gRHGíîicSPI
;

33 ˛as†
	cRHNRFSPIDrivî
 : 
public
 
RHGíîicDrivî


35 
public
:

40 
RHNRFSPIDrivî
(
uöt8_t
 
¶aveSñe˘Pö
 = 
SS
, 
RHGíîicSPI
& 
•i
 = 
h¨dw¨e_•i
);

45 
boﬁ
 
öô
();

51 
uöt8_t
 
•iComm™d
(uöt8_à
comm™d
);

56 
uöt8_t
 
•iRód
(uöt8_à
ªg
);

63 
uöt8_t
 
•iWrôe
(uöt8_à
ªg
, uöt8_à
vÆ
);

71 
uöt8_t
 
•iBur°Ród
(uöt8_à
ªg
, uöt8_t* 
de°
, uöt8_à
Àn
);

79 
uöt8_t
 
•iBur°Wrôe
(uöt8_à
ªg
, c⁄° uöt8_t* 
§c
, uöt8_à
Àn
);

85 
£tSœveSñe˘Pö
(
uöt8_t
 
¶aveSñe˘Pö
);

87 
	m¥Ÿe˘ed
:

89 
RHGíîicSPI
& 
_•i
;

92 
uöt8_t
 
	m_¶aveSñe˘Pö
;

	@RHReliableDatagram.cpp

14 
	~<RHRñübÀD©agøm.h
>

18 
	gRHRñübÀD©agøm
::
	$RHRñübÀD©agøm
(
RHGíîicDrivî
& 
drivî
, 
uöt8_t
 
thisAddªss
)

19 : 
	$RHD©agøm
(
drivî
, 
thisAddªss
)

21 
_ªå™smissi⁄s
 = 0;

22 
_œ°Sequí˚Numbî
 = 0;

23 
_timeout
 = 
RH_DEFAULT_TIMEOUT
;

24 
_ªåõs
 = 
RH_DEFAULT_RETRIES
;

25 
	`mem£t
(
_£íIds
, 0, (_seenIds));

26 
	}
}

30 
	gRHRñübÀD©agøm
::
	$£tTimeout
(
uöt16_t
 
timeout
)

32 
_timeout
 = 
timeout
;

33 
	}
}

36 
	gRHRñübÀD©agøm
::
	$£tRërõs
(
uöt8_t
 
ªåõs
)

38 
_ªåõs
 = 
ªåõs
;

39 
	}
}

42 
uöt8_t
 
	gRHRñübÀD©agøm
::
	$ªåõs
()

44  
_ªåõs
;

45 
	}
}

48 
boﬁ
 
	gRHRñübÀD©agøm
::
	$£ndtoWaô
(
uöt8_t
* 
buf
, uöt8_à
Àn
, uöt8_à
addªss
)

51 
uöt8_t
 
thisSequí˚Numbî
 = ++
_œ°Sequí˚Numbî
;

52 
uöt8_t
 
ªåõs
 = 0;

53 
ªåõs
++ <
_ªåõs
)

55 
	`£tHódîId
(
thisSequí˚Numbî
);

56 
	`£tHódîFœgs
(
RH_FLAGS_NONE
, 
RH_FLAGS_ACK
);

57 
	`£ndto
(
buf
, 
Àn
, 
addªss
);

58 
	`waôPackëSít
();

61 i‡(
addªss
 =
RH_BROADCAST_ADDRESS
)

62  
åue
;

64 i‡(
ªåõs
 > 1)

65 
_ªå™smissi⁄s
++;

66 
thisSídTime
 = 
	`mûlis
();

71 #i‡(
RH_PLATFORM
 =
RH_PLATFORM_RASPI
)

72 
uöt16_t
 
timeout
 = 
_timeout
 + (_timeouà* (
	`øndom
() & 0xFF) / 256);

74 
uöt16_t
 
timeout
 = 
_timeout
 + (_timeouà* 
	`øndom
(0, 256) / 256);

76 
öt32_t
 
timeLe·
;

77 (
timeLe·
 = 
timeout
 - (
	`mûlis
(Ë- 
thisSídTime
)) > 0)

79 i‡(
	`waôAvaûabÀTimeout
(
timeLe·
))

81 
uöt8_t
 
‰om
, 
to
, 
id
, 
Êags
;

82 i‡(
	`ªcv‰om
(0, 0, &
‰om
, &
to
, &
id
, &
Êags
))

85 i‡–
‰om
 =
addªss


86 && 
to
 =
_thisAddªss


87 && (
Êags
 & 
RH_FLAGS_ACK
)

88 && (
id
 =
thisSequí˚Numbî
))

91  
åue
;

93 i‡–!(
Êags
 & 
RH_FLAGS_ACK
)

94 && (
id
 =
_£íIds
[
‰om
]))

97 
	`acknowÀdge
(
id
, 
‰om
);

103 
YIELD
;

106 
YIELD
;

109  
Ál£
;

110 
	}
}

113 
boﬁ
 
	gRHRñübÀD©agøm
::
	$ªcv‰omAck
(
uöt8_t
* 
buf
, uöt8_t* 
Àn
, uöt8_t* 
‰om
, uöt8_t* 
to
, uöt8_t* 
id
, uöt8_t* 
Êags
)

115 
uöt8_t
 
_‰om
;

116 
uöt8_t
 
_to
;

117 
uöt8_t
 
_id
;

118 
uöt8_t
 
_Êags
;

120 i‡(
	`avaûabÀ
(Ë&& 
	`ªcv‰om
(
buf
, 
Àn
, &
_‰om
, &
_to
, &
_id
, &
_Êags
))

123 i‡(!(
_Êags
 & 
RH_FLAGS_ACK
))

126 i‡(
_to
 ==
_thisAddªss
)

131 
	`acknowÀdge
(
_id
, 
_‰om
);

134 i‡(
_id
 !
_£íIds
[
_‰om
])

136 i‡(
‰om
Ë*‰om = 
_‰om
;

137 i‡(
to
Ë*tÿ
_to
;

138 i‡(
id
Ë*id = 
_id
;

139 i‡(
Êags
Ë*Êag†
_Êags
;

140 
_£íIds
[
_‰om
] = 
_id
;

141  
åue
;

147  
Ál£
;

148 
	}
}

150 
boﬁ
 
	gRHRñübÀD©agøm
::
	$ªcv‰omAckTimeout
(
uöt8_t
* 
buf
, uöt8_t* 
Àn
, 
uöt16_t
 
timeout
, uöt8_t* 
‰om
, uöt8_t* 
to
, uöt8_t* 
id
, uöt8_t* 
Êags
)

152 
°¨âime
 = 
	`mûlis
();

153 
öt32_t
 
timeLe·
;

154 (
timeLe·
 = 
timeout
 - (
	`mûlis
(Ë- 
°¨âime
)) > 0)

156 i‡(
	`waôAvaûabÀTimeout
(
timeLe·
))

158 i‡(
	`ªcv‰omAck
(
buf
, 
Àn
, 
‰om
, 
to
, 
id
, 
Êags
))

159  
åue
;

161 
YIELD
;

163  
Ál£
;

164 
	}
}

166 
uöt32_t
 
	gRHRñübÀD©agøm
::
	$ªå™smissi⁄s
()

168  
_ªå™smissi⁄s
;

169 
	}
}

171 
	gRHRñübÀD©agøm
::
	$ª£tRëønsmissi⁄s
()

173 
_ªå™smissi⁄s
 = 0;

174 
	}
}

176 
	gRHRñübÀD©agøm
::
	$acknowÀdge
(
uöt8_t
 
id
, uöt8_à
‰om
)

178 
	`£tHódîId
(
id
);

179 
	`£tHódîFœgs
(
RH_FLAGS_ACK
);

185 
uöt8_t
 
ack
 = '!';

186 
	`£ndto
(&
ack
, ◊ck), 
‰om
);

187 
	`waôPackëSít
();

188 
	}
}

	@RHReliableDatagram.h

7 #i‚de‡
RHRñübÀD©agøm_h


8 
	#RHRñübÀD©agøm_h


	)

10 
	~<RHD©agøm.h
>

15 
	#RH_FLAGS_ACK
 0x80

	)

18 
	#RH_DEFAULT_TIMEOUT
 200

	)

21 
	#RH_DEFAULT_RETRIES
 3

	)

78 ˛as†
	cRHRñübÀD©agøm
 : 
public
 
RHD©agøm


80 
public
:

84 
RHRñübÀD©agøm
(
RHGíîicDrivî
& 
drivî
, 
uöt8_t
 
thisAddªss
 = 0);

96 
£tTimeout
(
uöt16_t
 
timeout
);

103 
£tRërõs
(
uöt8_t
 
ªåõs
);

108 
uöt8_t
 
ªåõs
();

120 
boﬁ
 
£ndtoWaô
(
uöt8_t
* 
buf
, uöt8_à
Àn
, uöt8_à
addªss
);

140 
boﬁ
 
ªcv‰omAck
(
uöt8_t
* 
buf
, uöt8_t* 
Àn
, uöt8_t* 
‰om
 = 
NULL
, uöt8_t* 
to
 = NULL, uöt8_t* 
id
 = NULL, uöt8_t* 
Êags
 = NULL);

155 
boﬁ
 
ªcv‰omAckTimeout
(
uöt8_t
* 
buf
, uöt8_t* 
Àn
, 
uöt16_t
 
timeout
, uöt8_t* 
‰om
 = 
NULL
, uöt8_t* 
to
 = NULL, uöt8_t* 
id
 = NULL, uöt8_t* 
Êags
 = NULL);

160 
uöt32_t
 
ªå™smissi⁄s
();

164 
ª£tRëønsmissi⁄s
();

166 
	m¥Ÿe˘ed
:

169 
acknowÀdge
(
uöt8_t
 
id
, uöt8_à
‰om
);

174 
boﬁ
 
haveNewMesßge
();

176 
	m¥iv©e
:

178 
uöt32_t
 
_ªå™smissi⁄s
;

182 
uöt8_t
 
	m_œ°Sequí˚Numbî
;

186 
uöt16_t
 
	m_timeout
;

190 
uöt8_t
 
	m_ªåõs
;

196 
uöt8_t
 
	m_£íIds
[256];

	@RHRouter.cpp

14 
	~<RHRouãr.h
>

16 
	gRHRouãr
::
RouãdMesßge
 
RHRouãr
::
_tmpMesßge
;

20 
	gRHRouãr
::
	$RHRouãr
(
RHGíîicDrivî
& 
drivî
, 
uöt8_t
 
thisAddªss
)

21 : 
	$RHRñübÀD©agøm
(
drivî
, 
thisAddªss
)

23 
_max_h›s
 = 
RH_DEFAULT_MAX_HOPS
;

24 
	`˛órRoutögTabÀ
();

25 
	}
}

29 
boﬁ
 
	gRHRouãr
::
	$öô
()

31 
boﬁ
 
ªt
 = 
RHRñübÀD©agøm
::
	`öô
();

32 i‡(
ªt
)

33 
_max_h›s
 = 
RH_DEFAULT_MAX_HOPS
;

34  
ªt
;

35 
	}
}

38 
	gRHRouãr
::
	$£tMaxH›s
(
uöt8_t
 
max_h›s
)

40 
_max_h›s
 = 
max_h›s
;

41 
	}
}

44 
	gRHRouãr
::
	$addRouãTo
(
uöt8_t
 
de°
, uöt8_à
√xt_h›
, uöt8_à
°©e
)

46 
uöt8_t
 
i
;

49 
i
 = 0; i < 
RH_ROUTING_TABLE_SIZE
; i++)

51 i‡(
_rouãs
[
i
].
de°
 == dest)

53 
_rouãs
[
i
].
de°
 = dest;

54 
_rouãs
[
i
].
√xt_h›
 =Çext_hop;

55 
_rouãs
[
i
].
°©e
 = state;

61 
i
 = 0; i < 
RH_ROUTING_TABLE_SIZE
; i++)

63 i‡(
_rouãs
[
i
].
°©e
 =
InvÆid
)

65 
_rouãs
[
i
].
de°
 = dest;

66 
_rouãs
[
i
].
√xt_h›
 =Çext_hop;

67 
_rouãs
[
i
].
°©e
 = state;

73 
	`ªtúeOlde°Rouã
();

75 
i
 = 0; i < 
RH_ROUTING_TABLE_SIZE
; i++)

77 i‡(
_rouãs
[
i
].
°©e
 =
InvÆid
)

79 
_rouãs
[
i
].
de°
 = dest;

80 
_rouãs
[
i
].
√xt_h›
 =Çext_hop;

81 
_rouãs
[
i
].
°©e
 = state;

84 
	}
}

87 
	gRHRouãr
::
RoutögTabÀE¡ry
* 
RHRouãr
::
	$gëRouãTo
(
uöt8_t
 
de°
)

89 
uöt8_t
 
i
;

90 
i
 = 0; i < 
RH_ROUTING_TABLE_SIZE
; i++)

91 i‡(
_rouãs
[
i
].
de°
 =de° && _rouãs[i].
°©e
 !
InvÆid
)

92  &
_rouãs
[
i
];

93  
NULL
;

94 
	}
}

97 
	gRHRouãr
::
	$dñëeRouã
(
uöt8_t
 
ödex
)

100 
	`mem˝y
(&
_rouãs
[
ödex
], &_routes[index+1],

101 (
RoutögTabÀE¡ry
Ë* (
RH_ROUTING_TABLE_SIZE
 - 
ödex
 - 1));

102 
_rouãs
[
RH_ROUTING_TABLE_SIZE
 - 1].
°©e
 = 
InvÆid
;

103 
	}
}

106 
	gRHRouãr
::
	$¥ötRoutögTabÀ
()

108 #ifde‡
RH_HAVE_SERIAL


109 
uöt8_t
 
i
;

110 
i
 = 0; i < 
RH_ROUTING_TABLE_SIZE
; i++)

112 
Sîül
.
	`¥öt
(
i
, 
DEC
);

113 
Sîül
.
	`¥öt
(" Dest: ");

114 
Sîül
.
	`¥öt
(
_rouãs
[
i
].
de°
, 
DEC
);

115 
Sîül
.
	`¥öt
(" Next Hop: ");

116 
Sîül
.
	`¥öt
(
_rouãs
[
i
].
√xt_h›
, 
DEC
);

117 
Sîül
.
	`¥öt
(" State: ");

118 
Sîül
.
	`¥öén
(
_rouãs
[
i
].
°©e
, 
DEC
);

121 
	}
}

124 
boﬁ
 
	gRHRouãr
::
	$dñëeRouãTo
(
uöt8_t
 
de°
)

126 
uöt8_t
 
i
;

127 
i
 = 0; i < 
RH_ROUTING_TABLE_SIZE
; i++)

129 i‡(
_rouãs
[
i
].
de°
 == dest)

131 
	`dñëeRouã
(
i
);

132  
åue
;

135  
Ál£
;

136 
	}
}

139 
	gRHRouãr
::
	$ªtúeOlde°Rouã
()

142 
	`dñëeRouã
(0);

143 
	}
}

146 
	gRHRouãr
::
	$˛órRoutögTabÀ
()

148 
uöt8_t
 
i
;

149 
i
 = 0; i < 
RH_ROUTING_TABLE_SIZE
; i++)

150 
_rouãs
[
i
].
°©e
 = 
InvÆid
;

151 
	}
}

154 
uöt8_t
 
	gRHRouãr
::
	$£ndtoWaô
(
uöt8_t
* 
buf
, uöt8_à
Àn
, uöt8_à
de°
, uöt8_à
Êags
)

156  
	`£ndtoFromSour˚Waô
(
buf
, 
Àn
, 
de°
, 
_thisAddªss
, 
Êags
);

157 
	}
}

161 
uöt8_t
 
	gRHRouãr
::
	$£ndtoFromSour˚Waô
(
uöt8_t
* 
buf
, uöt8_à
Àn
, uöt8_à
de°
, uöt8_à
sour˚
, uöt8_à
Êags
)

163 i‡(((
uöt16_t
)
Àn
 + (
RouãdMesßgeHódî
)Ë> 
_drivî
.
	`maxMesßgeLígth
())

164  
RH_ROUTER_ERROR_INVALID_LENGTH
;

167 
_tmpMesßge
.
hódî
.
sour˚
 = source;

168 
_tmpMesßge
.
hódî
.
de°
 = dest;

169 
_tmpMesßge
.
hódî
.
h›s
 = 0;

170 
_tmpMesßge
.
hódî
.
id
 = 
_œ°E2ESequí˚Numbî
++;

171 
_tmpMesßge
.
hódî
.
Êags
 = flags;

172 
	`mem˝y
(
_tmpMesßge
.
d©a
, 
buf
, 
Àn
);

174  
	`rouã
(&
_tmpMesßge
, (
RouãdMesßgeHódî
)+
Àn
);

175 
	}
}

178 
uöt8_t
 
	gRHRouãr
::
	$rouã
(
RouãdMesßge
* 
mesßge
, 
uöt8_t
 
mesßgeLí
)

181 
uöt8_t
 
√xt_h›
 = 
RH_BROADCAST_ADDRESS
;

182 i‡(
mesßge
->
hódî
.
de°
 !
RH_BROADCAST_ADDRESS
)

184 
RoutögTabÀE¡ry
* 
rouã
 = 
	`gëRouãTo
(
mesßge
->
hódî
.
de°
);

185 i‡(!
rouã
)

186  
RH_ROUTER_ERROR_NO_ROUTE
;

187 
√xt_h›
 = 
rouã
->next_hop;

190 i‡(!
RHRñübÀD©agøm
::
	`£ndtoWaô
((
uöt8_t
*)
mesßge
, 
mesßgeLí
, 
√xt_h›
))

191  
RH_ROUTER_ERROR_UNABLE_TO_DELIVER
;

193  
RH_ROUTER_ERROR_NONE
;

194 
	}
}

198 
	gRHRouãr
::
	$≥ekAtMesßge
(
RouãdMesßge
* 
mesßge
, 
uöt8_t
 
mesßgeLí
)

201 
	}
}

204 
boﬁ
 
	gRHRouãr
::
	$ªcv‰omAck
(
uöt8_t
* 
buf
, uöt8_t* 
Àn
, uöt8_t* 
sour˚
, uöt8_t* 
de°
, uöt8_t* 
id
, uöt8_t* 
Êags
)

206 
uöt8_t
 
tmpMesßgeLí
 = (
_tmpMesßge
);

207 
uöt8_t
 
_‰om
;

208 
uöt8_t
 
_to
;

209 
uöt8_t
 
_id
;

210 
uöt8_t
 
_Êags
;

211 i‡(
RHRñübÀD©agøm
::
	`ªcv‰omAck
((
uöt8_t
*)&
_tmpMesßge
, &
tmpMesßgeLí
, &
_‰om
, &
_to
, &
_id
, &
_Êags
))

215 #ifde‡
RH_TEST_NETWORK


217 #i‡
RH_TEST_NETWORK
==1

219 (
_thisAddªss
 =1 && 
_‰om
 == 2)

220 || (
_thisAddªss
 =2 && (
_‰om
 == 1 || _from == 3))

221 || (
_thisAddªss
 =3 && (
_‰om
 == 2 || _from == 4))

222 || (
_thisAddªss
 =4 && 
_‰om
 == 3)

224 #ñi‡
RH_TEST_NETWORK
==2

228 (
_thisAddªss
 =1 && (
_‰om
 == 2 || _from == 3))

229 || 
_thisAddªss
 == 2

230 || 
_thisAddªss
 == 3

231 || (
_thisAddªss
 =4 && (
_‰om
 == 2 || _from == 3))

233 #ñi‡
RH_TEST_NETWORK
==3

237 (
_thisAddªss
 =1 && (
_‰om
 == 2 || _from == 3))

238 || (
_thisAddªss
 =2 && (
_‰om
 == 1 || _from == 4))

239 || (
_thisAddªss
 =3 && (
_‰om
 == 1 || _from == 4))

240 || (
_thisAddªss
 =4 && (
_‰om
 == 2 || _from == 3))

242 #ñi‡
RH_TEST_NETWORK
==4

246 (
_thisAddªss
 =1 && 
_‰om
 == 2)

247 || 
_thisAddªss
 == 2

248 || (
_thisAddªss
 =3 && 
_‰om
 == 2)

249 || (
_thisAddªss
 =4 && 
_‰om
 == 2)

258  
Ál£
;

262 
	`≥ekAtMesßge
(&
_tmpMesßge
, 
tmpMesßgeLí
);

264 i‡(
_tmpMesßge
.
hódî
.
de°
 =
_thisAddªss
 || _tmpMesßge.hódî.de° =
RH_BROADCAST_ADDRESS
)

267 i‡(
sour˚
Ë*sour˚ = 
_tmpMesßge
.
hódî
.source;

268 i‡(
de°
Ë*de° = 
_tmpMesßge
.
hódî
.dest;

269 i‡(
id
Ë*id = 
_tmpMesßge
.
hódî
.id;

270 i‡(
Êags
Ë*Êag†
_tmpMesßge
.
hódî
.flags;

271 
uöt8_t
 
msgLí
 = 
tmpMesßgeLí
 - (
RouãdMesßgeHódî
);

272 i‡(*
Àn
 > 
msgLí
)

273 *
Àn
 = 
msgLí
;

274 
	`mem˝y
(
buf
, 
_tmpMesßge
.
d©a
, *
Àn
);

275  
åue
;

277 i‡–
_tmpMesßge
.
hódî
.
de°
 !
RH_BROADCAST_ADDRESS


278 && 
_tmpMesßge
.
hódî
.
h›s
++ < 
_max_h›s
)

283 
	`rouã
(&
_tmpMesßge
, 
tmpMesßgeLí
);

287  
Ál£
;

288 
	}
}

291 
boﬁ
 
	gRHRouãr
::
	$ªcv‰omAckTimeout
(
uöt8_t
* 
buf
, uöt8_t* 
Àn
, 
uöt16_t
 
timeout
, uöt8_t* 
sour˚
, uöt8_t* 
de°
, uöt8_t* 
id
, uöt8_t* 
Êags
)

293 
°¨âime
 = 
	`mûlis
();

294 
öt32_t
 
timeLe·
;

295 (
timeLe·
 = 
timeout
 - (
	`mûlis
(Ë- 
°¨âime
)) > 0)

297 i‡(
	`waôAvaûabÀTimeout
(
timeLe·
))

299 i‡(
	`ªcv‰omAck
(
buf
, 
Àn
, 
sour˚
, 
de°
, 
id
, 
Êags
))

300  
åue
;

302 
YIELD
;

304  
Ál£
;

305 
	}
}

	@RHRouter.h

7 #i‚de‡
RHRouãr_h


8 
	#RHRouãr_h


	)

10 
	~<RHRñübÀD©agøm.h
>

13 
	#RH_DEFAULT_MAX_HOPS
 30

	)

16 
	#RH_ROUTING_TABLE_SIZE
 10

	)

19 
	#RH_ROUTER_ERROR_NONE
 0

	)

20 
	#RH_ROUTER_ERROR_INVALID_LENGTH
 1

	)

21 
	#RH_ROUTER_ERROR_NO_ROUTE
 2

	)

22 
	#RH_ROUTER_ERROR_TIMEOUT
 3

	)

23 
	#RH_ROUTER_ERROR_NO_REPLY
 4

	)

24 
	#RH_ROUTER_ERROR_UNABLE_TO_DELIVER
 5

	)

28 
	#RH_ROUTER_MAX_MESSAGE_LEN
 (
RH_MAX_MESSAGE_LEN
 - (
RHRouãr
::
RouãdMesßgeHódî
))

	)

132 ˛as†
	cRHRouãr
 : 
public
 
RHRñübÀD©agøm


134 
public
:

139 
uöt8_t
 
de°
;

140 
uöt8_t
 
	msour˚
;

141 
uöt8_t
 
	mh›s
;

142 
uöt8_t
 
	mid
;

143 
uöt8_t
 
	mÊags
;

145 } 
	tRouãdMesßgeHódî
;

150 
RouãdMesßgeHódî
 
	ghódî
;

151 
uöt8_t
 
	gd©a
[
RH_ROUTER_MAX_MESSAGE_LEN
];

152 } 
	tRouãdMesßge
;

157 
	gInvÆid
 = 0,

158 
	gDiscovîög
,

159 
	gVÆid


160 } 
	tRouãSèã
;

165 
uöt8_t
 
	gde°
;

166 
uöt8_t
 
	g√xt_h›
;

167 
uöt8_t
 
	g°©e
;

168 } 
	tRoutögTabÀE¡ry
;

173 
RHRouãr
(
RHGíîicDrivî
& 
drivî
, 
uöt8_t
 
thisAddªss
 = 0);

178 
boﬁ
 
öô
();

185 
£tMaxH›s
(
uöt8_t
 
max_h›s
);

192 
addRouãTo
(
uöt8_t
 
de°
, uöt8_à
√xt_h›
, uöt8_à
°©e
 = 
VÆid
);

197 
RoutögTabÀE¡ry
* 
gëRouãTo
(
uöt8_t
 
de°
);

202 
boﬁ
 
dñëeRouãTo
(
uöt8_t
 
de°
);

206 
ªtúeOlde°Rouã
();

210 
˛órRoutögTabÀ
();

214 
¥ötRoutögTabÀ
();

232 
uöt8_t
 
£ndtoWaô
(uöt8_t* 
buf
, uöt8_à
Àn
, uöt8_à
de°
, uöt8_à
Êags
 = 0);

248 
uöt8_t
 
£ndtoFromSour˚Waô
(uöt8_t* 
buf
, uöt8_à
Àn
, uöt8_à
de°
, uöt8_à
sour˚
, uöt8_à
Êags
 = 0);

270 
boﬁ
 
ªcv‰omAck
(
uöt8_t
* 
buf
, uöt8_t* 
Àn
, uöt8_t* 
sour˚
 = 
NULL
, uöt8_t* 
de°
 = NULL, uöt8_t* 
id
 = NULL, uöt8_t* 
Êags
 = NULL);

284 
boﬁ
 
ªcv‰omAckTimeout
(
uöt8_t
* 
buf
, uöt8_t* 
Àn
, 
uöt16_t
 
timeout
, uöt8_t* 
sour˚
 = 
NULL
, uöt8_t* 
de°
 = NULL, uöt8_t* 
id
 = NULL, uöt8_t* 
Êags
 = NULL);

286 
	g¥Ÿe˘ed
:

293 
vútuÆ
 
≥ekAtMesßge
(
RouãdMesßge
* 
mesßge
, 
uöt8_t
 
mesßgeLí
);

300 
vútuÆ
 
uöt8_t
 
rouã
(
RouãdMesßge
* 
mesßge
, uöt8_à
mesßgeLí
);

304 
dñëeRouã
(
uöt8_t
 
ödex
);

308 
uöt8_t
 
	g_œ°E2ESequí˚Numbî
;

312 
uöt8_t
 
	g_max_h›s
;

314 
	g¥iv©e
:

317 
RouãdMesßge
 
_tmpMesßge
;

320 
RoutögTabÀE¡ry
 
	g_rouãs
[
RH_ROUTING_TABLE_SIZE
];

	@RHSPIDriver.cpp

6 
	~<RHSPIDrivî.h
>

8 
	gRHSPIDrivî
::
	$RHSPIDrivî
(
uöt8_t
 
¶aveSñe˘Pö
, 
RHGíîicSPI
& 
•i
)

10 
	`_•i
(
•i
),

11 
	$_¶aveSñe˘Pö
(
¶aveSñe˘Pö
)

13 
	}
}

15 
boﬁ
 
	gRHSPIDrivî
::
	$öô
()

19 
_•i
.
	`begö
();

23 
	`pöMode
(
_¶aveSñe˘Pö
, 
OUTPUT
);

24 
	`digôÆWrôe
(
_¶aveSñe˘Pö
, 
HIGH
);

26 
	`dñay
(100);

27  
åue
;

28 
	}
}

30 
uöt8_t
 
	gRHSPIDrivî
::
	$•iRód
(
uöt8_t
 
ªg
)

32 
uöt8_t
 
vÆ
;

33 
ATOMIC_BLOCK_START
;

34 #i‡
	`deföed
(
SPI_HAS_TRANSACTION
)

35 
SPI
.
	`begöTønß˘i⁄
(
_•i
.
_£âögs
);

37 
	`digôÆWrôe
(
_¶aveSñe˘Pö
, 
LOW
);

38 
_•i
.
	`å™s„r
(
ªg
 & ~
RH_SPI_WRITE_MASK
);

39 
vÆ
 = 
_•i
.
	`å™s„r
(0);

40 
	`digôÆWrôe
(
_¶aveSñe˘Pö
, 
HIGH
);

41 #i‡
	`deföed
(
SPI_HAS_TRANSACTION
)

42 
SPI
.
	`ídTønß˘i⁄
();

44 
ATOMIC_BLOCK_END
;

45  
vÆ
;

46 
	}
}

48 
uöt8_t
 
	gRHSPIDrivî
::
	$•iWrôe
(
uöt8_t
 
ªg
, uöt8_à
vÆ
)

50 
uöt8_t
 
°©us
 = 0;

51 
ATOMIC_BLOCK_START
;

52 #i‡
	`deföed
(
SPI_HAS_TRANSACTION
)

53 
SPI
.
	`begöTønß˘i⁄
(
_•i
.
_£âögs
);

55 
	`digôÆWrôe
(
_¶aveSñe˘Pö
, 
LOW
);

56 
°©us
 = 
_•i
.
	`å™s„r
(
ªg
 | 
RH_SPI_WRITE_MASK
);

57 
_•i
.
	`å™s„r
(
vÆ
);

58 
	`digôÆWrôe
(
_¶aveSñe˘Pö
, 
HIGH
);

59 #i‡
	`deföed
(
SPI_HAS_TRANSACTION
)

60 
SPI
.
	`ídTønß˘i⁄
();

62 
ATOMIC_BLOCK_END
;

63  
°©us
;

64 
	}
}

66 
uöt8_t
 
	gRHSPIDrivî
::
	$•iBur°Ród
(
uöt8_t
 
ªg
, uöt8_t* 
de°
, uöt8_à
Àn
)

68 
uöt8_t
 
°©us
 = 0;

69 
ATOMIC_BLOCK_START
;

70 #i‡
	`deföed
(
SPI_HAS_TRANSACTION
)

71 
SPI
.
	`begöTønß˘i⁄
(
_•i
.
_£âögs
);

73 
	`digôÆWrôe
(
_¶aveSñe˘Pö
, 
LOW
);

74 
°©us
 = 
_•i
.
	`å™s„r
(
ªg
 & ~
RH_SPI_WRITE_MASK
);

75 
Àn
--)

76 *
de°
++ = 
_•i
.
	`å™s„r
(0);

77 
	`digôÆWrôe
(
_¶aveSñe˘Pö
, 
HIGH
);

78 #i‡
	`deföed
(
SPI_HAS_TRANSACTION
)

79 
SPI
.
	`ídTønß˘i⁄
();

81 
ATOMIC_BLOCK_END
;

82  
°©us
;

83 
	}
}

85 
uöt8_t
 
	gRHSPIDrivî
::
	$•iBur°Wrôe
(
uöt8_t
 
ªg
, c⁄° uöt8_t* 
§c
, uöt8_à
Àn
)

87 
uöt8_t
 
°©us
 = 0;

88 
ATOMIC_BLOCK_START
;

89 #i‡
	`deföed
(
SPI_HAS_TRANSACTION
)

90 
SPI
.
	`begöTønß˘i⁄
(
_•i
.
_£âögs
);

92 
	`digôÆWrôe
(
_¶aveSñe˘Pö
, 
LOW
);

93 
°©us
 = 
_•i
.
	`å™s„r
(
ªg
 | 
RH_SPI_WRITE_MASK
);

94 
Àn
--)

95 
_•i
.
	`å™s„r
(*
§c
++);

96 
	`digôÆWrôe
(
_¶aveSñe˘Pö
, 
HIGH
);

97 #i‡
	`deföed
(
SPI_HAS_TRANSACTION
)

98 
SPI
.
	`ídTønß˘i⁄
();

100 
ATOMIC_BLOCK_END
;

101  
°©us
;

102 
	}
}

104 
	gRHSPIDrivî
::
	$£tSœveSñe˘Pö
(
uöt8_t
 
¶aveSñe˘Pö
)

106 
_¶aveSñe˘Pö
 = 
¶aveSñe˘Pö
;

107 
	}
}

	@RHSPIDriver.h

6 #i‚de‡
RHSPIDrivî_h


7 
	#RHSPIDrivî_h


	)

9 
	~<RHGíîicDrivî.h
>

10 
	~<RHH¨dw¨eSPI.h
>

13 
	#RH_SPI_WRITE_MASK
 0x80

	)

15 
˛ass
 
	gRHGíîicSPI
;

38 ˛as†
	cRHSPIDrivî
 : 
public
 
RHGíîicDrivî


40 
public
:

45 
RHSPIDrivî
(
uöt8_t
 
¶aveSñe˘Pö
 = 
SS
, 
RHGíîicSPI
& 
•i
 = 
h¨dw¨e_•i
);

50 
boﬁ
 
öô
();

55 
uöt8_t
 
•iRód
(uöt8_à
ªg
);

62 
uöt8_t
 
•iWrôe
(uöt8_à
ªg
, uöt8_à
vÆ
);

70 
uöt8_t
 
•iBur°Ród
(uöt8_à
ªg
, uöt8_t* 
de°
, uöt8_à
Àn
);

78 
uöt8_t
 
•iBur°Wrôe
(uöt8_à
ªg
, c⁄° uöt8_t* 
§c
, uöt8_à
Àn
);

84 
£tSœveSñe˘Pö
(
uöt8_t
 
¶aveSñe˘Pö
);

86 
	m¥Ÿe˘ed
:

88 
RHGíîicSPI
& 
_•i
;

91 
uöt8_t
 
	m_¶aveSñe˘Pö
;

	@RHSoftwareSPI.cpp

6 
	~<RHSo·w¨eSPI.h
>

8 
	gRHSo·w¨eSPI
::
	$RHSo·w¨eSPI
(
Fªquícy
 
‰equícy
, 
BôOrdî
 
bôOrdî
, 
D©aMode
 
d©aMode
)

10 
	$RHGíîicSPI
(
‰equícy
, 
bôOrdî
, 
d©aMode
)

12 
	`£tPös
(12, 11, 13);

13 
	}
}

18 
uöt8_t
 
	gRHSo·w¨eSPI
::
	$å™s„r
(
uöt8_t
 
d©a
)

20 
uöt8_t
 
ªadD©a
;

21 
uöt8_t
 
wrôeD©a
;

22 
uöt8_t
 
buûtRëu∫
;

23 
uöt8_t
 
mask
;

25 i‡(
_bôOrdî
 =
BôOrdîMSBFú°
)

27 
mask
 = 0x80;

31 
mask
 = 0x01;

33 
buûtRëu∫
 = 0;

34 
ªadD©a
 = 0;

36 
uöt8_t
 
cou¡
=0; count<8; count++)

38 i‡(
d©a
 & 
mask
)

40 
wrôeD©a
 = 
HIGH
;

44 
wrôeD©a
 = 
LOW
;

47 i‡(
_˛ockPha£
 == 1)

50 
	`digôÆWrôe
(
_mosi
, 
wrôeD©a
);

51 
	`digôÆWrôe
(
_sck
, ~
_˛ockPﬁ¨ôy
);

52 
	`dñayPîiod
();

55 
ªadD©a
 = 
	`digôÆRód
(
_miso
);

56 
	`digôÆWrôe
(
_sck
, 
_˛ockPﬁ¨ôy
);

57 
	`dñayPîiod
();

62 
	`digôÆWrôe
(
_mosi
, 
wrôeD©a
);

63 
	`digôÆWrôe
(
_sck
, 
_˛ockPﬁ¨ôy
);

64 
	`dñayPîiod
();

67 
ªadD©a
 = 
	`digôÆRód
(
_miso
);

68 
	`digôÆWrôe
(
_sck
, ~
_˛ockPﬁ¨ôy
);

69 
	`dñayPîiod
();

72 i‡(
_bôOrdî
 =
BôOrdîMSBFú°
)

74 
mask
 >>= 1;

75 
buûtRëu∫
 |(
ªadD©a
 << (7 - 
cou¡
));

79 
mask
 <<= 1;

80 
buûtRëu∫
 |(
ªadD©a
 << 
cou¡
);

84 
	`digôÆWrôe
(
_sck
, 
_˛ockPﬁ¨ôy
);

86  
buûtRëu∫
;

87 
	}
}

90 
	gRHSo·w¨eSPI
::
	$begö
()

92 i‡(
_d©aMode
 =
D©aMode0
 ||

93 
_d©aMode
 =
D©aMode1
)

95 
_˛ockPﬁ¨ôy
 = 
LOW
;

99 
_˛ockPﬁ¨ôy
 = 
HIGH
;

102 i‡(
_d©aMode
 =
D©aMode0
 ||

103 
_d©aMode
 =
D©aMode2
)

105 
_˛ockPha£
 = 0;

109 
_˛ockPha£
 = 1;

111 
	`digôÆWrôe
(
_sck
, 
_˛ockPﬁ¨ôy
);

114 
_‰equícy
)

116 
Fªquícy1MHz
:

117 
_dñayCou¡s
 = 8;

120 
Fªquícy2MHz
:

121 
_dñayCou¡s
 = 4;

124 
Fªquícy4MHz
:

125 
_dñayCou¡s
 = 2;

128 
Fªquícy8MHz
:

129 
_dñayCou¡s
 = 1;

132 
Fªquícy16MHz
:

133 
_dñayCou¡s
 = 0;

136 
	}
}

140 
	gRHSo·w¨eSPI
::
	$íd
(Ë{ 
	}
}

146 
RHSo·w¨eSPI
::
	$£tPös
(
uöt8_t
 
miso
, uöt8_à
mosi
, uöt8_à
sck
)

148 
_miso
 = 
miso
;

149 
_mosi
 = 
mosi
;

150 
_sck
 = 
sck
;

152 
	`pöMode
(
_miso
, 
INPUT
);

153 
	`pöMode
(
_mosi
, 
OUTPUT
);

154 
	`pöMode
(
_sck
, 
OUTPUT
);

155 
	`digôÆWrôe
(
_sck
, 
_˛ockPﬁ¨ôy
);

156 
	}
}

159 
	gRHSo·w¨eSPI
::
	$dñayPîiod
()

161 
uöt8_t
 
cou¡
 = 0; cou¡ < 
_dñayCou¡s
; count++)

163 
__asm__
 
	`__vﬁ©ûe__
 ("nop");

165 
	}
}

	@RHSoftwareSPI.h

6 #i‚de‡
RHSo·w¨eSPI_h


7 
	#RHSo·w¨eSPI_h


	)

9 
	~<RHGíîicSPI.h
>

35 ˛as†
	cRHSo·w¨eSPI
 : 
public
 
RHGíîicSPI


37 
public
:

51 
RHSo·w¨eSPI
(
Fªquícy
 
‰equícy
 = 
Fªquícy1MHz
, 
BôOrdî
 
bôOrdî
 = 
BôOrdîMSBFú°
, 
D©aMode
 
d©aMode
 = 
D©aMode0
);

56 
uöt8_t
 
å™s„r
(uöt8_à
d©a
);

61 
begö
();

65 
íd
();

72 
£tPös
(
uöt8_t
 
miso
 = 12, uöt8_à
mosi
 = 11, uöt8_à
sck
 = 13);

74 
	m¥iv©e
:

77 
dñayPîiod
();

79 
	m¥iv©e
:

80 
uöt8_t
 
_miso
;

81 
uöt8_t
 
	m_mosi
;

82 
uöt8_t
 
	m_sck
;

83 
uöt8_t
 
	m_bôOrdî
;

84 
uöt8_t
 
	m_dñayCou¡s
;

85 
uöt8_t
 
	m_˛ockPﬁ¨ôy
;

86 
uöt8_t
 
	m_˛ockPha£
;

	@RHTcpProtocol.h

9 #i‚de‡
RH_T˝PrŸocﬁ_h


10 
	#RH_T˝PrŸocﬁ_h


	)

12 
	#RH_TCP_MESSAGE_TYPE_NOP
 0

	)

13 
	#RH_TCP_MESSAGE_TYPE_THISADDRESS
 1

	)

14 
	#RH_TCP_MESSAGE_TYPE_PACKET
 2

	)

17 
	#RH_TCP_MAX_PAYLOAD_LEN
 255

	)

21 
	#RH_TCP_HEADER_LEN
 4

	)

25 
	#RH_TCP_MAX_MESSAGE_LEN
 (
RH_TCP_MAX_PAYLOAD_LEN
 - 
RH_TCP_HEADER_LEN
)

	)

27 #¥agm®
∑ck
(
push
, 1)

32 
uöt32_t
 
	mÀngth
;

33 
uöt8_t
 
	m∑ylﬂd
[
RH_TCP_MAX_PAYLOAD_LEN
 + 1];

34 } 
	tRHT˝Mesßge
;

39 
uöt32_t
 
	mÀngth
;

40 
uöt8_t
 
	mty≥
;

41 
uöt8_t
 
	m∑ylﬂd
[
RH_TCP_MAX_PAYLOAD_LEN
];

42 } 
	tRHT˝Ty≥Mesßge
;

47 
uöt32_t
 
	mÀngth
;

48 
uöt8_t
 
	mty≥
;

49 
uöt8_t
 
	mthisAddªss
;

50 } 
	tRHT˝ThisAddªss
;

55 
uöt32_t
 
	mÀngth
;

56 
uöt8_t
 
	mty≥
;

57 
uöt8_t
 
	mto
;

58 
uöt8_t
 
	m‰om
;

59 
uöt8_t
 
	mid
;

60 
uöt8_t
 
	mÊags
;

61 
uöt8_t
 
	m∑ylﬂd
[
RH_TCP_MAX_MESSAGE_LEN
];

62 } 
	tRHT˝Packë
;

64 #¥agm®
∑ck
(
p›
)

	@RH_ASK.cpp

6 
	~<RH_ASK.h
>

7 
	~<RHCRC.h
>

9 #i‡(
RH_PLATFORM
 =
RH_PLATFORM_STM32
)

10 
H¨dw¨eTimî
 
timî
(
MAPLE_TIMER
);

14 #i‡(
RH_PLATFORM
 =
RH_PLATFORM_ESP8266
)

17 
	#INTERRUPT_ATTR
 
ICACHE_RAM_ATTR


	)

19 
	#INTERRUPT_ATTR


	)

29 
RH_ASK
* 
	gthisASKDrivî
;

35 
uöt8_t
 
	gsymbﬁs
[] =

42 
	#RH_ASK_START_SYMBOL
 0xb38

	)

44 
	gRH_ASK
::
	$RH_ASK
(
uöt16_t
 
•ìd
, 
uöt8_t
 
rxPö
, uöt8_à
txPö
, uöt8_à
±tPö
, 
boﬁ
 
±tInvîãd
)

46 
	`_•ìd
(
•ìd
),

47 
	`_rxPö
(
rxPö
),

48 
	`_txPö
(
txPö
),

49 
	`_±tPö
(
±tPö
),

50 
	`_±tInvîãd
(
±tInvîãd
),

51 
	$_rxInvîãd
(
Ál£
)

56 
uöt8_t
 
¥ómbÀ
[
RH_ASK_PREAMBLE_LEN
] = {0x2a, 0x2a, 0x2a, 0x2a, 0x2a, 0x2a, 0x38, 0x2c};

57 
	`mem˝y
(
_txBuf
, 
¥ómbÀ
, (preamble));

58 
	}
}

60 
boﬁ
 
	gRH_ASK
::
	$öô
()

62 i‡(!
RHGíîicDrivî
::
	`öô
())

63  
Ál£
;

64 
thisASKDrivî
 = 
this
;

66 #i‡(
RH_PLATFORM
 =
RH_PLATFORM_GENERIC_AVR8
)

67 #ifde‡
RH_ASK_PTT_PIN


68 
RH_ASK_PTT_DDR
 |(1<<
RH_ASK_PTT_PIN
);

69 
RH_ASK_TX_DDR
 |(1<<
RH_ASK_TX_PIN
);

70 
RH_ASK_RX_DDR
 &~(1<<
RH_ASK_RX_PIN
);

72 
RH_ASK_TX_DDR
 |(1<<
RH_ASK_TX_PIN
);

73 
RH_ASK_RX_DDR
 &~(1<<
RH_ASK_RX_PIN
);

77 
	`pöMode
(
_txPö
, 
OUTPUT
);

78 
	`pöMode
(
_rxPö
, 
INPUT
);

79 
	`pöMode
(
_±tPö
, 
OUTPUT
);

83 
	`£tModeIdÀ
();

84 
	`timîSëup
();

86  
åue
;

87 
	}
}

90 #i‡(
RH_PLATFORM
 =
RH_PLATFORM_ARDUINO
Ë|| (RH_PLATFORM =
RH_PLATFORM_GENERIC_AVR8
)

91 #i‡
deföed
(
RH_ASK_ARDUINO_USE_TIMER2
)

93 
PROGMEM
 c⁄° 
uöt16_t
 
	g¥esˇÀrs
[] = {0, 1, 8, 32, 64, 128, 256, 3333};

95 
PROGMEM
 c⁄° 
uöt16_t
 
	g¥esˇÀrs
[] = {0, 1, 8, 64, 256, 1024, 3333};

97 
	#NUM_PRESCALERS
 ((
¥esˇÀrs
Ë/ –
uöt16_t
))

	)

104 
uöt8_t
 
	gRH_ASK
::
	$timîCÆc
(
uöt16_t
 
•ìd
, uöt16_à
max_ticks
, uöt16_à*
¡icks
)

106 #i‡(
RH_PLATFORM
 =
RH_PLATFORM_ARDUINO
Ë|| (RH_PLATFORM =
RH_PLATFORM_GENERIC_AVR8
)

108 
uöt8_t
 
¥esˇÀr
;

109 
u…icks
;

112 i‡(
•ìd
 == 0)

115 *
¡icks
 = 0;

121 
öv_bô_time
 = (()
•ìd
) * 8;

122 
¥esˇÀr
=1;ÖªsˇÀ∏< 
NUM_PRESCALERS
;Örescaler += 1)

126 
uöt16_t
 
¥esˇÀrVÆue
;

127 
	`mem˝y_P
(&
¥esˇÀrVÆue
, &
¥esˇÀrs
[
¥esˇÀr
], (
uöt16_t
));

128 
öv_˛ock_time
 = 
F_CPU
 / (()
¥esˇÀrVÆue
);

130 
u…icks
 = 
öv_˛ock_time
 / 
öv_bô_time
;

133 i‡((
u…icks
 > 1Ë&& (u…ick†< 
max_ticks
))

141 i‡((
¥esˇÀr
 =6Ë|| (
u…icks
 < 2Ë|| (u…ick†> 
max_ticks
))

144 *
¡icks
 = 0;

148 *
¡icks
 = 
u…icks
;

149  
¥esˇÀr
;

153 
	}
}

156 
	gRH_ASK
::
	$timîSëup
()

158 #i‡(
RH_PLATFORM
 =
RH_PLATFORM_GENERIC_AVR8
)

159 
uöt16_t
 
¡icks
;

160 
uöt8_t
 
¥esˇÀr
 = 
	`timîCÆc
(
_•ìd
, (
uöt16_t
)-1, &
¡icks
);

161 i‡(!
¥esˇÀr
) ;

162 
	`_COMB
(
TCCR
,
RH_ASK_TIMER_INDEX
,
A
)= 0;

163 
	`_COMB
(
TCCR
,
RH_ASK_TIMER_INDEX
,
B
)
	`_BV
(
WGM12
);

164 
	`_COMB
(
TCCR
,
RH_ASK_TIMER_INDEX
,
B
)|
¥esˇÀr
;

165 
	`_COMB
(
OCR
,
RH_ASK_TIMER_INDEX
,
A
)
¡icks
;

166 
	`_COMB
(
TI
,
MSK
,
RH_ASK_TIMER_INDEX
)|
	`_BV
(_COMB(
OCIE
,RH_ASK_TIMER_INDEX,
A
));

168 #ñi‡(
RH_PLATFORM
 =
RH_PLATFORM_MSP430
)

171 
uöt16_t
 
o¸1a
 = (
F_CPU
 / 8ULË/ 
_•ìd
;

174 
TA0CCR0
 = 
o¸1a
;

175 
TA0CTL
 = 
TASSEL_2
 + 
MC_1
;

176 
TA0CCTL0
 |
CCIE
;

178 #ñi‡(
RH_PLATFORM
 =
RH_PLATFORM_ARDUINO
)

179 
uöt16_t
 
¡icks
;

180 
uöt8_t
 
¥esˇÀr
;

182 #ifde‡
RH_PLATFORM_ATTINY


186 
¥esˇÀr
 = 
	`timîCÆc
(
_•ìd
, (
uöt8_t
)-1, &
¡icks
);

187 i‡(!
¥esˇÀr
)

190 
TCCR0A
 = 0;

191 
TCCR0A
 = 
	`_BV
(
WGM01
);

194 
TCCR0B
 = 0;

195 
TCCR0B
 = 
¥esˇÀr
;

199 
OCR0A
 = 
	`uöt8_t
(
¡icks
);

202 #ifde‡
TIMSK0


204 
TIMSK0
 |
	`_BV
(
OCIE0A
);

207 
TIMSK
 |
	`_BV
(
OCIE0A
);

211 #ñi‡
	`deföed
(
__¨m__
Ë&& deföed(
CORE_TEENSY
)

213 
I¡îvÆTimî
 *
t
 = 
√w
 
	`I¡îvÆTimî
();

214 
	`TIMER1_COMPA_ve˘
();

215 
t
->
	`begö
(
TIMER1_COMPA_ve˘
, 125000 / 
_•ìd
);

217 #ñi‡
	`deföed
 (
__¨m__
Ë&& deföed(
ARDUINO_ARCH_SAMD
)

219 
	#RH_ASK_ZERO_TIMER
 
TC3


	)

221 
	#RH_ASK_ZERO_PRESCALER
 64

	)

222 
	#RH_ASK_ZERO_TIMER_IRQ
 
TC3_IRQn


	)

225 
REG_GCLK_CLKCTRL
 = (
uöt16_t
Ë(
GCLK_CLKCTRL_CLKEN
 | 
GCLK_CLKCTRL_GEN_GCLK0
 | 
	`GCLK_CLKCTRL_ID
(
GCM_TCC2_TC3
)) ;

226  
GCLK
->
STATUS
.
bô
.
SYNCBUSY
 == 1 );

229 
TcCou¡16
* 
TC
 = (TcCou¡16*)
RH_ASK_ZERO_TIMER
;

231 
TC
->
CTRLA
.
ªg
 &~
TC_CTRLA_ENABLE
;

232 
TC
->
STATUS
.
bô
.
SYNCBUSY
 == 1);

234 
TC
->
CTRLA
.
ªg
 |
TC_CTRLA_MODE_COUNT16
;

235 
TC
->
STATUS
.
bô
.
SYNCBUSY
 == 1);

236 
TC
->
CTRLA
.
ªg
 |
TC_CTRLA_WAVEGEN_MFRQ
;

237 
TC
->
STATUS
.
bô
.
SYNCBUSY
 == 1);

240 
uöt32_t
 
rc
 = (
VARIANT_MCK
 / 
_•ìd
Ë/ 
RH_ASK_ZERO_PRESCALER
 / 8;

242 
TC
->
CTRLA
.
ªg
 |
TC_CTRLA_PRESCALER_DIV64
;

243 
TC
->
STATUS
.
bô
.
SYNCBUSY
 == 1);

245 
TC
->
CC
[0].
ªg
 = 
rc
;

246 
TC
->
STATUS
.
bô
.
SYNCBUSY
 == 1);

249 
TC
->
INTENSET
.
ªg
 = 0;

250 
TC
->
INTENSET
.
bô
.
MC0
 = 1;

253 
	`NVIC_CÀ¨PídögIRQ
(
RH_ASK_ZERO_TIMER_IRQ
);

254 
	`NVIC_E«bÀIRQ
(
RH_ASK_ZERO_TIMER_IRQ
);

257 
TC
->
CTRLA
.
ªg
 |
TC_CTRLA_ENABLE
;

258 
TC
->
STATUS
.
bô
.
SYNCBUSY
 == 1);

260 #ñi‡
	`deföed
(
__¨m__
Ë&& deföed(
ARDUINO_SAM_DUE
)

265 
	#RH_ASK_DUE_TIMER
 
TC0


	)

266 
	#RH_ASK_DUE_TIMER_CHANNEL
 1

	)

267 
	#RH_ASK_DUE_TIMER_IRQ
 
TC1_IRQn


	)

268 
	`pmc_£t_wrôïrŸe˘
(
Ál£
);

269 
	`pmc_íabÀ_≥rùh_˛k
(
RH_ASK_DUE_TIMER_IRQ
);

273 
uöt32_t
 
rc
 = (
VARIANT_MCK
 / 
_•ìd
) / 128 / 8;

274 
	`TC_C⁄figuª
(
RH_ASK_DUE_TIMER
, 
RH_ASK_DUE_TIMER_CHANNEL
,

275 
TC_CMR_WAVE
 | 
TC_CMR_WAVSEL_UP_RC
 | 
TC_CMR_TCCLKS_TIMER_CLOCK4
);

276 
	`TC_SëRC
(
RH_ASK_DUE_TIMER
, 
RH_ASK_DUE_TIMER_CHANNEL
, 
rc
);

278 
RH_ASK_DUE_TIMER
->
TC_CHANNEL
[
RH_ASK_DUE_TIMER_CHANNEL
].
TC_IER
 = 
TC_IER_CPCS
;

279 
	`NVIC_CÀ¨PídögIRQ
(
RH_ASK_DUE_TIMER_IRQ
);

280 
	`NVIC_E«bÀIRQ
(
RH_ASK_DUE_TIMER_IRQ
);

281 
	`TC_Sèπ
(
RH_ASK_DUE_TIMER
, 
RH_ASK_DUE_TIMER_CHANNEL
);

286 #i‡
	`deföed
(
RH_ASK_ARDUINO_USE_TIMER2
)

287 
¥esˇÀr
 = 
	`timîCÆc
(
_•ìd
, (
uöt8_t
)-1, &
¡icks
);

288 i‡(!
¥esˇÀr
)

291 
TCCR2A
 = 
	`_BV
(
WGM21
);

293 
TCCR2B
 = 
¥esˇÀr
;

297 
OCR2A
 = 
¡icks
;

299 #ifde‡
TIMSK2


301 
TIMSK2
 |
	`_BV
(
OCIE2A
);

304 
TIMSK
 |
	`_BV
(
OCIE2A
);

308 
¥esˇÀr
 = 
	`timîCÆc
(
_•ìd
, (
uöt16_t
)-1, &
¡icks
);

309 i‡(!
¥esˇÀr
)

311 
TCCR1A
 = 0;

312 
TCCR1B
 = 
	`_BV
(
WGM12
);

315 
TCCR1B
 |
¥esˇÀr
;

319 
OCR1A
 = 
¡icks
;

321 #ifde‡
TIMSK1


323 
TIMSK1
 |
	`_BV
(
OCIE1A
);

326 
TIMSK
 |
	`_BV
(
OCIE1A
);

331 #ñi‡(
RH_PLATFORM
 =
RH_PLATFORM_STM32
)

333 
timî
.
	`∑u£
();

334 
timî
.
	`£tPîiod
((1000000/8)/
_•ìd
);

336 
timî
.
	`£tCh™√l1Mode
(
TIMER_OUTPUT_COMPARE
);

337 
timî
.
	`£tCom∑ª
(
TIMER_CH1
, 1);

338 
	`öãºu±
();

339 
timî
.
	`©èchCom∑ª1I¡îru±
(
öãºu±
);

342 
timî
.
	`ª‰esh
();

345 
timî
.
	`ªsume
();

347 #ñi‡(
RH_PLATFORM
 =
RH_PLATFORM_STM32F2
)

350 
	`TimîI¡îru±H™dÀr
();

351 
	#SYSCORECLOCK
 60000000UL

352 
TIM_TimeBa£InôTy≥Def
 
timîInôSåu˘uª
;

	)

353 
NVIC_InôTy≥Def
 
nvicSåu˘uª
;

354 
TIM_Ty≥Def
* 
TIMx
;

355 
uöt32_t
 
≥riod
 = (1000000 / 8Ë/ 
_•ìd
;

356 
uöt16_t
 
¥esˇÀr
 = (uöt16_t)(
SYSCORECLOCK
 / 1000000UL) - 1;

358 
	`©èchSy°emI¡îru±
(
SysI¡îru±_TIM6_Upd©e
, 
TimîI¡îru±H™dÀr
);

359 
	`RCC_APB1PîùhClockCmd
(
RCC_APB1Pîùh_TIM6
, 
ENABLE
);

360 
nvicSåu˘uª
.
NVIC_IRQCh™√l
 = 
TIM6_DAC_IRQn
;

361 
TIMx
 = 
TIM6
;

362 
nvicSåu˘uª
.
NVIC_IRQCh™√lPªem±i⁄Pri‹ôy
 = 10;

363 
nvicSåu˘uª
.
NVIC_IRQCh™√lSubPri‹ôy
 = 1;

364 
nvicSåu˘uª
.
NVIC_IRQCh™√lCmd
 = 
ENABLE
;

365 
	`NVIC_Inô
(&
nvicSåu˘uª
);

366 
timîInôSåu˘uª
.
TIM_PªsˇÀr
 = 
¥esˇÀr
;

367 
timîInôSåu˘uª
.
TIM_Cou¡îMode
 = 
TIM_Cou¡îMode_Up
;

368 
timîInôSåu˘uª
.
TIM_Pîiod
 = 
≥riod
;

369 
timîInôSåu˘uª
.
TIM_ClockDivisi⁄
 = 
TIM_CKD_DIV1
;

370 
timîInôSåu˘uª
.
TIM_Rïëôi⁄Cou¡î
 = 0;

372 
	`TIM_TimeBa£Inô
(
TIMx
, &
timîInôSåu˘uª
);

373 
	`TIM_ITC⁄fig
(
TIMx
, 
TIM_IT_Upd©e
, 
ENABLE
);

374 
	`TIM_Cmd
(
TIMx
, 
ENABLE
);

376 #ñi‡(
RH_PLATFORM
 =
RH_PLATFORM_CHIPKIT_CORE
)

378 
uöt32_t
 
	`chùkô_timî_öãºu±_h™dÀr
(uöt32_à
cuºítTime
);

379 
	`©èchC‹eTimîSîvi˚
(
chùkô_timî_öãºu±_h™dÀr
);

381 #ñi‡(
RH_PLATFORM
 =
RH_PLATFORM_UNO32
)

384 
	`O≥nTimî1
(
T1_ON
 | 
T1_PS_1_1
 | 
T1_SOURCE_INT
, (
F_CPU
 / 8Ë/ 
_•ìd
);

385 
	`C⁄figI¡Timî1
(
T1_INT_ON
 | 
T1_INT_PRIOR_1
);

387 #ñi‡(
RH_PLATFORM
 =
RH_PLATFORM_ESP8266
)

388 
INTERRUPT_ATTR
 
	`e•8266_timî_öãºu±_h™dÀr
();

390 
_timîIn¸emít
 = (
	`˛ockCy˛esPîMi¸o£c⁄d
(Ë* 1000000 / 8 / 
_•ìd
) - 120;

391 
	`timî0_i§_öô
();

392 
	`timî0_©èchI¡îru±
(
e•8266_timî_öãºu±_h™dÀr
);

393 
	`timî0_wrôe
(
ESP
.
	`gëCy˛eCou¡
(Ë+ 
_timîIn¸emít
);

397 
	}
}

399 
INTERRUPT_ATTR
 
	gRH_ASK
::
	$£tModeIdÀ
()

401 i‡(
_mode
 !
RHModeIdÀ
)

404 
	`wrôePâ
(
LOW
);

405 
	`wrôeTx
(
LOW
);

406 
_mode
 = 
RHModeIdÀ
;

408 
	}
}

410 
	gRH_ASK
::
	$£tModeRx
()

412 i‡(
_mode
 !
RHModeRx
)

415 
	`wrôePâ
(
LOW
);

416 
	`wrôeTx
(
LOW
);

417 
_mode
 = 
RHModeRx
;

419 
	}
}

421 
	gRH_ASK
::
	$£tModeTx
()

423 i‡(
_mode
 !
RHModeTx
)

426 
_txIndex
 = 0;

427 
_txBô
 = 0;

428 
_txSam∂e
 = 0;

431 
	`wrôePâ
(
HIGH
);

433 
_mode
 = 
RHModeTx
;

435 
	}
}

438 
boﬁ
 
	gRH_ASK
::
	$avaûabÀ
()

440 i‡(
_mode
 =
RHModeTx
)

441  
Ál£
;

442 
	`£tModeRx
();

443 i‡(
_rxBufFuŒ
)

445 
	`vÆid©eRxBuf
();

446 
_rxBufFuŒ

Ál£
;

448  
_rxBufVÆid
;

449 
	}
}

451 
boﬁ
 
	gRH_ASK
::
	$ªcv
(
uöt8_t
* 
buf
, uöt8_t* 
Àn
)

453 i‡(!
	`avaûabÀ
())

454  
Ál£
;

456 i‡(
buf
 && 
Àn
)

460 
uöt8_t
 
mesßge_Àn
 = 
_rxBufLí
-
RH_ASK_HEADER_LEN
 - 3;

461 i‡(*
Àn
 > 
mesßge_Àn
)

462 *
Àn
 = 
mesßge_Àn
;

463 
	`mem˝y
(
buf
, 
_rxBuf
+
RH_ASK_HEADER_LEN
+1, *
Àn
);

465 
_rxBufVÆid
 = 
Ál£
;

467  
åue
;

468 
	}
}

471 
boﬁ
 
	gRH_ASK
::
	$£nd
(c⁄° 
uöt8_t
* 
d©a
, uöt8_à
Àn
)

473 
uöt8_t
 
i
;

474 
uöt16_t
 
ödex
 = 0;

475 
uöt16_t
 
¸c
 = 0xffff;

476 
uöt8_t
 *
p
 = 
_txBuf
 + 
RH_ASK_PREAMBLE_LEN
;

477 
uöt8_t
 
cou¡
 = 
Àn
 + 3 + 
RH_ASK_HEADER_LEN
;

479 i‡(
Àn
 > 
RH_ASK_MAX_MESSAGE_LEN
)

480  
Ál£
;

483 
	`waôPackëSít
();

485 i‡(!
	`waôCAD
())

486  
Ál£
;

489 
¸c
 = 
	`RH¸c_ccôt_upd©e
(¸c, 
cou¡
);

490 
p
[
ödex
++] = 
symbﬁs
[
cou¡
 >> 4];

491 
p
[
ödex
++] = 
symbﬁs
[
cou¡
 & 0xf];

494 
¸c
 = 
	`RH¸c_ccôt_upd©e
(¸c, 
_txHódîTo
);

495 
p
[
ödex
++] = 
symbﬁs
[
_txHódîTo
 >> 4];

496 
p
[
ödex
++] = 
symbﬁs
[
_txHódîTo
 & 0xf];

497 
¸c
 = 
	`RH¸c_ccôt_upd©e
(¸c, 
_txHódîFrom
);

498 
p
[
ödex
++] = 
symbﬁs
[
_txHódîFrom
 >> 4];

499 
p
[
ödex
++] = 
symbﬁs
[
_txHódîFrom
 & 0xf];

500 
¸c
 = 
	`RH¸c_ccôt_upd©e
(¸c, 
_txHódîId
);

501 
p
[
ödex
++] = 
symbﬁs
[
_txHódîId
 >> 4];

502 
p
[
ödex
++] = 
symbﬁs
[
_txHódîId
 & 0xf];

503 
¸c
 = 
	`RH¸c_ccôt_upd©e
(¸c, 
_txHódîFœgs
);

504 
p
[
ödex
++] = 
symbﬁs
[
_txHódîFœgs
 >> 4];

505 
p
[
ödex
++] = 
symbﬁs
[
_txHódîFœgs
 & 0xf];

509 
i
 = 0; i < 
Àn
; i++)

511 
¸c
 = 
	`RH¸c_ccôt_upd©e
(¸c, 
d©a
[
i
]);

512 
p
[
ödex
++] = 
symbﬁs
[
d©a
[
i
] >> 4];

513 
p
[
ödex
++] = 
symbﬁs
[
d©a
[
i
] & 0xf];

519 
¸c
 = ~crc;

520 
p
[
ödex
++] = 
symbﬁs
[(
¸c
 >> 4) & 0xf];

521 
p
[
ödex
++] = 
symbﬁs
[
¸c
 & 0xf];

522 
p
[
ödex
++] = 
symbﬁs
[(
¸c
 >> 12) & 0xf];

523 
p
[
ödex
++] = 
symbﬁs
[(
¸c
 >> 8) & 0xf];

526 
_txBufLí
 = 
ödex
 + 
RH_ASK_PREAMBLE_LEN
;

529 
	`£tModeTx
();

531  
åue
;

532 
	}
}

535 
boﬁ
 
INTERRUPT_ATTR
 
	gRH_ASK
::
	$ªadRx
()

537 
boﬁ
 
vÆue
;

538 #i‡(
RH_PLATFORM
 =
RH_PLATFORM_GENERIC_AVR8
)

539 
vÆue
 = ((
RH_ASK_RX_PORT
 & (1<<
RH_ASK_RX_PIN
)) ? 1 : 0);

541 
vÆue
 = 
	`digôÆRód
(
_rxPö
);

543  
vÆue
 ^ 
_rxInvîãd
;

544 
	}
}

547 
INTERRUPT_ATTR
 
	gRH_ASK
::
	$wrôeTx
(
boﬁ
 
vÆue
)

549 #i‡(
RH_PLATFORM
 =
RH_PLATFORM_GENERIC_AVR8
)

550 ((
vÆue
Ë? (
RH_ASK_TX_PORT
 |(1<<
RH_ASK_TX_PIN
)) : (RH_ASK_TX_PORT &= ~(1<<RH_ASK_TX_PIN)));

552 
	`digôÆWrôe
(
_txPö
, 
vÆue
);

554 
	}
}

557 
INTERRUPT_ATTR
 
	gRH_ASK
::
	$wrôePâ
(
boﬁ
 
vÆue
)

559 #i‡(
RH_PLATFORM
 =
RH_PLATFORM_GENERIC_AVR8
)

560 #i‡
RH_ASK_PTT_PIN


561 ((
vÆue
Ë? (
RH_ASK_PTT_PORT
 |(1<<
RH_ASK_PTT_PIN
)) : (RH_ASK_PTT_PORT &= ~(1<<RH_ASK_PTT_PIN)));

563 ((
vÆue
Ë? (
RH_ASK_TX_PORT
 |(1<<
RH_ASK_TX_PIN
)) : (RH_ASK_TX_PORT &= ~(1<<RH_ASK_TX_PIN)));

566 
	`digôÆWrôe
(
_±tPö
, 
vÆue
 ^ 
_±tInvîãd
);

568 
	}
}

570 
uöt8_t
 
	gRH_ASK
::
	$maxMesßgeLígth
()

572  
RH_ASK_MAX_MESSAGE_LEN
;

573 
	}
}

575 #i‡(
RH_PLATFORM
 =
RH_PLATFORM_ARDUINO
)

576 #i‡
deföed
(
RH_PLATFORM_ATTINY
)

577 
	#RH_ASK_TIMER_VECTOR
 
TIM0_COMPA_ve˘


	)

579 #i‡
deföed
(
RH_ASK_ARDUINO_USE_TIMER2
)

580 
	#RH_ASK_TIMER_VECTOR
 
TIMER2_COMPA_ve˘


	)

582 
	#RH_ASK_TIMER_VECTOR
 
TIMER1_COMPA_ve˘


	)

585 #ñi‡(
RH_ASK_PLATFORM
 =
RH_ASK_PLATFORM_GENERIC_AVR8
)

586 
	#__COMB
(
a
,
b
,
c
Ë◊##b##c)

	)

587 
	#_COMB
(
a
,
b
,
c
Ë
	`__COMB
◊,b,c)

	)

588 
	#RH_ASK_TIMER_VECTOR
 
	`_COMB
(
TIMER
,
RH_ASK_TIMER_INDEX
,
_COMPA_ve˘
)

	)

591 #i‡(
RH_PLATFORM
 =
RH_PLATFORM_ARDUINO
Ë&& 
deföed
(
__¨m__
Ë&& deföed(
CORE_TEENSY
)

592 
	$TIMER1_COMPA_ve˘
()

594 
thisASKDrivî
->
	`h™dÀTimîI¡îru±
();

595 
	}
}

597 #ñi‡(
RH_PLATFORM
 =
RH_PLATFORM_ARDUINO
Ë&& 
deföed
 (
__¨m__
Ë&& deföed(
ARDUINO_ARCH_SAMD
)

599 
	$TC3_H™dÀr
()

602 
TcCou¡16
* 
TC
 = (TcCou¡16*)
RH_ASK_ZERO_TIMER
;

603 
TC
->
INTFLAG
.
bô
.
MC0
 = 1;

604 
thisASKDrivî
->
	`h™dÀTimîI¡îru±
();

605 
	}
}

607 #ñi‡(
RH_PLATFORM
 =
RH_PLATFORM_ARDUINO
Ë&& 
deföed
(
__¨m__
Ë&& deföed(
ARDUINO_SAM_DUE
)

609 
	$TC1_H™dÀr
()

611 
	`TC_GëSètus
(
RH_ASK_DUE_TIMER
, 1);

612 
thisASKDrivî
->
	`h™dÀTimîI¡îru±
();

613 
	}
}

615 #ñi‡(
RH_PLATFORM
 =
RH_PLATFORM_ARDUINO
Ë|| (RH_PLATFORM =
RH_PLATFORM_GENERIC_AVR8
)

620 
	$ISR
(
RH_ASK_TIMER_VECTOR
)

622 
thisASKDrivî
->
	`h™dÀTimîI¡îru±
();

623 
	}
}

625 #ñi‡(
RH_PLATFORM
 =
RH_PLATFORM_MSP430
Ë|| (RH_PLATFORM =
RH_PLATFORM_STM32
)

627 
	$öãºu±
()

629 
thisASKDrivî
->
	`h™dÀTimîI¡îru±
();

630 
	}
}

632 #ñi‡(
RH_PLATFORM
 =
RH_PLATFORM_STM32F2
)

633 
	$TimîI¡îru±H™dÀr
()

635 
thisASKDrivî
->
	`h™dÀTimîI¡îru±
();

636 
	}
}

638 #ñi‡(
RH_PLATFORM
 =
RH_PLATFORM_MSP430
)

639 
	$öãºu±
(
TIMER0_A0_VECTOR
Ë
	$Timî_A_öt
()

641 
thisASKDrivî
->
	`h™dÀTimîI¡îru±
();

642 
	}
};

644 #ñi‡(
RH_PLATFORM
 =
RH_PLATFORM_CHIPKIT_CORE
)

646 
uöt32_t
 
	$chùkô_timî_öãºu±_h™dÀr
(
uöt32_t
 
cuºítTime
)

648 
thisASKDrivî
->
	`h™dÀTimîI¡îru±
();

649  (
cuºítTime
 + ((
CORE_TICK_RATE
 * 1000)/8)/
thisASKDrivî
->
	`•ìd
());

650 
	}
}

652 #ñi‡(
RH_PLATFORM
 =
RH_PLATFORM_UNO32
)

656 
__ISR
(
_TIMER_1_VECTOR
, 
ùl1
Ë
timîI¡îru±
()

658 
thisASKDrivî
->
h™dÀTimîI¡îru±
();

659 
mT1CÀ¨I¡Fœg
();

662 #ñi‡(
RH_PLATFORM
 =
RH_PLATFORM_ESP8266
)

663 
INTERRUPT_ATTR
 
	$e•8266_timî_öãºu±_h™dÀr
()

667 
	`timî0_wrôe
(
ESP
.
	`gëCy˛eCou¡
(Ë+ 
thisASKDrivî
->
_timîIn¸emít
);

671 
thisASKDrivî
->
	`h™dÀTimîI¡îru±
();

672 
	}
}

677 
uöt8_t
 
INTERRUPT_ATTR
 
RH_ASK
::
	$symbﬁ_6to4
(
uöt8_t
 
symbﬁ
)

679 
uöt8_t
 
i
;

680 
uöt8_t
 
cou¡
;

687 
i
 = (
symbﬁ
>>2Ë& 8, 
cou¡
=8; count-- ; i++)

688 i‡(
symbﬁ
 =
symbﬁs
[
i
])  i;

691 
	}
}

696 
RH_ASK
::
	$vÆid©eRxBuf
()

698 
uöt16_t
 
¸c
 = 0xffff;

700 
uöt8_t
 
i
 = 0; i < 
_rxBufLí
; i++)

701 
¸c
 = 
	`RH¸c_ccôt_upd©e
(¸c, 
_rxBuf
[
i
]);

702 i‡(
¸c
 != 0xf0b8)

705 
_rxBad
++;

706 
_rxBufVÆid
 = 
Ál£
;

711 
_rxHódîTo
 = 
_rxBuf
[1];

712 
_rxHódîFrom
 = 
_rxBuf
[2];

713 
_rxHódîId
 = 
_rxBuf
[3];

714 
_rxHódîFœgs
 = 
_rxBuf
[4];

715 i‡(
_¥omiscuous
 ||

716 
_rxHódîTo
 =
_thisAddªss
 ||

717 
_rxHódîTo
 =
RH_BROADCAST_ADDRESS
)

719 
_rxGood
++;

720 
_rxBufVÆid
 = 
åue
;

722 
	}
}

724 
INTERRUPT_ATTR
 
RH_ASK
::
	$ª˚iveTimî
()

726 
boﬁ
 
rxSam∂e
 = 
	`ªadRx
();

729 i‡(
rxSam∂e
)

730 
_rxI¡egøt‹
++;

732 i‡(
rxSam∂e
 !
_rxLa°Sam∂e
)

735 
_rxPŒRamp
 +((_rxPŒRam∞< 
RH_ASK_RAMP_TRANSITION
)

736 ? 
RH_ASK_RAMP_INC_RETARD


737 : 
RH_ASK_RAMP_INC_ADVANCE
);

738 
_rxLa°Sam∂e
 = 
rxSam∂e
;

744 
_rxPŒRamp
 +
RH_ASK_RAMP_INC
;

746 i‡(
_rxPŒRamp
 >
RH_ASK_RX_RAMP_LEN
)

750 
_rxBôs
 >>= 1;

754 i‡(
_rxI¡egøt‹
 >= 5)

755 
_rxBôs
 |= 0x800;

757 
_rxPŒRamp
 -
RH_ASK_RX_RAMP_LEN
;

758 
_rxI¡egøt‹
 = 0;

760 i‡(
_rxA˘ive
)

764 i‡(++
_rxBôCou¡
 >= 12)

769 
uöt8_t
 
this_byã
 =

770 (
	`symbﬁ_6to4
(
_rxBôs
 & 0x3f)) << 4

771 | 
	`symbﬁ_6to4
(
_rxBôs
 >> 6);

776 i‡(
_rxBufLí
 == 0)

781 
_rxCou¡
 = 
this_byã
;

782 i‡(
_rxCou¡
 < 7 || _rxCou¡ > 
RH_ASK_MAX_PAYLOAD_LEN
)

785 
_rxA˘ive
 = 
Ál£
;

786 
_rxBad
++;

790 
_rxBuf
[
_rxBufLí
++] = 
this_byã
;

792 i‡(
_rxBufLí
 >
_rxCou¡
)

795 
_rxA˘ive
 = 
Ál£
;

796 
_rxBufFuŒ
 = 
åue
;

797 
	`£tModeIdÀ
();

799 
_rxBôCou¡
 = 0;

803 i‡(
_rxBôs
 =
RH_ASK_START_SYMBOL
)

806 
_rxA˘ive
 = 
åue
;

807 
_rxBôCou¡
 = 0;

808 
_rxBufLí
 = 0;

811 
	}
}

813 
INTERRUPT_ATTR
 
RH_ASK
::
	$å™smôTimî
()

815 i‡(
_txSam∂e
++ == 0)

821 i‡(
_txIndex
 >
_txBufLí
)

823 
	`£tModeIdÀ
();

824 
_txGood
++;

828 
	`wrôeTx
(
_txBuf
[
_txIndex
] & (1 << 
_txBô
++));

829 i‡(
_txBô
 >= 6)

831 
_txBô
 = 0;

832 
_txIndex
++;

837 i‡(
_txSam∂e
 > 7)

838 
_txSam∂e
 = 0;

839 
	}
}

841 
INTERRUPT_ATTR
 
RH_ASK
::
	$h™dÀTimîI¡îru±
()

843 i‡(
_mode
 =
RHModeRx
)

844 
	`ª˚iveTimî
();

845 i‡(
_mode
 =
RHModeTx
)

846 
	`å™smôTimî
();

847 
	}
}

	@RH_ASK.h

6 #i‚de‡
RH_ASK_h


7 
	#RH_ASK_h


	)

9 
	~<RHGíîicDrivî.h
>

13 
	#RH_ASK_MAX_PAYLOAD_LEN
 67

	)

17 
	#RH_ASK_HEADER_LEN
 4

	)

22 #i‚de‡
RH_ASK_MAX_MESSAGE_LEN


23 
	#RH_ASK_MAX_MESSAGE_LEN
 (
RH_ASK_MAX_PAYLOAD_LEN
 - 
RH_ASK_HEADER_LEN
 - 3)

	)

26 #i‡!
deföed
(
RH_ASK_RX_SAMPLES_PER_BIT
)

28 
	#RH_ASK_RX_SAMPLES_PER_BIT
 8

	)

32 
	#RH_ASK_RX_RAMP_LEN
 160

	)

40 
	#RH_ASK_RAMP_INC
 (
RH_ASK_RX_RAMP_LEN
/
RH_ASK_RX_SAMPLES_PER_BIT
)

	)

42 
	#RH_ASK_RAMP_TRANSITION
 
RH_ASK_RX_RAMP_LEN
/2

	)

44 
	#RH_ASK_RAMP_ADJUST
 9

	)

46 
	#RH_ASK_RAMP_INC_RETARD
 (
RH_ASK_RAMP_INC
-
RH_ASK_RAMP_ADJUST
)

	)

48 
	#RH_ASK_RAMP_INC_ADVANCE
 (
RH_ASK_RAMP_INC
+
RH_ASK_RAMP_ADJUST
)

	)

58 
	#RH_ASK_PREAMBLE_LEN
 8

	)

242 ˛as†
	cRH_ASK
 : 
public
 
RHGíîicDrivî


244 
public
:

252 
RH_ASK
(
uöt16_t
 
•ìd
 = 2000, 
uöt8_t
 
rxPö
 = 11, uöt8_à
txPö
 = 12, uöt8_à
±tPö
 = 10, 
boﬁ
 
±tInvîãd
 = 
Ál£
);

257 
vútuÆ
 
boﬁ
 
öô
();

265 
vútuÆ
 
boﬁ
 
avaûabÀ
();

276 
vútuÆ
 
boﬁ
 
ªcv
(
uöt8_t
* 
buf
, uöt8_t* 
Àn
);

284 
vútuÆ
 
boﬁ
 
£nd
(c⁄° 
uöt8_t
* 
d©a
, uöt8_à
Àn
);

289 
vútuÆ
 
uöt8_t
 
maxMesßgeLígth
();

293 
£tModeIdÀ
();

297 
£tModeRx
();

301 
£tModeTx
();

304 
h™dÀTimîI¡îru±
();

308 
uöt16_t
 
	$•ìd
(Ë{  
_•ìd
;}

310 #i‡(
RH_PLATFORM
 =
RH_PLATFORM_ESP8266
)

312 
uöt32_t
 
_timîIn¸emít
;

315 
¥Ÿe˘ed
:

317 
uöt8_t
 
	`timîCÆc
(
uöt16_t
 
•ìd
, uöt16_à
max_ticks
, uöt16_à*
¡icks
);

320 
	`timîSëup
();

323 
boﬁ
 
	`ªadRx
();

326 
	`wrôeTx
(
boﬁ
 
vÆue
);

329 
	`wrôePâ
(
boﬁ
 
vÆue
);

332 
uöt8_t
 
	`symbﬁ_6to4
(uöt8_à
symbﬁ
);

335 
	`ª˚iveTimî
();

338 
	`å™smôTimî
();

343 
	`vÆid©eRxBuf
();

346 
uöt16_t
 
_•ìd
;

349 
uöt8_t
 
_rxPö
;

352 
uöt8_t
 
_txPö
;

355 
uöt8_t
 
_±tPö
;

358 
boﬁ
 
_rxInvîãd
;

361 
boﬁ
 
_±tInvîãd
;

365 vﬁ©ûê
boﬁ
 
_rxBufFuŒ
;

368 vﬁ©ûê
boﬁ
 
_rxBufVÆid
;

371 vﬁ©ûê
boﬁ
 
_rxLa°Sam∂e
;

375 vﬁ©ûê
uöt8_t
 
_rxI¡egøt‹
;

381 vﬁ©ûê
uöt8_t
 
_rxPŒRamp
;

385 vﬁ©ûê
uöt8_t
 
_rxA˘ive
;

388 vﬁ©ûê
uöt16_t
 
_rxBôs
;

391 vﬁ©ûê
uöt8_t
 
_rxBôCou¡
;

394 
uöt8_t
 
_rxBuf
[
RH_ASK_MAX_PAYLOAD_LEN
];

397 vﬁ©ûê
uöt8_t
 
_rxCou¡
;

400 vﬁ©ûê
uöt8_t
 
_rxBufLí
;

403 
uöt8_t
 
_txIndex
;

406 
uöt8_t
 
_txBô
;

409 
uöt8_t
 
_txSam∂e
;

412 
uöt8_t
 
_txBuf
[(
RH_ASK_MAX_PAYLOAD_LEN
 * 2Ë+ 
RH_ASK_PREAMBLE_LEN
];

415 
uöt8_t
 
_txBufLí
;

417 
	}
};

	@RH_CC110.cpp

8 
	~<RH_CC110.h
>

13 
RH_CC110
* 
	gRH_CC110
::
_devi˚F‹I¡îru±
[
RH_CC110_NUM_INTERRUPTS
] = {0, 0, 0};

14 
uöt8_t
 
	gRH_CC110
::
_öãºu±Cou¡
 = 0;

22 
PROGMEM
 c⁄° 
	gRH_CC110
::
ModemC⁄fig
 
MODEM_CONFIG_TABLE_26MHZ
[] =

36 
PROGMEM
 c⁄° 
	gRH_CC110
::
ModemC⁄fig
 
MODEM_CONFIG_TABLE_27MHZ
[] =

55 
PROGMEM
 c⁄° 
uöt8_t
 
	g∑PowîVÆues
[] =

67 
	gRH_CC110
::
	$RH_CC110
(
uöt8_t
 
¶aveSñe˘Pö
, uöt8_à
öãºu±Pö
, 
boﬁ
 
is27MHz
, 
RHGíîicSPI
& 
•i
)

69 
	`RHNRFSPIDrivî
(
¶aveSñe˘Pö
, 
•i
),

70 
	`_rxBufVÆid
(
Ál£
),

71 
	$_is27MHz
(
is27MHz
)

73 
_öãºu±Pö
 = 
öãºu±Pö
;

74 
_myI¡îru±Index
 = 0xff;

75 
	}
}

77 
boﬁ
 
	gRH_CC110
::
	$öô
()

79 i‡(!
RHNRFSPIDrivî
::
	`öô
())

80  
Ál£
;

83 
öãºu±Numbî
 = 
	`digôÆPöToI¡îru±
(
_öãºu±Pö
);

84 i‡(
öãºu±Numbî
 =
NOT_AN_INTERRUPT
)

85  
Ál£
;

86 #ifde‡
RH_ATTACHINTERRUPT_TAKES_PIN_NUMBER


87 
öãºu±Numbî
 = 
_öãºu±Pö
;

92 
uöt8_t
 
vÆ
 = 
	`•iComm™d
(
RH_CC110_STROBE_30_SRES
);

93 
	`dñay
(100);

94 
vÆ
 = 
	`•iComm™d
(
RH_CC110_STROBE_36_SIDLE
);

95 i‡(
vÆ
 != 0x0f)

96  
Ál£
;

101 
	`pöMode
(
_öãºu±Pö
, 
INPUT
);

109 i‡(
_myI¡îru±Index
 == 0xff)

112 i‡(
_öãºu±Cou¡
 <
RH_CC110_NUM_INTERRUPTS
)

113 
_myI¡îru±Index
 = 
_öãºu±Cou¡
++;

115  
Ál£
;

117 
_devi˚F‹I¡îru±
[
_myI¡îru±Index
] = 
this
;

118 i‡(
_myI¡îru±Index
 == 0)

119 
	`©èchI¡îru±
(
öãºu±Numbî
, 
i§0
, 
RISING
);

120 i‡(
_myI¡îru±Index
 == 1)

121 
	`©èchI¡îru±
(
öãºu±Numbî
, 
i§1
, 
RISING
);

122 i‡(
_myI¡îru±Index
 == 2)

123 
	`©èchI¡îru±
(
öãºu±Numbî
, 
i§2
, 
RISING
);

125  
Ál£
;

127 
	`•iWrôeRegi°î
(
RH_CC110_REG_02_IOCFG0
, 
RH_CC110_GDO_CFG_CRC_OK_AUTORESET
);

128 
	`•iWrôeRegi°î
(
RH_CC110_REG_06_PKTLEN
, 
RH_CC110_MAX_PAYLOAD_LEN
);

129 
	`•iWrôeRegi°î
(
RH_CC110_REG_07_PKTCTRL1
, 
RH_CC110_CRC_AUTOFLUSH
);

130 
	`•iWrôeRegi°î
(
RH_CC110_REG_08_PKTCTRL0
, 
RH_CC110_PKT_FORMAT_NORMAL
 | 
RH_CC110_CRC_EN
 | 
RH_CC110_LENGTH_CONFIG_VARIABLE
);

131 
	`•iWrôeRegi°î
(
RH_CC110_REG_13_MDMCFG1
, 
RH_CC110_NUM_PREAMBLE_4
);

132 
	`•iWrôeRegi°î
(
RH_CC110_REG_17_MCSM1
, 
RH_CC110_CCA_MODE_RSSI_PACKET
 | 
RH_CC110_RXOFF_MODE_RX
 | 
RH_CC110_TXOFF_MODE_IDLE
);

133 
	`•iWrôeRegi°î
(
RH_CC110_REG_18_MCSM0
, 
RH_CC110_FS_AUTOCAL_FROM_IDLE
 | 
RH_CC110_PO_TIMEOUT_64
);

134 
	`•iWrôeRegi°î
(
RH_CC110_REG_20_WORCTRL
, 0xfb);

135 
	`•iWrôeRegi°î
(
RH_CC110_REG_29_FSTEST
, 0x59);

136 
	`•iWrôeRegi°î
(
RH_CC110_REG_2A_PTEST
, 0x7f);

137 
	`•iWrôeRegi°î
(
RH_CC110_REG_2B_AGCTEST
, 0x3f);

140 
uöt8_t
 
syncW‹ds
[] = { 0xd3, 0x91 };

141 
	`£tSyncW‹ds
(
syncW‹ds
, (syncWords));

142 
	`£tTxPowî
(
TønsmôPowî5dBm
);

143 
	`£tFªquícy
(915.0);

144 
	`£tModemC⁄fig
(
GFSK_Rb1_2Fd5_2
);

145  
åue
;

146 
	}
}

148 
	gRH_CC110
::
	$£tIs27MHz
(
boﬁ
 
is27MHz
)

150 
_is27MHz
 = 
is27MHz
;

151 
	}
}

155 
	gRH_CC110
::
	$h™dÀI¡îru±
()

158 i‡(
_mode
 =
RHModeRx
)

163 
_œ°Rssi
 = 
	`•iBur°RódRegi°î
(
RH_CC110_REG_34_RSSI
);

164 
_bufLí
 = 
	`•iRódRegi°î
(
RH_CC110_REG_3F_FIFO
);

165 i‡(
_bufLí
 < 4)

168 
	`•iComm™d
(
RH_CC110_STROBE_3A_SFRX
);

169 
	`˛órRxBuf
();

172 
	`•iBur°Ród
(
RH_CC110_REG_3F_FIFO
 | 
RH_CC110_SPI_BURST_MASK
 | 
RH_CC110_SPI_READ_MASK
, 
_buf
, 
_bufLí
);

174 
	`vÆid©eRxBuf
();

175 i‡(
_rxBufVÆid
)

176 
	`£tModeIdÀ
();

178 
	}
}

183 
	gRH_CC110
::
	$i§0
()

185 i‡(
_devi˚F‹I¡îru±
[0])

186 
_devi˚F‹I¡îru±
[0]->
	`h™dÀI¡îru±
();

187 
	}
}

188 
	gRH_CC110
::
	$i§1
()

190 i‡(
_devi˚F‹I¡îru±
[1])

191 
_devi˚F‹I¡îru±
[1]->
	`h™dÀI¡îru±
();

192 
	}
}

193 
	gRH_CC110
::
	$i§2
()

195 i‡(
_devi˚F‹I¡îru±
[2])

196 
_devi˚F‹I¡îru±
[2]->
	`h™dÀI¡îru±
();

197 
	}
}

199 
uöt8_t
 
	gRH_CC110
::
	$•iRódRegi°î
(
uöt8_t
 
ªg
)

201  
	`•iRód
((
ªg
 & 0x3fË| 
RH_CC110_SPI_READ_MASK
);

202 
	}
}

204 
uöt8_t
 
	gRH_CC110
::
	$•iBur°RódRegi°î
(
uöt8_t
 
ªg
)

206  
	`•iRód
((
ªg
 & 0x3fË| 
RH_CC110_SPI_READ_MASK
 | 
RH_CC110_SPI_BURST_MASK
);

207 
	}
}

209 
uöt8_t
 
	gRH_CC110
::
	$•iWrôeRegi°î
(
uöt8_t
 
ªg
, uöt8_à
vÆ
)

211  
	`•iWrôe
((
ªg
 & 0x3f), 
vÆ
);

212 
	}
}

214 
uöt8_t
 
	gRH_CC110
::
	$•iBur°WrôeRegi°î
(
uöt8_t
 
ªg
, c⁄° uöt8_t* 
§c
, uöt8_à
Àn
)

216  
	`•iBur°Wrôe
((
ªg
 & 0x3fË| 
RH_CC110_SPI_BURST_MASK
, 
§c
, 
Àn
);

217 
	}
}

219 
boﬁ
 
	gRH_CC110
::
	$¥ötRegi°îs
()

221 #ifde‡
RH_HAVE_SERIAL


222 
uöt8_t
 
i
;

223 
i
 = 0; i <= 0x2f; i++)

225 
Sîül
.
	`¥öt
(
i
, 
HEX
);

226 
Sîül
.
	`¥öt
(": ");

227 
Sîül
.
	`¥öén
(
	`•iRódRegi°î
(
i
), 
HEX
);

230 
i
 = 0x30; i <= 0x3e; i++)

232 
Sîül
.
	`¥öt
(
i
, 
HEX
);

233 
Sîül
.
	`¥öt
(": ");

234 
Sîül
.
	`¥öén
(
	`•iBur°RódRegi°î
(
i
), 
HEX
);

237  
åue
;

238 
	}
}

241 
	gRH_CC110
::
	$vÆid©eRxBuf
()

243 i‡(
_bufLí
 < 4)

246 
_rxHódîTo
 = 
_buf
[0];

247 
_rxHódîFrom
 = 
_buf
[1];

248 
_rxHódîId
 = 
_buf
[2];

249 
_rxHódîFœgs
 = 
_buf
[3];

250 i‡(
_¥omiscuous
 ||

251 
_rxHódîTo
 =
_thisAddªss
 ||

252 
_rxHódîTo
 =
RH_BROADCAST_ADDRESS
)

254 
_rxGood
++;

255 
_rxBufVÆid
 = 
åue
;

257 
	}
}

259 
boﬁ
 
	gRH_CC110
::
	$avaûabÀ
()

261 i‡(
_mode
 =
RHModeTx
)

262  
Ál£
;

263 i‡(
_rxBufVÆid
)

264  
åue
;

265 
	`£tModeRx
();

266  
Ál£
;

267 
	}
}

269 
	gRH_CC110
::
	$˛órRxBuf
()

271 
ATOMIC_BLOCK_START
;

272 
_rxBufVÆid
 = 
Ál£
;

273 
_bufLí
 = 0;

274 
ATOMIC_BLOCK_END
;

275 
	}
}

277 
boﬁ
 
	gRH_CC110
::
	$ªcv
(
uöt8_t
* 
buf
, uöt8_t* 
Àn
)

279 i‡(!
	`avaûabÀ
())

280  
Ál£
;

282 i‡(
buf
 && 
Àn
)

284 
ATOMIC_BLOCK_START
;

286 i‡(*
Àn
 > 
_bufLí
 - 
RH_CC110_HEADER_LEN
)

287 *
Àn
 = 
_bufLí
 - 
RH_CC110_HEADER_LEN
;

288 
	`mem˝y
(
buf
, 
_buf
 + 
RH_CC110_HEADER_LEN
, *
Àn
);

289 
ATOMIC_BLOCK_END
;

291 
	`˛órRxBuf
();

293  
åue
;

294 
	}
}

296 
boﬁ
 
	gRH_CC110
::
	$£nd
(c⁄° 
uöt8_t
* 
d©a
, uöt8_à
Àn
)

298 i‡(
Àn
 > 
RH_CC110_MAX_MESSAGE_LEN
)

299  
Ál£
;

301 
	`waôPackëSít
();

302 
	`£tModeIdÀ
();

304 i‡(!
	`waôCAD
())

305  
Ál£
;

307 
	`•iWrôeRegi°î
(
RH_CC110_REG_3F_FIFO
, 
Àn
 + 
RH_CC110_HEADER_LEN
);

308 
	`•iWrôeRegi°î
(
RH_CC110_REG_3F_FIFO
,
_txHódîTo
);

309 
	`•iWrôeRegi°î
(
RH_CC110_REG_3F_FIFO
,
_txHódîFrom
);

310 
	`•iWrôeRegi°î
(
RH_CC110_REG_3F_FIFO
,
_txHódîId
);

311 
	`•iWrôeRegi°î
(
RH_CC110_REG_3F_FIFO
,
_txHódîFœgs
);

312 
	`•iBur°WrôeRegi°î
(
RH_CC110_REG_3F_FIFO
, 
d©a
, 
Àn
);

316 
	`£tModeTx
();

318  
åue
;

319 
	}
}

321 
uöt8_t
 
	gRH_CC110
::
	$maxMesßgeLígth
()

323  
RH_CC110_MAX_MESSAGE_LEN
;

324 
	}
}

326 
	gRH_CC110
::
	$£tModeIdÀ
()

328 i‡(
_mode
 !
RHModeIdÀ
)

330 
	`•iComm™d
(
RH_CC110_STROBE_36_SIDLE
);

331 
_mode
 = 
RHModeIdÀ
;

333 
	}
}

335 
boﬁ
 
	gRH_CC110
::
	$¶ìp
()

337 i‡(
_mode
 !
RHModeSÀï
)

339 
	`•iComm™d
(
RH_CC110_STROBE_39_SPWD
);

340 
_mode
 = 
RHModeSÀï
;

342  
åue
;

343 
	}
}

345 
	gRH_CC110
::
	$£tModeRx
()

347 i‡(
_mode
 !
RHModeRx
)

351 
	`•iComm™d
(
RH_CC110_STROBE_34_SRX
);

352 
_mode
 = 
RHModeRx
;

354 
	}
}

356 
	gRH_CC110
::
	$£tModeTx
()

358 i‡(
_mode
 !
RHModeTx
)

360 
	`•iComm™d
(
RH_CC110_STROBE_35_STX
);

361 
_mode
 = 
RHModeTx
;

363 
	}
}

365 
uöt8_t
 
	gRH_CC110
::
	$°©usRód
()

367  
	`•iComm™d
(
RH_CC110_STROBE_3D_SNOP
);

368 
	}
}

371 
boﬁ
 
	gRH_CC110
::
	$waôPackëSít
()

374 i‡(
_mode
 !
RHModeTx
)

375  
Ál£
;

378 (
	`°©usRód
(Ë& 
RH_CC110_STATUS_STATE
Ë!
RH_CC110_STATUS_IDLE
)

379 
YIELD
;

381 
_mode
 = 
RHModeIdÀ
;

382  
åue
;

383 
	}
}

385 
boﬁ
 
	gRH_CC110
::
	$£tTxPowî
(
TønsmôPowî
 
powî
)

387 i‡(
powî
 > (
∑PowîVÆues
))

388  
Ál£
;

390 
uöt8_t
 
∑èbÀ
[2];

391 
	`mem˝y_P
(&
∑èbÀ
[0], (*)&
∑PowîVÆues
[
powî
], (
uöt8_t
));

392 
∑èbÀ
[1] = 0x00;

393 
	`£tPaTabÀ
(
∑èbÀ
, (patable));

394  
åue
;

395 
	}
}

397 
	gRH_CC110
::
	$£tPaTabÀ
(
uöt8_t
* 
∑èbÀ
, uöt8_à
∑èbÀsize
)

399 
	`•iBur°WrôeRegi°î
(
RH_CC110_REG_3E_PATABLE
, 
∑èbÀ
, 
∑èbÀsize
);

400 
	}
}

402 
boﬁ
 
	gRH_CC110
::
	$£tFªquícy
(
˚¡ª
)

405 
uöt32_t
 
FREQ
;

406 
fxosc
 = 
_is27MHz
 ? 27.0 : 26.0;

407 
FREQ
 = (
uöt32_t
)(
˚¡ª
 * 65536 / 
fxosc
);

409 i‡(
FREQ
 & 0xff000000)

410  
Ál£
;

411 
	`•iWrôeRegi°î
(
RH_CC110_REG_0D_FREQ2
, (
FREQ
 >> 16) & 0xff);

412 
	`•iWrôeRegi°î
(
RH_CC110_REG_0E_FREQ1
, (
FREQ
 >> 8) & 0xff);

413 
	`•iWrôeRegi°î
(
RH_CC110_REG_0F_FREQ0
, 
FREQ
 & 0xff);

417  
åue
;

418 
	}
}

421 
	gRH_CC110
::
	$£tModemRegi°îs
(c⁄° 
ModemC⁄fig
* 
c⁄fig
)

423 
	`•iWrôeRegi°î
(
RH_CC110_REG_0B_FSCTRL1
, 
c⁄fig
->
ªg_0b
);

424 
	`•iWrôeRegi°î
(
RH_CC110_REG_0C_FSCTRL0
, 
c⁄fig
->
ªg_0c
);

425 
	`•iWrôeRegi°î
(
RH_CC110_REG_10_MDMCFG4
, 
c⁄fig
->
ªg_10
);

426 
	`•iWrôeRegi°î
(
RH_CC110_REG_11_MDMCFG3
, 
c⁄fig
->
ªg_11
);

427 
	`•iWrôeRegi°î
(
RH_CC110_REG_12_MDMCFG2
, 
c⁄fig
->
ªg_12
);

428 
	`•iWrôeRegi°î
(
RH_CC110_REG_15_DEVIATN
, 
c⁄fig
->
ªg_15
);

429 
	`•iWrôeRegi°î
(
RH_CC110_REG_19_FOCCFG
, 
c⁄fig
->
ªg_19
);

430 
	`•iWrôeRegi°î
(
RH_CC110_REG_1A_BSCFG
, 
c⁄fig
->
ªg_1a
);

431 
	`•iWrôeRegi°î
(
RH_CC110_REG_1B_AGCCTRL2
, 
c⁄fig
->
ªg_1b
);

432 
	`•iWrôeRegi°î
(
RH_CC110_REG_1C_AGCCTRL1
, 
c⁄fig
->
ªg_1c
);

433 
	`•iWrôeRegi°î
(
RH_CC110_REG_1D_AGCCTRL0
, 
c⁄fig
->
ªg_1d
);

434 
	`•iWrôeRegi°î
(
RH_CC110_REG_21_FREND1
, 
c⁄fig
->
ªg_21
);

435 
	`•iWrôeRegi°î
(
RH_CC110_REG_22_FREND0
, 
c⁄fig
->
ªg_22
);

436 
	`•iWrôeRegi°î
(
RH_CC110_REG_23_FSCAL3
, 
c⁄fig
->
ªg_23
);

437 
	`•iWrôeRegi°î
(
RH_CC110_REG_24_FSCAL2
, 
c⁄fig
->
ªg_24
);

438 
	`•iWrôeRegi°î
(
RH_CC110_REG_25_FSCAL1
, 
c⁄fig
->
ªg_25
);

439 
	`•iWrôeRegi°î
(
RH_CC110_REG_26_FSCAL0
, 
c⁄fig
->
ªg_26
);

440 
	`•iWrôeRegi°î
(
RH_CC110_REG_2C_TEST2
, 
c⁄fig
->
ªg_2c
);

441 
	`•iWrôeRegi°î
(
RH_CC110_REG_2D_TEST1
, 
c⁄fig
->
ªg_2d
);

442 
	`•iWrôeRegi°î
(
RH_CC110_REG_2E_TEST0
, 
c⁄fig
->
ªg_2e
);

443 
	}
}

447 
boﬁ
 
	gRH_CC110
::
	$£tModemC⁄fig
(
ModemC⁄figChoi˚
 
ödex
)

449 i‡(
ödex
 > (sig√d )((
MODEM_CONFIG_TABLE_27MHZ
Ë/ (
ModemC⁄fig
)))

450  
Ál£
;

452 c⁄° 
RH_CC110
::
ModemC⁄fig
 *
p
 = 
_is27MHz
 ? 
MODEM_CONFIG_TABLE_27MHZ
 : 
MODEM_CONFIG_TABLE_26MHZ
 ;

453 
RH_CC110
::
ModemC⁄fig
 
cfg
;

454 
	`mem˝y_P
(&
cfg
, 
p
 + 
ödex
, (
RH_CC110
::
ModemC⁄fig
));

455 
	`£tModemRegi°îs
(&
cfg
);

457  
åue
;

458 
	}
}

460 
	gRH_CC110
::
	$£tSyncW‹ds
(c⁄° 
uöt8_t
* 
syncW‹ds
, uöt8_à
Àn
)

462 i‡(!
syncW‹ds
 || 
Àn
 != 2)

465 
	`•iWrôeRegi°î
(
RH_CC110_REG_04_SYNC1
, 
syncW‹ds
[0]);

466 
	`•iWrôeRegi°î
(
RH_CC110_REG_05_SYNC0
, 
syncW‹ds
[1]);

467 
	}
}

	@RH_CC110.h

13 #i‚de‡
RH_CC110_h


14 
	#RH_CC110_h


	)

17 
	~<RHNRFSPIDrivî.h
>

21 
	#RH_CC110_NUM_INTERRUPTS
 3

	)

24 
	#RH_CC110_FIFO_SIZE
 64

	)

28 
	#RH_CC110_MAX_PAYLOAD_LEN
 
RH_CC110_FIFO_SIZE


	)

32 
	#RH_CC110_HEADER_LEN
 4

	)

37 #i‚de‡
RH_CC110_MAX_MESSAGE_LEN


38 
	#RH_CC110_MAX_MESSAGE_LEN
 (
RH_CC110_MAX_PAYLOAD_LEN
 - 
RH_CC110_HEADER_LEN
 - 1)

	)

41 
	#RH_CC110_SPI_READ_MASK
 0x80

	)

42 
	#RH_CC110_SPI_BURST_MASK
 0x40

	)

45 
	#RH_CC110_REG_00_IOCFG2
 0x00

	)

46 
	#RH_CC110_REG_01_IOCFG1
 0x01

	)

47 
	#RH_CC110_REG_02_IOCFG0
 0x02

	)

48 
	#RH_CC110_REG_03_FIFOTHR
 0x03

	)

49 
	#RH_CC110_REG_04_SYNC1
 0x04

	)

50 
	#RH_CC110_REG_05_SYNC0
 0x05

	)

51 
	#RH_CC110_REG_06_PKTLEN
 0x06

	)

52 
	#RH_CC110_REG_07_PKTCTRL1
 0x07

	)

53 
	#RH_CC110_REG_08_PKTCTRL0
 0x08

	)

54 
	#RH_CC110_REG_09_ADDR
 0x09

	)

55 
	#RH_CC110_REG_0A_CHANNR
 0x0a

	)

56 
	#RH_CC110_REG_0B_FSCTRL1
 0x0b

	)

57 
	#RH_CC110_REG_0C_FSCTRL0
 0x0c

	)

58 
	#RH_CC110_REG_0D_FREQ2
 0x0d

	)

59 
	#RH_CC110_REG_0E_FREQ1
 0x0e

	)

60 
	#RH_CC110_REG_0F_FREQ0
 0x0f

	)

61 
	#RH_CC110_REG_10_MDMCFG4
 0x10

	)

62 
	#RH_CC110_REG_11_MDMCFG3
 0x11

	)

63 
	#RH_CC110_REG_12_MDMCFG2
 0x12

	)

64 
	#RH_CC110_REG_13_MDMCFG1
 0x13

	)

65 
	#RH_CC110_REG_14_MDMCFG0
 0x14

	)

66 
	#RH_CC110_REG_15_DEVIATN
 0x15

	)

67 
	#RH_CC110_REG_16_MCSM2
 0x16

	)

68 
	#RH_CC110_REG_17_MCSM1
 0x17

	)

69 
	#RH_CC110_REG_18_MCSM0
 0x18

	)

70 
	#RH_CC110_REG_19_FOCCFG
 0x19

	)

71 
	#RH_CC110_REG_1A_BSCFG
 0x1a

	)

72 
	#RH_CC110_REG_1B_AGCCTRL2
 0x1b

	)

73 
	#RH_CC110_REG_1C_AGCCTRL1
 0x1c

	)

74 
	#RH_CC110_REG_1D_AGCCTRL0
 0x1d

	)

75 
	#RH_CC110_REG_1E_WOREVT1
 0x1e

	)

76 
	#RH_CC110_REG_1F_WOREVT0
 0x1f

	)

77 
	#RH_CC110_REG_20_WORCTRL
 0x20

	)

78 
	#RH_CC110_REG_21_FREND1
 0x21

	)

79 
	#RH_CC110_REG_22_FREND0
 0x22

	)

80 
	#RH_CC110_REG_23_FSCAL3
 0x23

	)

81 
	#RH_CC110_REG_24_FSCAL2
 0x24

	)

82 
	#RH_CC110_REG_25_FSCAL1
 0x25

	)

83 
	#RH_CC110_REG_26_FSCAL0
 0x26

	)

84 
	#RH_CC110_REG_27_RCCTRL1
 0x28

	)

85 
	#RH_CC110_REG_28_RCCTRL0
 0x29

	)

86 
	#RH_CC110_REG_29_FSTEST
 0x2a

	)

87 
	#RH_CC110_REG_2A_PTEST
 0x2b

	)

88 
	#RH_CC110_REG_2B_AGCTEST
 0x2c

	)

89 
	#RH_CC110_REG_2C_TEST2
 0x2c

	)

90 
	#RH_CC110_REG_2D_TEST1
 0x2d

	)

91 
	#RH_CC110_REG_2E_TEST0
 0x2e

	)

95 
	#RH_CC110_STROBE_30_SRES
 0x30

	)

96 
	#RH_CC110_STROBE_31_SFSTXON
 0x31

	)

97 
	#RH_CC110_STROBE_32_SXOFF
 0x32

	)

98 
	#RH_CC110_STROBE_33_SCAL
 0x33

	)

99 
	#RH_CC110_STROBE_34_SRX
 0x34

	)

100 
	#RH_CC110_STROBE_35_STX
 0x35

	)

101 
	#RH_CC110_STROBE_36_SIDLE
 0x36

	)

103 
	#RH_CC110_STROBE_39_SPWD
 0x39

	)

104 
	#RH_CC110_STROBE_3A_SFRX
 0x3a

	)

105 
	#RH_CC110_STROBE_3B_SFTX
 0x3b

	)

107 
	#RH_CC110_STROBE_3D_SNOP
 0x3d

	)

112 
	#RH_CC110_REG_30_PARTNUM
 0x30

	)

113 
	#RH_CC110_REG_31_VERSION
 0x31

	)

114 
	#RH_CC110_REG_32_FREQEST
 0x32

	)

115 
	#RH_CC110_REG_33_CRC_REG
 0x33

	)

116 
	#RH_CC110_REG_34_RSSI
 0x34

	)

117 
	#RH_CC110_REG_35_MARCSTATE
 0x35

	)

119 
	#RH_CC110_REG_38_PKTSTATUS
 0x38

	)

121 
	#RH_CC110_REG_3A_TXBYTES
 0x3a

	)

122 
	#RH_CC110_REG_3B_RXBYTES
 0x3b

	)

125 
	#RH_CC110_REG_3E_PATABLE
 0x3e

	)

126 
	#RH_CC110_REG_3F_FIFO
 0x3f

	)

129 
	#RH_CC110_STATUS_CHIP_RDY
 0x80

	)

130 
	#RH_CC110_STATUS_STATE
 0x70

	)

131 
	#RH_CC110_STATUS_IDLE
 0x00

	)

132 
	#RH_CC110_STATUS_RX
 0x10

	)

133 
	#RH_CC110_STATUS_TX
 0x20

	)

134 
	#RH_CC110_STATUS_FSTXON
 0x30

	)

135 
	#RH_CC110_STATUS_CALIBRATE
 0x40

	)

136 
	#RH_CC110_STATUS_SETTLING
 0x50

	)

137 
	#RH_CC110_STATUS_RXFIFO_OVERFLOW
 0x60

	)

138 
	#RH_CC110_STATUS_TXFIFO_UNDERFLOW
 0x70

	)

139 
	#RH_CC110_STATUS_FIFOBYTES_AVAILABLE
 0x0f

	)

143 
	#RH_CC110_CHIP_RDY
 0x80

	)

144 
	#RH_CC110_STATE
 0x70

	)

145 
	#RH_CC110_FIFO_BYTES_AVAILABLE
 0x0f

	)

151 
	#RH_CC110_GDO_CFG_RX_FIFO_THR
 0x00

	)

152 
	#RH_CC110_GDO_CFG_RX_FIFO_FULL
 0x01

	)

153 
	#RH_CC110_GDO_CFG_TX_FIFO_THR
 0x02

	)

154 
	#RH_CC110_GDO_CFG_TX_FIFO_EMPTY
 0x03

	)

155 
	#RH_CC110_GDO_CFG_RX_FIFO_OVERFLOW
 0x04

	)

156 
	#RH_CC110_GDO_CFG_TX_FIFO_UNDEFLOOW
 0x05

	)

157 
	#RH_CC110_GDO_CFG_SYNC
 0x06

	)

158 
	#RH_CC110_GDO_CFG_CRC_OK_AUTORESET
 0x07

	)

159 
	#RH_CC110_GDO_CFG_CCA
 0x09

	)

160 
	#RH_CC110_GDO_CFG_LOCK_DETECT
 0x0a

	)

161 
	#RH_CC110_GDO_CFG_SERIAL_CLOCK
 0x0b

	)

162 
	#RH_CC110_GDO_CFG_SYNCHRONOUS_SDO
 0x0c

	)

163 
	#RH_CC110_GDO_CFG_SDO
 0x0d

	)

164 
	#RH_CC110_GDO_CFG_CARRIER
 0x0e

	)

165 
	#RH_CC110_GDO_CFG_CRC_OK
 0x0f

	)

166 
	#RH_CC110_GDO_CFG_PA_PD
 0x1b

	)

167 
	#RH_CC110_GDO_CFG_LNA_PD
 0x1c

	)

168 
	#RH_CC110_GDO_CFG_CLK_32K
 0x27

	)

169 
	#RH_CC110_GDO_CFG_CHIP_RDYN
 0x29

	)

170 
	#RH_CC110_GDO_CFG_XOSC_STABLE
 0x2b

	)

171 
	#RH_CC110_GDO_CFG_HIGH_IMPEDANCE
 0x2e

	)

172 
	#RH_CC110_GDO_CFG_0
 0x2f

	)

173 
	#RH_CC110_GDO_CFG_CLK_XOSC_DIV_1
 0x30

	)

174 
	#RH_CC110_GDO_CFG_CLK_XOSC_DIV_1_5
 0x31

	)

175 
	#RH_CC110_GDO_CFG_CLK_XOSC_DIV_2
 0x32

	)

176 
	#RH_CC110_GDO_CFG_CLK_XOSC_DIV_3
 0x33

	)

177 
	#RH_CC110_GDO_CFG_CLK_XOSC_DIV_4
 0x34

	)

178 
	#RH_CC110_GDO_CFG_CLK_XOSC_DIV_6
 0x35

	)

179 
	#RH_CC110_GDO_CFG_CLK_XOSC_DIV_8
 0x36

	)

180 
	#RH_CC110_GDO_CFG_CLK_XOSC_DIV_12
 0x37

	)

181 
	#RH_CC110_GDO_CFG_CLK_XOSC_DIV_16
 0x38

	)

182 
	#RH_CC110_GDO_CFG_CLK_XOSC_DIV_24
 0x39

	)

183 
	#RH_CC110_GDO_CFG_CLK_XOSC_DIV_32
 0x3a

	)

184 
	#RH_CC110_GDO_CFG_CLK_XOSC_DIV_48
 0x3b

	)

185 
	#RH_CC110_GDO_CFG_CLK_XOSC_DIV_64
 0x3c

	)

186 
	#RH_CC110_GDO_CFG_CLK_XOSC_DIV_96
 0x3d

	)

187 
	#RH_CC110_GDO_CFG_CLK_XOSC_DIV_128
 0x3e

	)

188 
	#RH_CC110_GDO_CFG_CLK_XOSC_DIV_192
 0x3f

	)

191 
	#RH_CC110_ADC_RETENTION
 0x80

	)

193 
	#RH_CC110_CLOSE_IN_RX
 0x30

	)

194 
	#RH_CC110_CLOSE_IN_RX_0DB
 0x00

	)

195 
	#RH_CC110_CLOSE_IN_RX_6DB
 0x10

	)

196 
	#RH_CC110_CLOSE_IN_RX_12DB
 0x20

	)

197 
	#RH_CC110_CLOSE_IN_RX_18DB
 0x30

	)

199 
	#RH_CC110_FIFO_THR
 0x0f

	)

205 
	#RH_CC110_CRC_AUTOFLUSH
 0x08

	)

206 
	#RH_CC110_APPEND_STATUS
 0x04

	)

207 
	#RH_CC110_ADDR_CHK
 0x03

	)

209 
	#RH_CC110_ADDR_CHK_ADDRESS
 0x01

	)

210 
	#RH_CC110_ADDR_CHK_BROADCAST
 0x02

	)

214 
	#RH_CC110_PKT_FORMAT
 0x30

	)

215 
	#RH_CC110_PKT_FORMAT_NORMAL
 0x00

	)

216 
	#RH_CC110_PKT_FORMAT_SYNC_SERIAL
 0x10

	)

217 
	#RH_CC110_PKT_FORMAT_RANDOM_TX
 0x20

	)

218 
	#RH_CC110_PKT_FORMAT_ASYNC_SERIAL
 0x30

	)

220 
	#RH_CC110_CRC_EN
 0x04

	)

222 
	#RH_CC110_LENGTH_CONFIG
 0x03

	)

223 
	#RH_CC110_LENGTH_CONFIG_FIXED
 0x00

	)

224 
	#RH_CC110_LENGTH_CONFIG_VARIABLE
 0x01

	)

225 
	#RH_CC110_LENGTH_CONFIG_INFINITE
 0x02

	)

235 
	#RH_CC110_CHANBW_E
 0xc0

	)

236 
	#RH_CC110_CHANBW_M
 0x30

	)

237 
	#RH_CC110_DRATE_E
 0x0f

	)

241 
	#RH_CC110_DEM_DCFILT_OFF
 0x80

	)

242 
	#RH_CC110_MOD_FORMAT
 0x70

	)

243 
	#RH_CC110_MOD_FORMAT_2FSK
 0x00

	)

244 
	#RH_CC110_MOD_FORMAT_GFSK
 0x10

	)

245 
	#RH_CC110_MOD_FORMAT_OOK
 0x30

	)

246 
	#RH_CC110_MOD_FORMAT_4FSK
 0x40

	)

247 
	#RH_CC110_MANCHESTER_EN
 0x08

	)

248 
	#RH_CC110_SYNC_MODE
 0x07

	)

249 
	#RH_CC110_SYNC_MODE_NONE
 0x00

	)

250 
	#RH_CC110_SYNC_MODE_15_16
 0x01

	)

251 
	#RH_CC110_SYNC_MODE_16_16
 0x02

	)

252 
	#RH_CC110_SYNC_MODE_30_32
 0x03

	)

253 
	#RH_CC110_SYNC_MODE_NONE_CARRIER
 0x04

	)

254 
	#RH_CC110_SYNC_MODE_15_16_CARRIER
 0x05

	)

255 
	#RH_CC110_SYNC_MODE_16_16_CARRIER
 0x06

	)

256 
	#RH_CC110_SYNC_MODE_30_32_CARRIER
 0x07

	)

259 
	#RH_CC110_NUM_PREAMBLE
 0x70

	)

260 
	#RH_CC110_NUM_PREAMBLE_2
 0x00

	)

261 
	#RH_CC110_NUM_PREAMBLE_3
 0x10

	)

262 
	#RH_CC110_NUM_PREAMBLE_4
 0x20

	)

263 
	#RH_CC110_NUM_PREAMBLE_6
 0x30

	)

264 
	#RH_CC110_NUM_PREAMBLE_8
 0x40

	)

265 
	#RH_CC110_NUM_PREAMBLE_12
 0x50

	)

266 
	#RH_CC110_NUM_PREAMBLE_16
 0x60

	)

267 
	#RH_CC110_NUM_PREAMBLE_24
 0x70

	)

269 
	#RH_CC110_CHANSPC_E
 0x03

	)

273 
	#RH_CC110_DEVIATION_E
 0x70

	)

274 
	#RH_CC110_DEVIATION_M
 0x07

	)

277 
	#RH_CC110_RX_TIME_RSSI
 0x10

	)

280 
	#RH_CC110_CCA_MODE
 0x30

	)

281 
	#RH_CC110_CCA_MODE_ALWAYS
 0x00

	)

282 
	#RH_CC110_CCA_MODE_RSSI
 0x10

	)

283 
	#RH_CC110_CCA_MODE_PACKET
 0x20

	)

284 
	#RH_CC110_CCA_MODE_RSSI_PACKET
 0x30

	)

285 
	#RH_CC110_RXOFF_MODE
 0x0c

	)

286 
	#RH_CC110_RXOFF_MODE_IDLE
 0x00

	)

287 
	#RH_CC110_RXOFF_MODE_FSTXON
 0x04

	)

288 
	#RH_CC110_RXOFF_MODE_TX
 0x08

	)

289 
	#RH_CC110_RXOFF_MODE_RX
 0x0c

	)

290 
	#RH_CC110_TXOFF_MODE
 0x03

	)

291 
	#RH_CC110_TXOFF_MODE_IDLE
 0x00

	)

292 
	#RH_CC110_TXOFF_MODE_FSTXON
 0x01

	)

293 
	#RH_CC110_TXOFF_MODE_TX
 0x02

	)

294 
	#RH_CC110_TXOFF_MODE_RX
 0x03

	)

297 
	#RH_CC110_FS_AUTOCAL
 0x30

	)

298 
	#RH_CC110_FS_AUTOCAL_NEVER
 0x00

	)

299 
	#RH_CC110_FS_AUTOCAL_FROM_IDLE
 0x10

	)

300 
	#RH_CC110_FS_AUTOCAL_TO_IDLE
 0x20

	)

301 
	#RH_CC110_FS_AUTOCAL_TO_IDLE_4
 0x30

	)

302 
	#RH_CC110_PO_TIMEOUT
 0x0c

	)

303 
	#RH_CC110_PO_TIMEOUT_1
 0x00

	)

304 
	#RH_CC110_PO_TIMEOUT_16
 0x04

	)

305 
	#RH_CC110_PO_TIMEOUT_64
 0x08

	)

306 
	#RH_CC110_PO_TIMEOUT_256
 0x0c

	)

307 
	#RH_CC110_XOSC_FORCE_ON
 0x01

	)

310 
	#RH_CC110_FOC_BS_CS_GATE
 0x20

	)

311 
	#RH_CC110_FOC_PRE_K
 0x18

	)

312 
	#RH_CC110_FOC_PRE_K_0
 0x00

	)

313 
	#RH_CC110_FOC_PRE_K_1
 0x08

	)

314 
	#RH_CC110_FOC_PRE_K_2
 0x10

	)

315 
	#RH_CC110_FOC_PRE_K_3
 0x18

	)

316 
	#RH_CC110_FOC_POST_K
 0x04

	)

317 
	#RH_CC110_FOC_LIMIT
 0x03

	)

318 
	#RH_CC110_FOC_LIMIT_0
 0x00

	)

319 
	#RH_CC110_FOC_LIMIT_8
 0x01

	)

320 
	#RH_CC110_FOC_LIMIT_4
 0x02

	)

321 
	#RH_CC110_FOC_LIMIT_2
 0x03

	)

324 
	#RH_CC110_BS_PRE_K
 0xc0

	)

325 
	#RH_CC110_BS_PRE_K_1
 0x00

	)

326 
	#RH_CC110_BS_PRE_K_2
 0x40

	)

327 
	#RH_CC110_BS_PRE_K_3
 0x80

	)

328 
	#RH_CC110_BS_PRE_K_4
 0xc0

	)

329 
	#RH_CC110_BS_PRE_KP
 0x30

	)

330 
	#RH_CC110_BS_PRE_KP_1
 0x00

	)

331 
	#RH_CC110_BS_PRE_KP_2
 0x10

	)

332 
	#RH_CC110_BS_PRE_KP_3
 0x20

	)

333 
	#RH_CC110_BS_PRE_KP_4
 0x30

	)

334 
	#RH_CC110_BS_POST_KI
 0x08

	)

335 
	#RH_CC110_BS_POST_KP
 0x04

	)

336 
	#RH_CC110_BS_LIMIT
 0x03

	)

337 
	#RH_CC110_BS_LIMIT_0
 0x00

	)

338 
	#RH_CC110_BS_LIMIT_3
 0x01

	)

339 
	#RH_CC110_BS_LIMIT_6
 0x02

	)

340 
	#RH_CC110_BS_LIMIT_12
 0x03

	)

343 
	#RH_CC110_MAX_DVA_GAIN
 0xc0

	)

344 
	#RH_CC110_MAX_DVA_GAIN_ALL
 0x00

	)

345 
	#RH_CC110_MAX_DVA_GAIN_ALL_LESS_1
 0x40

	)

346 
	#RH_CC110_MAX_DVA_GAIN_ALL_LESS_2
 0x80

	)

347 
	#RH_CC110_MAX_DVA_GAIN_ALL_LESS_3
 0xc0

	)

348 
	#RH_CC110_MAX_LNA_GAIN
 0x38

	)

350 
	#RH_CC110_MAGN_TARGET
 0x07

	)

351 
	#RH_CC110_MAGN_TARGET_24DB
 0x00

	)

352 
	#RH_CC110_MAGN_TARGET_27DB
 0x01

	)

353 
	#RH_CC110_MAGN_TARGET_30DB
 0x02

	)

354 
	#RH_CC110_MAGN_TARGET_33DB
 0x03

	)

355 
	#RH_CC110_MAGN_TARGET_36DB
 0x04

	)

356 
	#RH_CC110_MAGN_TARGET_38DB
 0x05

	)

357 
	#RH_CC110_MAGN_TARGET_40DB
 0x06

	)

358 
	#RH_CC110_MAGN_TARGET_42DB
 0x07

	)

361 
	#RH_CC110_AGC_LNA_PRIORITY
 0x40

	)

362 
	#RH_CC110_CARRIER_SENSE_REL_THR
 0x30

	)

363 
	#RH_CC110_CARRIER_SENSE_REL_THR_0DB
 0x00

	)

364 
	#RH_CC110_CARRIER_SENSE_REL_THR_6DB
 0x10

	)

365 
	#RH_CC110_CARRIER_SENSE_REL_THR_10DB
 0x20

	)

366 
	#RH_CC110_CARRIER_SENSE_REL_THR_14DB
 0x30

	)

367 
	#RH_CC110_CARRIER_SENSE_ABS_THR
 0x0f

	)

370 
	#RH_CC110_HYST_LEVEL
 0xc0

	)

371 
	#RH_CC110_HYST_LEVEL_NONE
 0x00

	)

372 
	#RH_CC110_HYST_LEVEL_LOW
 0x40

	)

373 
	#RH_CC110_HYST_LEVEL_MEDIUM
 0x80

	)

374 
	#RH_CC110_HYST_LEVEL_HIGH
 0xc0

	)

375 
	#RH_CC110_WAIT_TIME
 0x30

	)

376 
	#RH_CC110_WAIT_TIME_8
 0x00

	)

377 
	#RH_CC110_WAIT_TIME_16
 0x10

	)

378 
	#RH_CC110_WAIT_TIME_24
 0x20

	)

379 
	#RH_CC110_WAIT_TIME_32
 0x30

	)

380 
	#RH_CC110_AGC_FREEZE
 0x0c

	)

381 
	#RH_CC110_AGC_FILTER_LENGTH
 0x03

	)

382 
	#RH_CC110_AGC_FILTER_LENGTH_8
 0x00

	)

383 
	#RH_CC110_AGC_FILTER_LENGTH_16
 0x01

	)

384 
	#RH_CC110_AGC_FILTER_LENGTH_32
 0x02

	)

385 
	#RH_CC110_AGC_FILTER_LENGTH_64
 0x03

	)

391 
	#RH_CC110_LNA_CURRENT
 0xc0

	)

392 
	#RH_CC110_LNA2MIX_CURRENT
 0x30

	)

393 
	#RH_CC110_LODIV_BUF_CURRENT_RX
 0x0c

	)

394 
	#RH_CC110_MIX_CURRENT
 0x03

	)

397 
	#RH_CC110_LODIV_BUF_CURRENT_TX
 0x30

	)

398 
	#RH_CC110_PA_POWER
 0x07

	)

401 
	#RH_CC110_FSCAL3_7_6
 0xc0

	)

402 
	#RH_CC110_CHP_CURR_CAL_EN
 0x30

	)

403 
	#RH_CC110_FSCAL3_3_0
 0x0f

	)

406 
	#RH_CC110_VCO_CORE_H_EN
 0x20

	)

407 
	#RH_CC110_FSCAL2
 0x1f

	)

410 
	#RH_CC110_FSCAL1
 0x3f

	)

413 
	#RH_CC110_FSCAL0
 0x7f

	)

423 
	#RH_CC110_TEST0_7_2
 0xfc

	)

424 
	#RH_CC110_VCO_SEL_CAL_EN
 0x02

	)

425 
	#RH_CC110_TEST0_0
 0x01

	)

431 
	#RH_CC110_CRC_REG_CRC_OK
 0x80

	)

435 
	#RH_CC110_MARC_STATE
 0x1f

	)

436 
	#RH_CC110_MARC_STATE_SLEEP
 0x00

	)

437 
	#RH_CC110_MARC_STATE_IDLE
 0x01

	)

438 
	#RH_CC110_MARC_STATE_XOFF
 0x02

	)

439 
	#RH_CC110_MARC_STATE_VCOON_MC
 0x03

	)

440 
	#RH_CC110_MARC_STATE_REGON_MC
 0x04

	)

441 
	#RH_CC110_MARC_STATE_MANCAL
 0x05

	)

442 
	#RH_CC110_MARC_STATE_VCOON
 0x06

	)

443 
	#RH_CC110_MARC_STATE_REGON
 0x07

	)

444 
	#RH_CC110_MARC_STATE_STARTCAL
 0x08

	)

445 
	#RH_CC110_MARC_STATE_BWBOOST
 0x09

	)

446 
	#RH_CC110_MARC_STATE_FS_LOCK
 0x0a

	)

447 
	#RH_CC110_MARC_STATE_IFADCON
 0x0b

	)

448 
	#RH_CC110_MARC_STATE_ENDCAL
 0x0c

	)

449 
	#RH_CC110_MARC_STATE_RX
 0x0d

	)

450 
	#RH_CC110_MARC_STATE_RX_END
 0x0e

	)

451 
	#RH_CC110_MARC_STATE_RX_RST
 0x0f

	)

452 
	#RH_CC110_MARC_STATE_TXRX_SWITCH
 0x10

	)

453 
	#RH_CC110_MARC_STATE_RXFIFO_OVERFLOW
 0x11

	)

454 
	#RH_CC110_MARC_STATE_FSTXON
 0x12

	)

455 
	#RH_CC110_MARC_STATE_TX
 0x13

	)

456 
	#RH_CC110_MARC_STATE_TX_END
 0x14

	)

457 
	#RH_CC110_MARC_STATE_RXTX_SWITCH
 0x15

	)

458 
	#RH_CC110_MARC_STATE_TXFIFO_UNDERFLOW
 0x16

	)

461 
	#RH_CC110_PKTSTATUS_CRC_OK
 0x80

	)

462 
	#RH_CC110_PKTSTATUS_CS
 0x40

	)

463 
	#RH_CC110_PKTSTATUS_CCA
 0x10

	)

464 
	#RH_CC110_PKTSTATUS_SFD
 0x08

	)

465 
	#RH_CC110_PKTSTATUS_GDO2
 0x04

	)

466 
	#RH_CC110_PKTSTATUS_GDO0
 0x01

	)

469 
	#RH_CC110_TXFIFO_UNDERFLOW
 0x80

	)

470 
	#RH_CC110_NUM_TXBYTES
 0x7f

	)

473 
	#RH_CC110_RXFIFO_UNDERFLOW
 0x80

	)

474 
	#RH_CC110_NUM_RXBYTES
 0x7f

	)

592 ˛as†
	cRH_CC110
 : 
public
 
RHNRFSPIDrivî


594 
public
:

602 
uöt8_t
 
ªg_0b
;

603 
uöt8_t
 
	mªg_0c
;

604 
uöt8_t
 
	mªg_10
;

605 
uöt8_t
 
	mªg_11
;

606 
uöt8_t
 
	mªg_12
;

607 
uöt8_t
 
	mªg_15
;

608 
uöt8_t
 
	mªg_19
;

609 
uöt8_t
 
	mªg_1a
;

610 
uöt8_t
 
	mªg_1b
;

611 
uöt8_t
 
	mªg_1c
;

612 
uöt8_t
 
	mªg_1d
;

613 
uöt8_t
 
	mªg_21
;

614 
uöt8_t
 
	mªg_22
;

615 
uöt8_t
 
	mªg_23
;

616 
uöt8_t
 
	mªg_24
;

617 
uöt8_t
 
	mªg_25
;

618 
uöt8_t
 
	mªg_26
;

619 
uöt8_t
 
	mªg_2c
;

620 
uöt8_t
 
	mªg_2d
;

621 
uöt8_t
 
	mªg_2e
;

622 } 
	tModemC⁄fig
;

634 
	gGFSK_Rb1_2Fd5_2
 = 0,

635 
	gGFSK_Rb2_4Fd5_2
,

636 
	gGFSK_Rb4_8Fd25_4
,

637 
	gGFSK_Rb10Fd19
,

638 
	gGFSK_Rb38_4Fd20
,

639 
	gGFSK_Rb76_8Fd32
,

640 
	gGFSK_Rb100Fd47
,

641 
	gGFSK_Rb250Fd127
,

642 } 
	tModemC⁄figChoi˚
;

650 
	gTønsmôPowîM30dBm
 = 0,

651 
	gTønsmôPowîM20dBm
,

652 
	gTønsmôPowîM15dBm
,

653 
	gTønsmôPowîM10dBm
,

654 
	gTønsmôPowî0dBm
,

655 
	gTønsmôPowî5dBm
,

656 
	gTønsmôPowî7dBm
,

657 
	gTønsmôPowî10dBm
,

658 } 
	tTønsmôPowî
;

678 
RH_CC110
(
uöt8_t
 
¶aveSñe˘Pö
 = 
SS
, uöt8_à
öãºu±Pö
 = 2, 
boﬁ
 
is27MHz
 = 
Ál£
, 
RHGíîicSPI
& 
•i
 = 
h¨dw¨e_•i
);

689 
vútuÆ
 
boﬁ
 
öô
();

695 
boﬁ
 
¥ötRegi°îs
();

700 
vútuÆ
 
boﬁ
 
waôPackëSít
();

709 
vútuÆ
 
boﬁ
 
avaûabÀ
();

720 
vútuÆ
 
boﬁ
 
ªcv
(
uöt8_t
* 
buf
, uöt8_t* 
Àn
);

728 
vútuÆ
 
boﬁ
 
£nd
(c⁄° 
uöt8_t
* 
d©a
, uöt8_à
Àn
);

733 
vútuÆ
 
uöt8_t
 
maxMesßgeLígth
();

737 
£tModeIdÀ
();

742 
£tModeRx
();

746 
£tModeTx
();

754 
vútuÆ
 
boﬁ
 
¶ìp
();

764 
boﬁ
 
£tTxPowî
(
TønsmôPowî
 
powî
);

773 
£tIs27MHz
(
boﬁ
 
is27MHz
 = 
åue
);

780 
boﬁ
 
£tFªquícy
(
˚¡ª
);

786 
£tModemRegi°îs
(c⁄° 
ModemC⁄fig
* 
c⁄fig
);

792 
boﬁ
 
£tModemC⁄fig
(
ModemC⁄figChoi˚
 
ödex
);

801 
£tSyncW‹ds
(c⁄° 
uöt8_t
* 
syncW‹ds
, uöt8_à
Àn
);

803 
	g¥Ÿe˘ed
:

807 
h™dÀI¡îru±
();

812 
uöt8_t
 
•iRódRegi°î
(uöt8_à
ªg
);

819 
uöt8_t
 
•iBur°RódRegi°î
(uöt8_à
ªg
);

825 
uöt8_t
 
•iWrôeRegi°î
(uöt8_à
ªg
, uöt8_à
vÆ
);

832 
uöt8_t
 
•iBur°WrôeRegi°î
(uöt8_à
ªg
, c⁄° uöt8_t* 
§c
, uöt8_à
Àn
);

836 
vÆid©eRxBuf
();

839 
˛órRxBuf
();

843 
uöt8_t
 
°©usRód
();

848 
£tPaTabÀ
(
uöt8_t
* 
∑èbÀ
, uöt8_à
∑èbÀsize
);

850 
	g¥iv©e
:

852 
i§0
();

855 
i§1
();

858 
i§2
();

861 
RH_CC110
* 
	g_devi˚F‹I¡îru±
[];

864 
uöt8_t
 
	g_öãºu±Cou¡
;

867 
uöt8_t
 
	g_öãºu±Pö
;

871 
uöt8_t
 
	g_myI¡îru±Index
;

874 vﬁ©ûê
uöt8_t
 
	g_bufLí
;

877 
uöt8_t
 
	g_buf
[
RH_CC110_MAX_PAYLOAD_LEN
];

880 vﬁ©ûê
boﬁ
 
	g_rxBufVÆid
;

883 
boﬁ
 
	g_is27MHz
;

	@RH_MRF89.cpp

6 
	~<RH_MRF89.h
>

7 
	#BAND_915


	)

8 
	#DATA_RATE_200


	)

9 
	#LNA_GAIN
 
LNA_GAIN_0_DB


	)

10 
	#TX_POWER
 
TX_POWER_13_DB


	)

15 
RH_MRF89
* 
	gRH_MRF89
::
_devi˚F‹I¡îru±
[
RH_MRF89_NUM_INTERRUPTS
] = {0, 0, 0};

16 
uöt8_t
 
	gRH_MRF89
::
_öãºu±Cou¡
 = 0;

21 
PROGMEM
 c⁄° 
	gRH_MRF89
::
ModemC⁄fig
 
MODEM_CONFIG_TABLE
[] =

25 { 
RH_MRF89_MODSEL_FSK
, 0x0B, 0x63, 0x40 | 0x01, 0x20 },

26 { 
RH_MRF89_MODSEL_FSK
, 0x0B, 0x27, 0x40 | 0x01, 0x20 },

27 { 
RH_MRF89_MODSEL_FSK
, 0x0B, 0x13, 0x40 | 0x01, 0x20 },

28 { 
RH_MRF89_MODSEL_FSK
, 0x09, 0x09, 0x70 | 0x02, 0x20 },

29 { 
RH_MRF89_MODSEL_FSK
, 0x04, 0x04, 0xB0 | 0x05, 0x40 },

30 { 
RH_MRF89_MODSEL_FSK
, 0x03, 0x03, 0xD0 | 0x06, 0x40 },

31 { 
RH_MRF89_MODSEL_FSK
, 0x02, 0x02, 0xE0 | 0x09, 0x60 },

32 { 
RH_MRF89_MODSEL_FSK
, 0x01, 0x01, 0xF0 | 0x0F, 0x80 },

33 { 
RH_MRF89_MODSEL_FSK
, 0x01, 0x00, 0xF0 | 0x0F, 0x80 }

38 
	gRH_MRF89
::
	$RH_MRF89
(
uöt8_t
 
csc⁄Pö
, uöt8_à
csd©Pö
, uöt8_à
öãºu±Pö
, 
RHGíîicSPI
& 
•i
)

40 
	`RHNRFSPIDrivî
(
csc⁄Pö
, 
•i
),

41 
	`_csc⁄Pö
(
csc⁄Pö
),

42 
	`_csd©Pö
(
csd©Pö
),

43 
	$_öãºu±Pö
(
öãºu±Pö
)

45 
_myI¡îru±Index
 = 0xff;

46 
	}
}

48 
boﬁ
 
	gRH_MRF89
::
	$öô
()

52 
_•i
.
	`£tFªquícy
(
RHGíîicSPI
::
Fªquícy1MHz
);

53 i‡(!
RHNRFSPIDrivî
::
	`öô
())

54  
Ál£
;

57 
	`pöMode
(
_csc⁄Pö
, 
OUTPUT
);

58 
	`digôÆWrôe
(
_csc⁄Pö
, 
HIGH
);

59 
	`pöMode
(
_csd©Pö
, 
OUTPUT
);

60 
	`digôÆWrôe
(
_csd©Pö
, 
HIGH
);

63 
öãºu±Numbî
 = 
	`digôÆPöToI¡îru±
(
_öãºu±Pö
);

64 i‡(
öãºu±Numbî
 =
NOT_AN_INTERRUPT
)

65  
Ál£
;

66 #ifde‡
RH_ATTACHINTERRUPT_TAKES_PIN_NUMBER


67 
öãºu±Numbî
 = 
_öãºu±Pö
;

71 
	`£tOpMode
(
RH_MRF89_CMOD_STANDBY
);

75 
	`•iWrôeRegi°î
(
RH_MRF89_REG_02_FDEVREG
, 0xaa);

76 i‡(
	`•iRódRegi°î
(
RH_MRF89_REG_02_FDEVREG
) != 0xaa)

77  
Ál£
;

78 
	`•iWrôeRegi°î
(
RH_MRF89_REG_02_FDEVREG
, 0x3);

79 i‡(
	`•iRódRegi°î
(
RH_MRF89_REG_02_FDEVREG
) != 0x3)

80  
Ál£
;

85 
	`pöMode
(
_öãºu±Pö
, 
INPUT
);

93 i‡(
_myI¡îru±Index
 == 0xff)

96 i‡(
_öãºu±Cou¡
 <
RH_MRF89_NUM_INTERRUPTS
)

97 
_myI¡îru±Index
 = 
_öãºu±Cou¡
++;

99  
Ál£
;

101 
_devi˚F‹I¡îru±
[
_myI¡îru±Index
] = 
this
;

102 i‡(
_myI¡îru±Index
 == 0)

103 
	`©èchI¡îru±
(
öãºu±Numbî
, 
i§0
, 
RISING
);

104 i‡(
_myI¡îru±Index
 == 1)

105 
	`©èchI¡îru±
(
öãºu±Numbî
, 
i§1
, 
RISING
);

106 i‡(
_myI¡îru±Index
 == 2)

107 
	`©èchI¡îru±
(
öãºu±Numbî
, 
i§2
, 
RISING
);

109  
Ál£
;

118 
	`•iWrôeRegi°î
(
RH_MRF89_REG_00_GCONREG
, 
RH_MRF89_CMOD_STANDBY
 | 
RH_MRF89_FBS_950_960
 | 
RH_MRF89_VCOT_60MV
);

119 
	`•iWrôeRegi°î
(
RH_MRF89_REG_01_DMODREG
, 
RH_MRF89_MODSEL_FSK
 | 
RH_MRF89_OPMODE_PACKET
);

120 
	`•iWrôeRegi°î
(
RH_MRF89_REG_02_FDEVREG
, 0);

121 
	`•iWrôeRegi°î
(
RH_MRF89_REG_03_BRSREG
, 0);

122 
	`•iWrôeRegi°î
(
RH_MRF89_REG_04_FLTHREG
, 0);

123 
	`•iWrôeRegi°î
(
RH_MRF89_REG_05_FIFOCREG
, 
RH_MRF89_FSIZE_64
);

124 
	`•iWrôeRegi°î
(
RH_MRF89_REG_06_R1CREG
, 0);

125 
	`•iWrôeRegi°î
(
RH_MRF89_REG_07_P1CREG
, 0);

126 
	`•iWrôeRegi°î
(
RH_MRF89_REG_08_S1CREG
, 0);

127 
	`•iWrôeRegi°î
(
RH_MRF89_REG_09_R2CREG
, 0);

128 
	`•iWrôeRegi°î
(
RH_MRF89_REG_0A_P2CREG
, 0);

129 
	`•iWrôeRegi°î
(
RH_MRF89_REG_0B_S2CREG
, 0);

130 
	`•iWrôeRegi°î
(
RH_MRF89_REG_0C_PACREG
, 
RH_MRF89_PARC_23
);

134 
	`•iWrôeRegi°î
(
RH_MRF89_REG_0D_FTXRXIREG
, 
RH_MRF89_IRQ0RXS_PACKET_SYNC
 | 
RH_MRF89_IRQ1RXS_PACKET_CRCOK
 | 
RH_MRF89_IRQ1TX
);

135 
	`•iWrôeRegi°î
(
RH_MRF89_REG_0E_FTPRIREG
, 
RH_MRF89_LENPLL
);

136 
	`•iWrôeRegi°î
(
RH_MRF89_REG_0F_RSTHIREG
, 0x00);

137 
	`•iWrôeRegi°î
(
RH_MRF89_REG_10_FILCREG
, 0);

139 
	`•iWrôeRegi°î
(
RH_MRF89_REG_11_PFCREG
, 0x38);

140 
	`•iWrôeRegi°î
(
RH_MRF89_REG_12_SYNCREG
, 
RH_MRF89_SYNCREN
 | 
RH_MRF89_SYNCWSZ_32
);

141 
	`•iWrôeRegi°î
(
RH_MRF89_REG_13_RSVREG
, 0x07);

143 
	`•iWrôeRegi°î
(
RH_MRF89_REG_15_OOKCREG
, 0x00);

144 
	`•iWrôeRegi°î
(
RH_MRF89_REG_16_SYNCV31REG
, 0x69);

145 
	`•iWrôeRegi°î
(
RH_MRF89_REG_17_SYNCV23REG
, 0x81);

146 
	`•iWrôeRegi°î
(
RH_MRF89_REG_18_SYNCV15REG
, 0x7E);

147 
	`•iWrôeRegi°î
(
RH_MRF89_REG_19_SYNCV07REG
, 0x96);

149 
	`•iWrôeRegi°î
(
RH_MRF89_REG_1A_TXCONREG
, 0xf0 | 
RH_MRF89_TXOPVAL_13DBM
);

150 
	`•iWrôeRegi°î
(
RH_MRF89_REG_1B_CLKOREG
, 0x00);

151 
	`•iWrôeRegi°î
(
RH_MRF89_REG_1C_PLOADREG
, 0x40);

152 
	`•iWrôeRegi°î
(
RH_MRF89_REG_1D_NADDSREG
, 0x00);

153 
	`•iWrôeRegi°î
(
RH_MRF89_REG_1E_PKTCREG
, 
RH_MRF89_PKTLENF
 | 
RH_MRF89_PRESIZE_4
 | 
RH_MRF89_WHITEON
 | 
RH_MRF89_CHKCRCEN
 | 
RH_MRF89_ADDFIL_OFF
);

154 
	`•iWrôeRegi°î
(
RH_MRF89_REG_1F_FCRCREG
, 0x00);

158 
	`£tPªambÀLígth
(3);

159 
uöt8_t
 
syncw‹ds
[] = { 0x69, 0x81, 0x7e, 0x96 };

160 
	`£tSyncW‹ds
(
syncw‹ds
, (syncwords));

161 
	`£tTxPowî
(
RH_MRF89_TXOPVAL_1DBM
);

162 i‡(!
	`£tFªquícy
(915.4))

163  
Ál£
;

165 i‡(!
	`£tModemC⁄fig
(
FSK_Rb20Fd40
))

166  
Ál£
;

168  
åue
;

169 
	}
}

171 
boﬁ
 
	gRH_MRF89
::
	$¥ötRegi°îs
()

173 #ifde‡
RH_HAVE_SERIAL


174 
uöt8_t
 
i
;

175 
i
 = 0; i <= 0x1f; i++)

177 
Sîül
.
	`¥öt
(
i
, 
HEX
);

178 
Sîül
.
	`¥öt
(": ");

179 
Sîül
.
	`¥öén
(
	`•iRódRegi°î
(
i
), 
HEX
);

182  
åue
;

183 
	}
}

190 
	gRH_MRF89
::
	$h™dÀI¡îru±
()

193 i‡(
_mode
 =
RHModeTx
)

198 
_txGood
++;

199 
	`£tModeIdÀ
();

201 i‡(
_mode
 =
RHModeRx
)

210 
_œ°Rssi
 = (
	`•iRódRegi°î
(
RH_MRF89_REG_14_RSTSREG
) >> 1) - 120;

212 
_bufLí
 = 
	`•iRódD©a
();

213 i‡(
_bufLí
 < 4)

216 
uöt8_t
 
i
;

217 
i
 = 0; 
	`•iRódRegi°î
(
RH_MRF89_REG_0D_FTXRXIREG
Ë& 
RH_MRF89_FIFOEMPTY
; i++)

218 
	`•iRódD©a
();

219 
	`˛órRxBuf
();

224 
uöt8_t
 
i
;

225 
i
 = 0; 
	`•iRódRegi°î
(
RH_MRF89_REG_0D_FTXRXIREG
Ë& 
RH_MRF89_FIFOEMPTY
; i++)

226 
_buf
[
i
] = 
	`•iRódD©a
();

229 
	`vÆid©eRxBuf
();

230 i‡(
_rxBufVÆid
)

231 
	`£tModeIdÀ
();

233 
	}
}

238 
	gRH_MRF89
::
	$i§0
()

240 i‡(
_devi˚F‹I¡îru±
[0])

241 
_devi˚F‹I¡îru±
[0]->
	`h™dÀI¡îru±
();

242 
	}
}

243 
	gRH_MRF89
::
	$i§1
()

245 i‡(
_devi˚F‹I¡îru±
[1])

246 
_devi˚F‹I¡îru±
[1]->
	`h™dÀI¡îru±
();

247 
	}
}

248 
	gRH_MRF89
::
	$i§2
()

250 i‡(
_devi˚F‹I¡îru±
[2])

251 
_devi˚F‹I¡îru±
[2]->
	`h™dÀI¡îru±
();

252 
	}
}

254 
uöt8_t
 
	gRH_MRF89
::
	$•iRódRegi°î
(
uöt8_t
 
ªg
)

257 
	`£tSœveSñe˘Pö
(
_csc⁄Pö
);

258 
	`digôÆWrôe
(
_csd©Pö
, 
HIGH
);

259  
	`•iRód
(((
ªg
 & 0x1fË<< 1Ë| 
RH_MRF89_SPI_READ_MASK
);

260 
	}
}

262 
uöt8_t
 
	gRH_MRF89
::
	$•iWrôeRegi°î
(
uöt8_t
 
ªg
, uöt8_à
vÆ
)

265 
	`£tSœveSñe˘Pö
(
_csc⁄Pö
);

266 
	`digôÆWrôe
(
_csd©Pö
, 
HIGH
);

270  
	`•iWrôe
(((
ªg
 & 0x1fË<< 1), 
vÆ
);

271 
	}
}

273 
uöt8_t
 
	gRH_MRF89
::
	$•iWrôeD©a
(
uöt8_t
 
d©a
)

275 
	`•iWrôeRegi°î
(
RH_MRF89_REG_1F_FCRCREG
, 
RH_MRF89_ACFCRC
);

276 
	`£tSœveSñe˘Pö
(
_csd©Pö
);

277 
	`digôÆWrôe
(
_csc⁄Pö
, 
HIGH
);

278  
	`•iComm™d
(
d©a
);

279 
	}
}

281 
uöt8_t
 
	gRH_MRF89
::
	$•iWrôeD©a
(c⁄° 
uöt8_t
* 
d©a
, uöt8_à
Àn
)

283 
	`•iWrôeRegi°î
(
RH_MRF89_REG_1F_FCRCREG
, 
RH_MRF89_ACFCRC
);

284 
	`£tSœveSñe˘Pö
(
_csd©Pö
);

285 
	`digôÆWrôe
(
_csc⁄Pö
, 
HIGH
);

287 
uöt8_t
 
°©us
 = 0;

288 
ATOMIC_BLOCK_START
;

289 
	`digôÆWrôe
(
_¶aveSñe˘Pö
, 
LOW
);

290 
Àn
--)

291 
_•i
.
	`å™s„r
(*
d©a
++);

292 
	`digôÆWrôe
(
_¶aveSñe˘Pö
, 
HIGH
);

293 
ATOMIC_BLOCK_END
;

294  
°©us
;

296 
	}
}

298 
uöt8_t
 
	gRH_MRF89
::
	$•iRódD©a
()

300 
	`•iWrôeRegi°î
(
RH_MRF89_REG_1F_FCRCREG
, 
RH_MRF89_ACFCRC
 | 
RH_MRF89_FRWAXS
);

301 
	`£tSœveSñe˘Pö
(
_csd©Pö
);

302 
	`digôÆWrôe
(
_csc⁄Pö
, 
HIGH
);

303  
	`•iComm™d
(0);

304 
	}
}

306 
	gRH_MRF89
::
	$£tOpMode
(
uöt8_t
 
mode
)

309 
uöt8_t
 
vÆ
 = 
	`•iRódRegi°î
(
RH_MRF89_REG_00_GCONREG
);

310 
vÆ
 = (vÆ & ~
RH_MRF89_CMOD
Ë| (
mode
 & RH_MRF89_CMOD);

311 
	`•iWrôeRegi°î
(
RH_MRF89_REG_00_GCONREG
, 
vÆ
);

312 
	}
}

314 
	gRH_MRF89
::
	$£tModeIdÀ
()

316 i‡(
_mode
 !
RHModeIdÀ
)

318 
	`£tOpMode
(
RH_MRF89_CMOD_STANDBY
);

319 
_mode
 = 
RHModeIdÀ
;

321 
	}
}

323 
boﬁ
 
	gRH_MRF89
::
	$¶ìp
()

325 i‡(
_mode
 !
RHModeSÀï
)

327 
	`£tOpMode
(
RH_MRF89_CMOD_SLEEP
);

328 
_mode
 = 
RHModeSÀï
;

330  
åue
;

331 
	}
}

333 
	gRH_MRF89
::
	$£tModeRx
()

335 i‡(
_mode
 !
RHModeRx
)

337 
	`£tOpMode
(
RH_MRF89_CMOD_RECEIVE
);

338 
_mode
 = 
RHModeRx
;

340 
	}
}

342 
	gRH_MRF89
::
	$£tModeTx
()

344 i‡(
_mode
 !
RHModeTx
)

346 
	`£tOpMode
(
RH_MRF89_CMOD_TRANSMIT
);

347 
_mode
 = 
RHModeTx
;

349 
	}
}

351 
	gRH_MRF89
::
	$£tTxPowî
(
uöt8_t
 
powî
)

353 
uöt8_t
 
txc⁄ªg
 = 
	`•iRódRegi°î
(
RH_MRF89_REG_1A_TXCONREG
);

354 
txc⁄ªg
 |(
powî
 & 
RH_MRF89_TXOPVAL
);

355 
	`•iWrôeRegi°î
(
RH_MRF89_REG_1A_TXCONREG
, 
txc⁄ªg
);

356 
	}
}

358 
boﬁ
 
	gRH_MRF89
::
	$avaûabÀ
()

360 i‡(
_mode
 =
RHModeTx
)

361  
Ál£
;

362 
	`£tModeRx
();

364  
_rxBufVÆid
;

365 
	}
}

367 
boﬁ
 
	gRH_MRF89
::
	$ªcv
(
uöt8_t
* 
buf
, uöt8_t* 
Àn
)

369 i‡(!
	`avaûabÀ
())

370  
Ál£
;

372 i‡(
buf
 && 
Àn
)

374 
ATOMIC_BLOCK_START
;

376 i‡(*
Àn
 > 
_bufLí
 - 
RH_MRF89_HEADER_LEN
)

377 *
Àn
 = 
_bufLí
 - 
RH_MRF89_HEADER_LEN
;

378 
	`mem˝y
(
buf
, 
_buf
 + 
RH_MRF89_HEADER_LEN
, *
Àn
);

379 
ATOMIC_BLOCK_END
;

381 
	`˛órRxBuf
();

383  
åue
;

384 
	}
}

386 
boﬁ
 
	gRH_MRF89
::
	$£nd
(c⁄° 
uöt8_t
* 
d©a
, uöt8_à
Àn
)

388 i‡(
Àn
 > 
RH_MRF89_MAX_MESSAGE_LEN
)

389  
Ál£
;

391 
	`waôPackëSít
();

392 
	`£tModeIdÀ
();

394 i‡(!
	`waôCAD
())

395  
Ál£
;

399 
	`•iWrôeD©a
(
Àn
 + 
RH_MRF89_HEADER_LEN
);

400 
	`•iWrôeD©a
(
_txHódîTo
);

401 
	`•iWrôeD©a
(
_txHódîFrom
);

402 
	`•iWrôeD©a
(
_txHódîId
);

403 
	`•iWrôeD©a
(
_txHódîFœgs
);

404 
	`•iWrôeD©a
(
d©a
, 
Àn
);

405 
	`£tModeTx
();

407  
åue
;

408 
	}
}

410 
uöt8_t
 
	gRH_MRF89
::
	$maxMesßgeLígth
()

412  
RH_MRF89_MAX_MESSAGE_LEN
;

413 
	}
}

416 
	gRH_MRF89
::
	$vÆid©eRxBuf
()

418 i‡(
_bufLí
 < 4)

421 
_rxHódîTo
 = 
_buf
[0];

422 
_rxHódîFrom
 = 
_buf
[1];

423 
_rxHódîId
 = 
_buf
[2];

424 
_rxHódîFœgs
 = 
_buf
[3];

425 i‡(
_¥omiscuous
 ||

426 
_rxHódîTo
 =
_thisAddªss
 ||

427 
_rxHódîTo
 =
RH_BROADCAST_ADDRESS
)

429 
_rxGood
++;

430 
_rxBufVÆid
 = 
åue
;

432 
	}
}

434 
	gRH_MRF89
::
	$˛órRxBuf
()

436 
ATOMIC_BLOCK_START
;

437 
_rxBufVÆid
 = 
Ál£
;

438 
_bufLí
 = 0;

439 
ATOMIC_BLOCK_END
;

440 
	}
}

442 
boﬁ
 
	gRH_MRF89
::
	$vîifyPLLLock
()

446 
uöt8_t
 
·¥iVÆ
 = 
	`•iRódRegi°î
(
RH_MRF89_REG_0E_FTPRIREG
);

447 
	`•iWrôeRegi°î
(
RH_MRF89_REG_0E_FTPRIREG
, 
·¥iVÆ
 | 
RH_MRF89_LSTSPLL
);

448 
	`£tOpMode
(
RH_MRF89_CMOD_FS
);

449 
ulSèπTime
 = 
	`mûlis
();

450 (
	`mûlis
(Ë- 
ulSèπTime
 < 1000))

452 
·¥iVÆ
 = 
	`•iRódRegi°î
(
RH_MRF89_REG_0E_FTPRIREG
);

453 i‡((
·¥iVÆ
 & 
RH_MRF89_LSTSPLL
) != 0)

456 
	`£tOpMode
(
RH_MRF89_CMOD_STANDBY
);

457  ((
·¥iVÆ
 & 
RH_MRF89_LSTSPLL
) != 0);

458 
	}
}

460 
boﬁ
 
	gRH_MRF89
::
	$£tFªquícy
(
˚¡ª
)

464 
uöt8_t
 
FBS
;

465 i‡(
˚¡ª
 >= 902.0 && centre < 915.0)

467 
FBS
 = 
RH_MRF89_FBS_902_915
;

469 i‡(
˚¡ª
 >= 915.0 && centre <= 928.0)

471 
FBS
 = 
RH_MRF89_FBS_915_928
;

473 i‡(
˚¡ª
 >= 950.0 && centre <= 960.0)

477 
FBS
 = 
RH_MRF89_FBS_950_960
;

488  
Ál£
;

493 
uöt8_t
 
R
 = 119;

494 
uöt32_t
 
˚¡ª_kHz
 = 
˚¡ª
 * 1000;

495 
uöt32_t
 
xèl_kHz
 = (
RH_MRF89_XTAL_FREQ
 * 1000);

496 
uöt32_t
 
com∑ª
 = (
˚¡ª_kHz
 * 8 * (
R
 + 1)Ë/ (9 * 
xèl_kHz
);

497 
uöt8_t
 
P
 = ((
com∑ª
 - 75) / 76) + 1;

498 
uöt8_t
 
S
 = 
com∑ª
 - (75 * (
P
 + 1));

501 
uöt8_t
 
vÆ
 = 
	`•iRódRegi°î
(
RH_MRF89_REG_00_GCONREG
);

502 
vÆ
 = (vÆ & ~
RH_MRF89_FBS
Ë| (
FBS
 & RH_MRF89_FBS);

503 
	`•iWrôeRegi°î
(
RH_MRF89_REG_00_GCONREG
, 
vÆ
);

505 
	`•iWrôeRegi°î
(
RH_MRF89_REG_06_R1CREG
, 
R
);

506 
	`•iWrôeRegi°î
(
RH_MRF89_REG_07_P1CREG
, 
P
);

507 
	`•iWrôeRegi°î
(
RH_MRF89_REG_08_S1CREG
, 
S
);

509  
	`vîifyPLLLock
();

510 
	}
}

514 
boﬁ
 
	gRH_MRF89
::
	$£tModemC⁄fig
(
ModemC⁄figChoi˚
 
ödex
)

516 i‡(
ödex
 > (sig√d )((
MODEM_CONFIG_TABLE
Ë/ (
ModemC⁄fig
)))

517  
Ál£
;

519 
RH_MRF89
::
ModemC⁄fig
 
cfg
;

520 
	`mem˝y_P
(&
cfg
, &
MODEM_CONFIG_TABLE
[
ödex
], (cfg));

523 
uöt8_t
 
vÆ
 = 
	`•iRódRegi°î
(
RH_MRF89_REG_01_DMODREG
);

524 
vÆ
 = (vÆ & ~
RH_MRF89_MODSEL
Ë| 
cfg
.
MODSEL
;

525 
	`•iWrôeRegi°î
(
RH_MRF89_REG_01_DMODREG
, 
vÆ
);

527 
	`•iWrôeRegi°î
(
RH_MRF89_REG_02_FDEVREG
, 
cfg
.
FDVAL
);

528 
	`•iWrôeRegi°î
(
RH_MRF89_REG_03_BRSREG
, 
cfg
.
BRVAL
);

529 
	`•iWrôeRegi°î
(
RH_MRF89_REG_10_FILCREG
, 
cfg
.
FILCREG
);

532 
vÆ
 = 
	`•iRódRegi°î
(
RH_MRF89_REG_1A_TXCONREG
);

533 
vÆ
 = (vÆ & ~
RH_MRF89_TXIPOLFV
Ë| (
cfg
.
TXIPOLFV
 & RH_MRF89_TXIPOLFV);

534 
	`•iWrôeRegi°î
(
RH_MRF89_REG_1A_TXCONREG
, 
vÆ
);

536  
åue
;

537 
	}
}

539 
	gRH_MRF89
::
	$£tPªambÀLígth
(
uöt8_t
 
byãs
)

541 i‡(
byãs
 >= 1 && bytes <= 4)

543 
byãs
--;

544 
uöt8_t
 
pkt¸eg
 = 
	`•iRódRegi°î
(
RH_MRF89_REG_1E_PKTCREG
);

545 
pkt¸eg
 = (pkt¸eg & ~
RH_MRF89_PRESIZE
Ë| ((
byãs
 << 5) & RH_MRF89_PRESIZE);

546 
	`•iWrôeRegi°î
(
RH_MRF89_REG_1E_PKTCREG
, 
pkt¸eg
);

548 
	}
}

550 
	gRH_MRF89
::
	$£tSyncW‹ds
(c⁄° 
uöt8_t
* 
syncW‹ds
, uöt8_à
Àn
)

552 i‡(
syncW‹ds
 && (
Àn
 > 0 
™d
Üen <= 4))

554 
uöt8_t
 
syn¸eg
 = 
	`•iRódRegi°î
(
RH_MRF89_REG_12_SYNCREG
);

555 
syn¸eg
 = (syn¸eg & ~
RH_MRF89_SYNCWSZ
Ë| (((
Àn
 - 1) << 3) & RH_MRF89_SYNCWSZ);

556 
	`•iWrôeRegi°î
(
RH_MRF89_REG_12_SYNCREG
, 
syn¸eg
);

557 
uöt8_t
 
i
;

558 
i
 = 0; i < 4; i++)

560 i‡(
Àn
 > 
i
)

561 
	`•iWrôeRegi°î
(
RH_MRF89_REG_16_SYNCV31REG
 + 
i
, 
syncW‹ds
[i]);

564 
	}
}

	@RH_MRF89.h

12 #i‚de‡
RH_RF95_h


13 
	#RH_RF95_h


	)

15 
	~<RHNRFSPIDrivî.h
>

19 
	#RH_MRF89_NUM_INTERRUPTS
 3

	)

22 
	#RH_MRF89_FIFO_SIZE
 64

	)

26 
	#RH_MRF89_MAX_PAYLOAD_LEN
 
RH_MRF89_FIFO_SIZE


	)

30 
	#RH_MRF89_HEADER_LEN
 4

	)

36 #i‚de‡
RH_MRF89_MAX_MESSAGE_LEN


37 
	#RH_MRF89_MAX_MESSAGE_LEN
 (
RH_MRF89_MAX_PAYLOAD_LEN
 - 
RH_MRF89_HEADER_LEN
)

	)

41 
	#RH_MRF89_SPI_READ_MASK
 0x40

	)

44 
	#RH_MRF89_XTAL_FREQ
 12.8

	)

47 
	#RH_MRF89_REG_00_GCONREG
 0x00

	)

48 
	#RH_MRF89_REG_01_DMODREG
 0x01

	)

49 
	#RH_MRF89_REG_02_FDEVREG
 0x02

	)

50 
	#RH_MRF89_REG_03_BRSREG
 0x03

	)

51 
	#RH_MRF89_REG_04_FLTHREG
 0x04

	)

52 
	#RH_MRF89_REG_05_FIFOCREG
 0x05

	)

53 
	#RH_MRF89_REG_06_R1CREG
 0x06

	)

54 
	#RH_MRF89_REG_07_P1CREG
 0x07

	)

55 
	#RH_MRF89_REG_08_S1CREG
 0x08

	)

56 
	#RH_MRF89_REG_09_R2CREG
 0x09

	)

57 
	#RH_MRF89_REG_0A_P2CREG
 0x0a

	)

58 
	#RH_MRF89_REG_0B_S2CREG
 0x0b

	)

59 
	#RH_MRF89_REG_0C_PACREG
 0x0c

	)

60 
	#RH_MRF89_REG_0D_FTXRXIREG
 0x0d

	)

61 
	#RH_MRF89_REG_0E_FTPRIREG
 0x0e

	)

62 
	#RH_MRF89_REG_0F_RSTHIREG
 0x0f

	)

63 
	#RH_MRF89_REG_10_FILCREG
 0x10

	)

64 
	#RH_MRF89_REG_11_PFCREG
 0x11

	)

65 
	#RH_MRF89_REG_12_SYNCREG
 0x12

	)

68 
	#RH_MRF89_REG_13_RSVREG
 0x13

	)

69 
	#RH_MRF89_REG_14_RSTSREG
 0x14

	)

70 
	#RH_MRF89_REG_15_OOKCREG
 0x15

	)

71 
	#RH_MRF89_REG_16_SYNCV31REG
 0x16

	)

72 
	#RH_MRF89_REG_17_SYNCV23REG
 0x17

	)

73 
	#RH_MRF89_REG_18_SYNCV15REG
 0x18

	)

74 
	#RH_MRF89_REG_19_SYNCV07REG
 0x19

	)

75 
	#RH_MRF89_REG_1A_TXCONREG
 0x1a

	)

76 
	#RH_MRF89_REG_1B_CLKOREG
 0x1b

	)

77 
	#RH_MRF89_REG_1C_PLOADREG
 0x1c

	)

78 
	#RH_MRF89_REG_1D_NADDSREG
 0x1d

	)

79 
	#RH_MRF89_REG_1E_PKTCREG
 0x1e

	)

80 
	#RH_MRF89_REG_1F_FCRCREG
 0x1f

	)

84 
	#RH_MRF89_CMOD
 0xe0

	)

85 
	#RH_MRF89_CMOD_TRANSMIT
 0x80

	)

86 
	#RH_MRF89_CMOD_RECEIVE
 0x60

	)

87 
	#RH_MRF89_CMOD_FS
 0x40

	)

88 
	#RH_MRF89_CMOD_STANDBY
 0x20

	)

89 
	#RH_MRF89_CMOD_SLEEP
 0x00

	)

91 
	#RH_MRF89_FBS
 0x18

	)

92 
	#RH_MRF89_FBS_950_960
 0x10

	)

93 
	#RH_MRF89_FBS_915_928
 0x08

	)

94 
	#RH_MRF89_FBS_902_915
 0x00

	)

96 
	#RH_MRF89_VCOT
 0x06

	)

97 
	#RH_MRF89_VCOT_180MV
 0x06

	)

98 
	#RH_MRF89_VCOT_120MV
 0x04

	)

99 
	#RH_MRF89_VCOT_60MV
 0x02

	)

100 
	#RH_MRF89_VCOT_TANK
 0x00

	)

102 
	#RH_MRF89_RPS
 0x01

	)

105 
	#RH_MRF89_MODSEL
 0xc0

	)

106 
	#RH_MRF89_MODSEL_FSK
 0x80

	)

107 
	#RH_MRF89_MODSEL_OOK
 0x40

	)

109 
	#RH_MRF89_DMODE0
 0x20

	)

111 
	#RH_MRF89_OOKTYP
 0x18

	)

112 
	#RH_MRF89_OOKTYP_AVERAGE
 0x10

	)

113 
	#RH_MRF89_OOKTYP_PEAK
 0x08

	)

114 
	#RH_MRF89_OOKTYP_FIXED
 0x00

	)

116 
	#RH_MRF89_DMODE1
 0x04

	)

118 
	#RH_MRF89_IFGAIN
 0x03

	)

119 
	#RH_MRF89_IFGAIN_M13P5
 0x03

	)

120 
	#RH_MRF89_IFGAIN_M9
 0x02

	)

121 
	#RH_MRF89_IFGAIN_M4P5
 0x01

	)

122 
	#RH_MRF89_IFGAIN_0
 0x00

	)

125 
	#RH_MRF89_OPMODE_CONTINUOUS
 0x00

	)

126 
	#RH_MRF89_OPMODE_BUFFER
 
RH_MRF89_DMODE0


	)

127 
	#RH_MRF89_OPMODE_PACKET
 
RH_MRF89_DMODE1


	)

130 
	#RH_MRF89_BRVAL
 0x7f

	)

133 
	#RH_MRF89_FSIZE
 0xc0

	)

134 
	#RH_MRF89_FSIZE_64
 0xc0

	)

135 
	#RH_MRF89_FSIZE_48
 0x80

	)

136 
	#RH_MRF89_FSIZE_32
 0x40

	)

137 
	#RH_MRF89_FSIZE_16
 0x00

	)

139 
	#RH_MRF89_FTINT
 0x3f

	)

142 
	#RH_MRF89_PARC
 0x18

	)

143 
	#RH_MRF89_PARC_23
 0x18

	)

144 
	#RH_MRF89_PARC_15
 0x10

	)

145 
	#RH_MRF89_PARC_8P5
 0x08

	)

146 
	#RH_MRF89_PARC_3
 0x00

	)

149 
	#RH_MRF89_IRQ0RXS
 0xc0

	)

150 
	#RH_MRF89_IRQ0RXS_CONT_RSSI
 0x40

	)

151 
	#RH_MRF89_IRQ0RXS_CONT_SYNC
 0x00

	)

152 
	#RH_MRF89_IRQ0RXS_BUFFER_SYNC
 0xc0

	)

153 
	#RH_MRF89_IRQ0RXS_BUFFER_FIFOEMPTY
 0x80

	)

154 
	#RH_MRF89_IRQ0RXS_BUFFER_WRITEBYTE
 0x40

	)

155 
	#RH_MRF89_IRQ0RXS_BUFFER_NONE
 0x00

	)

156 
	#RH_MRF89_IRQ0RXS_PACKET_SYNC
 0xc0

	)

157 
	#RH_MRF89_IRQ0RXS_PACKET_FIFOEMPTY
 0x80

	)

158 
	#RH_MRF89_IRQ0RXS_PACKET_WRITEBYTE
 0x40

	)

159 
	#RH_MRF89_IRQ0RXS_PACKET_PLREADY
 0x00

	)

161 
	#RH_MRF89_IRQ1RXS
 0x30

	)

162 
	#RH_MRF89_IRQ1RXS_CONT_DCLK
 0x00

	)

163 
	#RH_MRF89_IRQ1RXS_BUFFER_FIFO_THRESH
 0x30

	)

164 
	#RH_MRF89_IRQ1RXS_BUFFER_RSSI
 0x20

	)

165 
	#RH_MRF89_IRQ1RXS_BUFFER_FIFOFULL
 0x10

	)

166 
	#RH_MRF89_IRQ1RXS_BUFFER_NONE
 0x00

	)

167 
	#RH_MRF89_IRQ1RXS_PACKET_FIFO_THRESH
 0x30

	)

168 
	#RH_MRF89_IRQ1RXS_PACKET_RSSI
 0x20

	)

169 
	#RH_MRF89_IRQ1RXS_PACKET_FIFOFULL
 0x10

	)

170 
	#RH_MRF89_IRQ1RXS_PACKET_CRCOK
 0x00

	)

172 
	#RH_MRF89_IRQ1TX
 0x08

	)

173 
	#RH_MRF89_FIFOFULL
 0x04

	)

174 
	#RH_MRF89_FIFOEMPTY
 0x02

	)

175 
	#RH_MRF89_FOVRUN
 0x01

	)

178 
	#RH_MRF89_FIFOFM
 0x80

	)

179 
	#RH_MRF89_FIFOFSC
 0x40

	)

180 
	#RH_MRF89_TXDONE
 0x20

	)

181 
	#RH_MRF89_IRQ0TXST
 0x10

	)

182 
	#RH_MRF89_RIRQS
 0x04

	)

183 
	#RH_MRF89_LSTSPLL
 0x02

	)

184 
	#RH_MRF89_LENPLL
 0x01

	)

187 
	#RH_MRF89_PASFILV
 0xf0

	)

188 
	#RH_MRF89_PASFILV_987KHZ
 0xf0

	)

189 
	#RH_MRF89_PASFILV_676KHZ
 0xe0

	)

190 
	#RH_MRF89_PASFILV_514KHZ
 0xd0

	)

191 
	#RH_MRF89_PASFILV_458KHZ
 0xc0

	)

192 
	#RH_MRF89_PASFILV_414KHZ
 0xb0

	)

193 
	#RH_MRF89_PASFILV_378KHZ
 0xa0

	)

194 
	#RH_MRF89_PASFILV_321KHZ
 0x90

	)

195 
	#RH_MRF89_PASFILV_262KHZ
 0x80

	)

196 
	#RH_MRF89_PASFILV_234KHZ
 0x70

	)

197 
	#RH_MRF89_PASFILV_211KHZ
 0x60

	)

198 
	#RH_MRF89_PASFILV_184KHZ
 0x50

	)

199 
	#RH_MRF89_PASFILV_157KHZ
 0x40

	)

200 
	#RH_MRF89_PASFILV_137KHZ
 0x30

	)

201 
	#RH_MRF89_PASFILV_109KHZ
 0x20

	)

202 
	#RH_MRF89_PASFILV_82KHZ
 0x10

	)

203 
	#RH_MRF89_PASFILV_65KHZ
 0x00

	)

205 
	#RH_MRF89_BUTFILV
 0x0f

	)

206 
	#RH_MRF89_BUTFILV_25KHZ
 0x00

	)

207 
	#RH_MRF89_BUTFILV_50KHZ
 0x01

	)

208 
	#RH_MRF89_BUTFILV_75KHZ
 0x02

	)

209 
	#RH_MRF89_BUTFILV_100KHZ
 0x03

	)

210 
	#RH_MRF89_BUTFILV_125KHZ
 0x04

	)

211 
	#RH_MRF89_BUTFILV_150KHZ
 0x05

	)

212 
	#RH_MRF89_BUTFILV_175KHZ
 0x06

	)

213 
	#RH_MRF89_BUTFILV_200KHZ
 0x07

	)

214 
	#RH_MRF89_BUTFILV_225KHZ
 0x08

	)

215 
	#RH_MRF89_BUTFILV_250KHZ
 0x09

	)

216 
	#RH_MRF89_BUTFILV_275KHZ
 0x0a

	)

217 
	#RH_MRF89_BUTFILV_300KHZ
 0x0b

	)

218 
	#RH_MRF89_BUTFILV_325KHZ
 0x0c

	)

219 
	#RH_MRF89_BUTFILV_350KHZ
 0x0d

	)

220 
	#RH_MRF89_BUTFILV_375KHZ
 0x0e

	)

221 
	#RH_MRF89_BUTFILV_400KHZ
 0x0f

	)

224 
	#RH_MRF89_POLCFV
 0xf0

	)

227 
	#RH_MRF89_POLFILEN
 0x80

	)

228 
	#RH_MRF89_BSYNCEN
 0x40

	)

229 
	#RH_MRF89_SYNCREN
 0x20

	)

230 
	#RH_MRF89_SYNCWSZ
 0x18

	)

231 
	#RH_MRF89_SYNCWSZ_32
 0x18

	)

232 
	#RH_MRF89_SYNCWSZ_24
 0x10

	)

233 
	#RH_MRF89_SYNCWSZ_16
 0x08

	)

234 
	#RH_MRF89_SYNCWSZ_8
 0x00

	)

235 
	#RH_MRF89_SYNCTEN
 0x06

	)

236 
	#RH_MRF89_SYNCTEN_3
 0x06

	)

237 
	#RH_MRF89_SYNCTEN_2
 0x04

	)

238 
	#RH_MRF89_SYNCTEN_1
 0x02

	)

239 
	#RH_MRF89_SYNCTEN_0
 0x00

	)

242 
	#RH_MRF89_OOTHSV
 0xe0

	)

243 
	#RH_MRF89_OOTHSV_6P0DB
 0xe0

	)

244 
	#RH_MRF89_OOTHSV_5P0DB
 0xc0

	)

245 
	#RH_MRF89_OOTHSV_4P0DB
 0xa0

	)

246 
	#RH_MRF89_OOTHSV_3P0DB
 0x80

	)

247 
	#RH_MRF89_OOTHSV_2P0DB
 0x60

	)

248 
	#RH_MRF89_OOTHSV_1P5DB
 0x40

	)

249 
	#RH_MRF89_OOTHSV_1P0DB
 0x20

	)

250 
	#RH_MRF89_OOTHSV_0P5DB
 0x00

	)

252 
	#RH_MRF89_OOKTHPV
 0x1c

	)

253 
	#RH_MRF89_OOKTHPV_16
 0x1c

	)

254 
	#RH_MRF89_OOKTHPV_8
 0x18

	)

255 
	#RH_MRF89_OOKTHPV_4
 0x14

	)

256 
	#RH_MRF89_OOKTHPV_2
 0x10

	)

257 
	#RH_MRF89_OOKTHPV_1_IN_8
 0x0c

	)

258 
	#RH_MRF89_OOKTHPV_1_IN_4
 0x08

	)

259 
	#RH_MRF89_OOKTHPV_1_IN_2
 0x04

	)

260 
	#RH_MRF89_OOKTHPV_1_IN_1
 0x00

	)

262 
	#RH_MRF89_OOKATHC
 0x03

	)

263 
	#RH_MRF89_OOKATHC_32PI
 0x03

	)

264 
	#RH_MRF89_OOKATHC_8PI
 0x00

	)

267 
	#RH_MRF89_TXIPOLFV
 0xf0

	)

269 
	#RH_MRF89_TXOPVAL
 0x0e

	)

270 
	#RH_MRF89_TXOPVAL_M8DBM
 0x0e

	)

271 
	#RH_MRF89_TXOPVAL_M5DBM
 0x0c

	)

272 
	#RH_MRF89_TXOPVAL_M2DBM
 0x0a

	)

273 
	#RH_MRF89_TXOPVAL_1DBM
 0x08

	)

274 
	#RH_MRF89_TXOPVAL_4DBM
 0x06

	)

275 
	#RH_MRF89_TXOPVAL_7DBM
 0x04

	)

276 
	#RH_MRF89_TXOPVAL_10DBM
 0x02

	)

277 
	#RH_MRF89_TXOPVAL_13DBM
 0x00

	)

280 
	#RH_MRF89_CLKOCNTRL
 0x80

	)

281 
	#RH_MRF89_CLKOFREQ
 0x7c

	)

284 
	#RH_MRF89_MCHSTREN
 0x80

	)

285 
	#RH_MRF89_PLDPLEN
 0x7f

	)

288 
	#RH_MRF89_PKTLENF
 0x80

	)

290 
	#RH_MRF89_PRESIZE
 0x60

	)

291 
	#RH_MRF89_PRESIZE_4
 0x60

	)

292 
	#RH_MRF89_PRESIZE_3
 0x40

	)

293 
	#RH_MRF89_PRESIZE_2
 0x20

	)

294 
	#RH_MRF89_PRESIZE_1
 0x00

	)

296 
	#RH_MRF89_WHITEON
 0x10

	)

297 
	#RH_MRF89_CHKCRCEN
 0x08

	)

299 
	#RH_MRF89_ADDFIL
 0x06

	)

300 
	#RH_MRF89_ADDFIL_NODEADDR_00_FF
 0x06

	)

301 
	#RH_MRF89_ADDFIL_NODEADDR_00
 0x04

	)

302 
	#RH_MRF89_ADDFIL_NODEADDR
 0x02

	)

303 
	#RH_MRF89_ADDFIL_OFF
 0x00

	)

305 
	#RH_MRF89_STSCRCEN
 0x01

	)

308 
	#RH_MRF89_ACFCRC
 0x80

	)

309 
	#RH_MRF89_FRWAXS
 0x40

	)

377 ˛as†
	cRH_MRF89
 : 
public
 
RHNRFSPIDrivî


379 
public
:

387 
uöt8_t
 
MODSEL
;

388 
uöt8_t
 
	mFDVAL
;

389 
uöt8_t
 
	mBRVAL
;

390 
uöt8_t
 
	mFILCREG
;

391 
uöt8_t
 
	mTXIPOLFV
;

392 } 
	tModemC⁄fig
;

404 
	gFSK_Rb2Fd33
 = 0,

405 
	gFSK_Rb5Fd33
,

406 
	gFSK_Rb10Fd33
,

407 
	gFSK_Rb20Fd40
,

408 
	gFSK_Rb40Fd80
,

409 
	gFSK_Rb50Fd100
,

410 
	gFSK_Rb66Fd133
,

411 
	gFSK_Rb100Fd200
,

412 
	gFSK_Rb200Fd200


413 } 
	tModemC⁄figChoi˚
;

428 
RH_MRF89
(
uöt8_t
 
csc⁄Pö
 = 
SS
, uöt8_à
csd©Pö
 = 9, uöt8_à
öãºu±Pö
 = 2, 
RHGíîicSPI
& 
•i
 = 
h¨dw¨e_•i
);

433 
vútuÆ
 
boﬁ
 
öô
();

439 
boﬁ
 
¥ötRegi°îs
();

446 
vútuÆ
 
boﬁ
 
¶ìp
();

450 
£tModeIdÀ
();

455 
£tModeRx
();

459 
£tModeTx
();

470 
£tTxPowî
(
uöt8_t
 
powî
);

476 
boﬁ
 
£tModemC⁄fig
(
ModemC⁄figChoi˚
 
ödex
);

484 
vútuÆ
 
boﬁ
 
avaûabÀ
();

495 
vútuÆ
 
boﬁ
 
ªcv
(
uöt8_t
* 
buf
, uöt8_t* 
Àn
);

503 
vútuÆ
 
boﬁ
 
£nd
(c⁄° 
uöt8_t
* 
d©a
, uöt8_à
Àn
);

508 
vútuÆ
 
uöt8_t
 
maxMesßgeLígth
();

516 
boﬁ
 
£tFªquícy
(
˚¡ª
);

524 
£tPªambÀLígth
(
uöt8_t
 
byãs
);

535 
£tSyncW‹ds
(c⁄° 
uöt8_t
* 
syncW‹ds
 = 
NULL
, uöt8_à
Àn
 = 0);

537 
	g¥Ÿe˘ed
:

541 
h™dÀI¡îru±
();

546 
uöt8_t
 
•iRódRegi°î
(uöt8_à
ªg
);

552 
uöt8_t
 
•iWrôeRegi°î
(uöt8_à
ªg
, uöt8_à
vÆ
);

557 
uöt8_t
 
•iWrôeD©a
(uöt8_à
d©a
);

563 
uöt8_t
 
•iWrôeD©a
(c⁄° uöt8_t* 
d©a
, uöt8_à
Àn
);

567 
uöt8_t
 
•iRódD©a
();

572 
£tOpMode
(
uöt8_t
 
mode
);

576 
boﬁ
 
vîifyPLLLock
();

579 
vÆid©eRxBuf
();

582 
˛órRxBuf
();

585 
	g¥iv©e
:

587 
i§0
();

590 
i§1
();

593 
i§2
();

596 
RH_MRF89
* 
	g_devi˚F‹I¡îru±
[];

599 
uöt8_t
 
	g_öãºu±Cou¡
;

604 
uöt8_t
 
	g_csc⁄Pö
;

605 
uöt8_t
 
	g_csd©Pö
;

608 
uöt8_t
 
	g_öãºu±Pö
;

612 
uöt8_t
 
	g_myI¡îru±Index
;

615 vﬁ©ûê
uöt8_t
 
	g_bufLí
;

618 
uöt8_t
 
	g_buf
[
RH_MRF89_MAX_PAYLOAD_LEN
];

621 vﬁ©ûê
boﬁ
 
	g_rxBufVÆid
;

	@RH_NRF24.cpp

6 
	~<RH_NRF24.h
>

8 
	gRH_NRF24
::
	$RH_NRF24
(
uöt8_t
 
chùE«bÀPö
, uöt8_à
¶aveSñe˘Pö
, 
RHGíîicSPI
& 
•i
)

10 
	`RHNRFSPIDrivî
(
¶aveSñe˘Pö
, 
•i
),

11 
	$_rxBufVÆid
(0)

13 
_c⁄figuøti⁄
 = 
RH_NRF24_EN_CRC
 | 
RH_NRF24_CRCO
;

14 
_chùE«bÀPö
 = 
chùE«bÀPö
;

15 
	}
}

17 
boﬁ
 
	gRH_NRF24
::
	$öô
()

21 
_•i
.
	`£tFªquícy
(
RHGíîicSPI
::
Fªquícy1MHz
);

22 i‡(!
RHNRFSPIDrivî
::
	`öô
())

23  
Ál£
;

26 
	`pöMode
(
_chùE«bÀPö
, 
OUTPUT
);

27 
	`digôÆWrôe
(
_chùE«bÀPö
, 
LOW
);

30 
	`•iWrôeRegi°î
(
RH_NRF24_REG_07_STATUS
, 
RH_NRF24_RX_DR
 | 
RH_NRF24_TX_DS
 | 
RH_NRF24_MAX_RT
);

32 
	`•iWrôeRegi°î
(
RH_NRF24_REG_1C_DYNPD
, 
RH_NRF24_DPL_ALL
);

34 
	`•iWrôeRegi°î
(
RH_NRF24_REG_1D_FEATURE
, 
RH_NRF24_EN_DPL
 | 
RH_NRF24_EN_DYN_ACK
);

37 i‡(
	`•iRódRegi°î
(
RH_NRF24_REG_1D_FEATURE
Ë!(
RH_NRF24_EN_DPL
 | 
RH_NRF24_EN_DYN_ACK
))

39 
	`•iWrôe
(
RH_NRF24_COMMAND_ACTIVATE
, 0x73);

41 
	`•iWrôeRegi°î
(
RH_NRF24_REG_1D_FEATURE
, 
RH_NRF24_EN_DPL
 | 
RH_NRF24_EN_DYN_ACK
);

42 i‡(
	`•iRódRegi°î
(
RH_NRF24_REG_1D_FEATURE
Ë!(
RH_NRF24_EN_DPL
 | 
RH_NRF24_EN_DYN_ACK
))

43  
Ál£
;

47 
	`£tModeIdÀ
();

50 
	`ÊushTx
();

51 
	`ÊushRx
();

53 
	`£tCh™√l
(2);

54 
	`£tRF
(
RH_NRF24
::
D©aR©e2Mbps
, RH_NRF24::
TønsmôPowî0dBm
);

56  
åue
;

57 
	}
}

60 
uöt8_t
 
	gRH_NRF24
::
	$•iRódRegi°î
(
uöt8_t
 
ªg
)

62  
	`•iRód
((
ªg
 & 
RH_NRF24_REGISTER_MASK
Ë| 
RH_NRF24_COMMAND_R_REGISTER
);

63 
	}
}

65 
uöt8_t
 
	gRH_NRF24
::
	$•iWrôeRegi°î
(
uöt8_t
 
ªg
, uöt8_à
vÆ
)

67  
	`•iWrôe
((
ªg
 & 
RH_NRF24_REGISTER_MASK
Ë| 
RH_NRF24_COMMAND_W_REGISTER
, 
vÆ
);

68 
	}
}

70 
uöt8_t
 
	gRH_NRF24
::
	$•iBur°RódRegi°î
(
uöt8_t
 
ªg
, uöt8_t* 
de°
, uöt8_à
Àn
)

72  
	`•iBur°Ród
((
ªg
 & 
RH_NRF24_REGISTER_MASK
Ë| 
RH_NRF24_COMMAND_R_REGISTER
, 
de°
, 
Àn
);

73 
	}
}

75 
uöt8_t
 
	gRH_NRF24
::
	$•iBur°WrôeRegi°î
(
uöt8_t
 
ªg
, uöt8_t* 
§c
, uöt8_à
Àn
)

77  
	`•iBur°Wrôe
((
ªg
 & 
RH_NRF24_REGISTER_MASK
Ë| 
RH_NRF24_COMMAND_W_REGISTER
, 
§c
, 
Àn
);

78 
	}
}

80 
uöt8_t
 
	gRH_NRF24
::
	$°©usRód
()

83  
	`•iComm™d
(
RH_NRF24_COMMAND_NOP
);

84 
	}
}

86 
uöt8_t
 
	gRH_NRF24
::
	$ÊushTx
()

88  
	`•iComm™d
(
RH_NRF24_COMMAND_FLUSH_TX
);

89 
	}
}

91 
uöt8_t
 
	gRH_NRF24
::
	$ÊushRx
()

93  
	`•iComm™d
(
RH_NRF24_COMMAND_FLUSH_RX
);

94 
	}
}

96 
boﬁ
 
	gRH_NRF24
::
	$£tCh™√l
(
uöt8_t
 
ch™√l
)

98 
	`•iWrôeRegi°î
(
RH_NRF24_REG_05_RF_CH
, 
ch™√l
 & 
RH_NRF24_RF_CH
);

99  
åue
;

100 
	}
}

102 
boﬁ
 
	gRH_NRF24
::
	$£tOpMode
(
uöt8_t
 
mode
)

104 
_c⁄figuøti⁄
 = 
mode
;

105  
åue
;

106 
	}
}

108 
boﬁ
 
	gRH_NRF24
::
	$£tNëw‹kAddªss
(
uöt8_t
* 
addªss
, uöt8_à
Àn
)

110 i‡(
Àn
 < 3 ||Üen > 5)

111  
Ál£
;

114 
	`•iWrôeRegi°î
(
RH_NRF24_REG_03_SETUP_AW
, 
Àn
-2);

115 
	`•iBur°WrôeRegi°î
(
RH_NRF24_REG_0A_RX_ADDR_P0
, 
addªss
, 
Àn
);

116 
	`•iBur°WrôeRegi°î
(
RH_NRF24_REG_10_TX_ADDR
, 
addªss
, 
Àn
);

117  
åue
;

118 
	}
}

120 
boﬁ
 
	gRH_NRF24
::
	$£tRF
(
D©aR©e
 
d©a_øã
, 
TønsmôPowî
 
powî
)

122 
uöt8_t
 
vÆue
 = (
powî
 << 1Ë& 
RH_NRF24_PWR
;

124 i‡(
d©a_øã
 =
D©aR©e250kbps
)

125 
vÆue
 |
RH_NRF24_RF_DR_LOW
;

126 i‡(
d©a_øã
 =
D©aR©e2Mbps
)

127 
vÆue
 |
RH_NRF24_RF_DR_HIGH
;

131 
vÆue
 |
RH_NRF24_LNA_HCURR
;

133 
	`•iWrôeRegi°î
(
RH_NRF24_REG_06_RF_SETUP
, 
vÆue
);

136  
åue
;

137 
	}
}

139 
	gRH_NRF24
::
	$£tModeIdÀ
()

141 i‡(
_mode
 !
RHModeIdÀ
)

143 
	`•iWrôeRegi°î
(
RH_NRF24_REG_00_CONFIG
, 
_c⁄figuøti⁄
);

144 
	`digôÆWrôe
(
_chùE«bÀPö
, 
LOW
);

145 
_mode
 = 
RHModeIdÀ
;

147 
	}
}

149 
boﬁ
 
	gRH_NRF24
::
	$¶ìp
()

151 i‡(
_mode
 !
RHModeSÀï
)

153 
	`•iWrôeRegi°î
(
RH_NRF24_REG_00_CONFIG
, 0);

154 
	`digôÆWrôe
(
_chùE«bÀPö
, 
LOW
);

155 
_mode
 = 
RHModeSÀï
;

156  
åue
;

158  
Ál£
;

159 
	}
}

161 
	gRH_NRF24
::
	$£tModeRx
()

163 i‡(
_mode
 !
RHModeRx
)

165 
	`•iWrôeRegi°î
(
RH_NRF24_REG_00_CONFIG
, 
_c⁄figuøti⁄
 | 
RH_NRF24_PWR_UP
 | 
RH_NRF24_PRIM_RX
);

166 
	`digôÆWrôe
(
_chùE«bÀPö
, 
HIGH
);

167 
_mode
 = 
RHModeRx
;

169 
	}
}

171 
	gRH_NRF24
::
	$£tModeTx
()

173 i‡(
_mode
 !
RHModeTx
)

177 
	`digôÆWrôe
(
_chùE«bÀPö
, 
LOW
);

179 
	`•iWrôeRegi°î
(
RH_NRF24_REG_07_STATUS
, 
RH_NRF24_TX_DS
 | 
RH_NRF24_MAX_RT
);

180 
	`•iWrôeRegi°î
(
RH_NRF24_REG_00_CONFIG
, 
_c⁄figuøti⁄
 | 
RH_NRF24_PWR_UP
);

181 
	`digôÆWrôe
(
_chùE«bÀPö
, 
HIGH
);

182 
_mode
 = 
RHModeTx
;

184 
	}
}

186 
boﬁ
 
	gRH_NRF24
::
	$£nd
(c⁄° 
uöt8_t
* 
d©a
, uöt8_à
Àn
)

188 i‡(
Àn
 > 
RH_NRF24_MAX_MESSAGE_LEN
)

189  
Ál£
;

191 i‡(!
	`waôCAD
())

192  
Ál£
;

195 
_buf
[0] = 
_txHódîTo
;

196 
_buf
[1] = 
_txHódîFrom
;

197 
_buf
[2] = 
_txHódîId
;

198 
_buf
[3] = 
_txHódîFœgs
;

199 
	`mem˝y
(
_buf
+
RH_NRF24_HEADER_LEN
, 
d©a
, 
Àn
);

200 
	`•iBur°Wrôe
(
RH_NRF24_COMMAND_W_TX_PAYLOAD_NOACK
, 
_buf
, 
Àn
 + 
RH_NRF24_HEADER_LEN
);

201 
	`£tModeTx
();

203 
_txGood
++;

204  
åue
;

205 
	}
}

207 
boﬁ
 
	gRH_NRF24
::
	$waôPackëSít
()

210 i‡(
_mode
 !
RHModeTx
)

211  
Ál£
;

216 
uöt8_t
 
°©us
;

217 !((
°©us
 = 
	`°©usRód
()Ë& (
RH_NRF24_TX_DS
 | 
RH_NRF24_MAX_RT
)))

218 
YIELD
;

221 i‡(
°©us
 & 
RH_NRF24_MAX_RT
)

222 
	`ÊushTx
();

223 
	`£tModeIdÀ
();

224 
	`•iWrôeRegi°î
(
RH_NRF24_REG_07_STATUS
, 
RH_NRF24_TX_DS
 | 
RH_NRF24_MAX_RT
);

226  
°©us
 & 
RH_NRF24_TX_DS
;

227 
	}
}

229 
boﬁ
 
	gRH_NRF24
::
	$isSídög
()

231  !(
	`•iRódRegi°î
(
RH_NRF24_REG_00_CONFIG
Ë& 
RH_NRF24_PRIM_RX
) &&

232 !(
	`°©usRód
(Ë& (
RH_NRF24_TX_DS
 | 
RH_NRF24_MAX_RT
));

233 
	}
}

235 
boﬁ
 
	gRH_NRF24
::
	$¥ötRegi°îs
()

237 #ifde‡
RH_HAVE_SERIAL


239 
uöt8_t
 
r
 = 
RH_NRF24_REG_00_CONFIG
;Ñ <
RH_NRF24_REG_1D_FEATURE
;Ñ++)

241 i‡((
r
 <
RH_NRF24_REG_17_FIFO_STATUS
Ë|| (∏>
RH_NRF24_REG_1C_DYNPD
))

243 
Sîül
.
	`¥öt
(
r
, 
HEX
);

244 
Sîül
.
	`¥öt
(": ");

245 
uöt8_t
 
Àn
 = 1;

247 i‡–(
RH_NRF24_REG_0A_RX_ADDR_P0
 =
r
)

248 || (
RH_NRF24_REG_0B_RX_ADDR_P1
 =
r
)

249 || (
RH_NRF24_REG_10_TX_ADDR
 =
r
) )

251 
Àn
 = 5;

253 
uöt8_t
 
buf
[5];

254 
	`•iBur°RódRegi°î
(
r
, 
buf
, 
Àn
);

255 
uöt8_t
 
j
 = 0; j < 
Àn
; ++j)

257 
Sîül
.
	`¥öt
(
buf
[
j
], 
HEX
);

258 
Sîül
.
	`¥öt
(" ");

260 
Sîül
.
	`¥öén
("");

265  
åue
;

266 
	}
}

269 
	gRH_NRF24
::
	$vÆid©eRxBuf
()

271 i‡(
_bufLí
 < 4)

274 
_rxHódîTo
 = 
_buf
[0];

275 
_rxHódîFrom
 = 
_buf
[1];

276 
_rxHódîId
 = 
_buf
[2];

277 
_rxHódîFœgs
 = 
_buf
[3];

278 i‡(
_¥omiscuous
 ||

279 
_rxHódîTo
 =
_thisAddªss
 ||

280 
_rxHódîTo
 =
RH_BROADCAST_ADDRESS
)

282 
_rxGood
++;

283 
_rxBufVÆid
 = 
åue
;

285 
	}
}

287 
boﬁ
 
	gRH_NRF24
::
	$avaûabÀ
()

289 i‡(!
_rxBufVÆid
)

291 i‡(
_mode
 =
RHModeTx
)

292  
Ál£
;

293 
	`£tModeRx
();

294 i‡(
	`•iRódRegi°î
(
RH_NRF24_REG_17_FIFO_STATUS
Ë& 
RH_NRF24_RX_EMPTY
)

295  
Ál£
;

297 
uöt8_t
 
Àn
 = 
	`•iRód
(
RH_NRF24_COMMAND_R_RX_PL_WID
);

298 i‡(
Àn
 > 32)

300 
	`ÊushRx
();

301 
	`˛órRxBuf
();

302 
	`£tModeIdÀ
();

303  
Ál£
;

306 
	`•iWrôeRegi°î
(
RH_NRF24_REG_07_STATUS
, 
RH_NRF24_RX_DR
);

308 
	`•iBur°Ród
(
RH_NRF24_COMMAND_R_RX_PAYLOAD
, 
_buf
, 
Àn
);

309 
_bufLí
 = 
Àn
;

311 
	`vÆid©eRxBuf
();

312 i‡(
_rxBufVÆid
)

313 
	`£tModeIdÀ
();

315  
_rxBufVÆid
;

316 
	}
}

318 
	gRH_NRF24
::
	$˛órRxBuf
()

320 
_rxBufVÆid
 = 
Ál£
;

321 
_bufLí
 = 0;

322 
	}
}

324 
boﬁ
 
	gRH_NRF24
::
	$ªcv
(
uöt8_t
* 
buf
, uöt8_t* 
Àn
)

326 i‡(!
	`avaûabÀ
())

327  
Ál£
;

328 i‡(
buf
 && 
Àn
)

331 i‡(*
Àn
 > 
_bufLí
-
RH_NRF24_HEADER_LEN
)

332 *
Àn
 = 
_bufLí
-
RH_NRF24_HEADER_LEN
;

333 
	`mem˝y
(
buf
, 
_buf
+
RH_NRF24_HEADER_LEN
, *
Àn
);

335 
	`˛órRxBuf
();

336  
åue
;

337 
	}
}

339 
uöt8_t
 
	gRH_NRF24
::
	$maxMesßgeLígth
()

341  
RH_NRF24_MAX_MESSAGE_LEN
;

342 
	}
}

	@RH_NRF24.h

7 #i‚de‡
RH_NRF24_h


8 
	#RH_NRF24_h


	)

10 
	~<RHGíîicSPI.h
>

11 
	~<RHNRFSPIDrivî.h
>

15 
	#RH_NRF24_MAX_PAYLOAD_LEN
 32

	)

19 
	#RH_NRF24_HEADER_LEN
 4

	)

23 
	#RH_NRF24_MAX_MESSAGE_LEN
 (
RH_NRF24_MAX_PAYLOAD_LEN
-
RH_NRF24_HEADER_LEN
)

	)

26 
	#RH_NRF24_COMMAND_R_REGISTER
 0x00

	)

27 
	#RH_NRF24_COMMAND_W_REGISTER
 0x20

	)

28 
	#RH_NRF24_COMMAND_ACTIVATE
 0x50

29 
	#RH_NRF24_COMMAND_R_RX_PAYLOAD
 0x61

	)

30 
	#RH_NRF24_COMMAND_W_TX_PAYLOAD
 0xa0

	)

31 
	#RH_NRF24_COMMAND_FLUSH_TX
 0xe1

	)

32 
	#RH_NRF24_COMMAND_FLUSH_RX
 0xe2

	)

33 
	#RH_NRF24_COMMAND_REUSE_TX_PL
 0xe3

	)

34 
	#RH_NRF24_COMMAND_R_RX_PL_WID
 0x60

	)

35 
	#RH_NRF24_COMMAND_W_ACK_PAYLOAD
(
pùe
Ë(0xa8|’ùe&0x7))

	)

36 
	#RH_NRF24_COMMAND_W_TX_PAYLOAD_NOACK
 0xb0

	)

37 
	#RH_NRF24_COMMAND_NOP
 0xff

	)

40 
	#RH_NRF24_REGISTER_MASK
 0x1f

	)

41 
	#RH_NRF24_REG_00_CONFIG
 0x00

	)

42 
	#RH_NRF24_REG_01_EN_AA
 0x01

	)

43 
	#RH_NRF24_REG_02_EN_RXADDR
 0x02

	)

44 
	#RH_NRF24_REG_03_SETUP_AW
 0x03

	)

45 
	#RH_NRF24_REG_04_SETUP_RETR
 0x04

	)

46 
	#RH_NRF24_REG_05_RF_CH
 0x05

	)

47 
	#RH_NRF24_REG_06_RF_SETUP
 0x06

	)

48 
	#RH_NRF24_REG_07_STATUS
 0x07

	)

49 
	#RH_NRF24_REG_08_OBSERVE_TX
 0x08

	)

50 
	#RH_NRF24_REG_09_RPD
 0x09

	)

51 
	#RH_NRF24_REG_0A_RX_ADDR_P0
 0x0a

	)

52 
	#RH_NRF24_REG_0B_RX_ADDR_P1
 0x0b

	)

53 
	#RH_NRF24_REG_0C_RX_ADDR_P2
 0x0c

	)

54 
	#RH_NRF24_REG_0D_RX_ADDR_P3
 0x0d

	)

55 
	#RH_NRF24_REG_0E_RX_ADDR_P4
 0x0e

	)

56 
	#RH_NRF24_REG_0F_RX_ADDR_P5
 0x0f

	)

57 
	#RH_NRF24_REG_10_TX_ADDR
 0x10

	)

58 
	#RH_NRF24_REG_11_RX_PW_P0
 0x11

	)

59 
	#RH_NRF24_REG_12_RX_PW_P1
 0x12

	)

60 
	#RH_NRF24_REG_13_RX_PW_P2
 0x13

	)

61 
	#RH_NRF24_REG_14_RX_PW_P3
 0x14

	)

62 
	#RH_NRF24_REG_15_RX_PW_P4
 0x15

	)

63 
	#RH_NRF24_REG_16_RX_PW_P5
 0x16

	)

64 
	#RH_NRF24_REG_17_FIFO_STATUS
 0x17

	)

65 
	#RH_NRF24_REG_1C_DYNPD
 0x1c

	)

66 
	#RH_NRF24_REG_1D_FEATURE
 0x1d

	)

71 
	#RH_NRF24_MASK_RX_DR
 0x40

	)

72 
	#RH_NRF24_MASK_TX_DS
 0x20

	)

73 
	#RH_NRF24_MASK_MAX_RT
 0x10

	)

74 
	#RH_NRF24_EN_CRC
 0x08

	)

75 
	#RH_NRF24_CRCO
 0x04

	)

76 
	#RH_NRF24_PWR_UP
 0x02

	)

77 
	#RH_NRF24_PRIM_RX
 0x01

	)

80 
	#RH_NRF24_ENAA_P5
 0x20

	)

81 
	#RH_NRF24_ENAA_P4
 0x10

	)

82 
	#RH_NRF24_ENAA_P3
 0x08

	)

83 
	#RH_NRF24_ENAA_P2
 0x04

	)

84 
	#RH_NRF24_ENAA_P1
 0x02

	)

85 
	#RH_NRF24_ENAA_P0
 0x01

	)

88 
	#RH_NRF24_ERX_P5
 0x20

	)

89 
	#RH_NRF24_ERX_P4
 0x10

	)

90 
	#RH_NRF24_ERX_P3
 0x08

	)

91 
	#RH_NRF24_ERX_P2
 0x04

	)

92 
	#RH_NRF24_ERX_P1
 0x02

	)

93 
	#RH_NRF24_ERX_P0
 0x01

	)

96 
	#RH_NRF24_AW_3_BYTES
 0x01

	)

97 
	#RH_NRF24_AW_4_BYTES
 0x02

	)

98 
	#RH_NRF24_AW_5_BYTES
 0x03

	)

101 
	#RH_NRF24_ARD
 0xf0

	)

102 
	#RH_NRF24_ARC
 0x0f

	)

105 
	#RH_NRF24_RF_CH
 0x7f

	)

108 
	#RH_NRF24_CONT_WAVE
 0x80

	)

109 
	#RH_NRF24_RF_DR_LOW
 0x20

	)

110 
	#RH_NRF24_PLL_LOCK
 0x10

	)

111 
	#RH_NRF24_RF_DR_HIGH
 0x08

	)

112 
	#RH_NRF24_PWR
 0x06

	)

113 
	#RH_NRF24_PWR_m18dBm
 0x00

	)

114 
	#RH_NRF24_PWR_m12dBm
 0x02

	)

115 
	#RH_NRF24_PWR_m6dBm
 0x04

	)

116 
	#RH_NRF24_PWR_0dBm
 0x06

	)

117 
	#RH_NRF24_LNA_HCURR
 0x01

	)

120 
	#RH_NRF24_RX_DR
 0x40

	)

121 
	#RH_NRF24_TX_DS
 0x20

	)

122 
	#RH_NRF24_MAX_RT
 0x10

	)

123 
	#RH_NRF24_RX_P_NO
 0x0e

	)

124 
	#RH_NRF24_STATUS_TX_FULL
 0x01

	)

127 
	#RH_NRF24_PLOS_CNT
 0xf0

	)

128 
	#RH_NRF24_ARC_CNT
 0x0f

	)

131 
	#RH_NRF24_RPD
 0x01

	)

134 
	#RH_NRF24_TX_REUSE
 0x40

	)

135 
	#RH_NRF24_TX_FULL
 0x20

	)

136 
	#RH_NRF24_TX_EMPTY
 0x10

	)

137 
	#RH_NRF24_RX_FULL
 0x02

	)

138 
	#RH_NRF24_RX_EMPTY
 0x01

	)

141 
	#RH_NRF24_DPL_ALL
 0x3f

	)

142 
	#RH_NRF24_DPL_P5
 0x20

	)

143 
	#RH_NRF24_DPL_P4
 0x10

	)

144 
	#RH_NRF24_DPL_P3
 0x08

	)

145 
	#RH_NRF24_DPL_P2
 0x04

	)

146 
	#RH_NRF24_DPL_P1
 0x02

	)

147 
	#RH_NRF24_DPL_P0
 0x01

	)

150 
	#RH_NRF24_EN_DPL
 0x04

	)

151 
	#RH_NRF24_EN_ACK_PAY
 0x02

	)

152 
	#RH_NRF24_EN_DYN_ACK
 0x01

	)

417 ˛as†
	cRH_NRF24
 : 
public
 
RHNRFSPIDrivî


419 
public
:

424 
D©aR©e1Mbps
 = 0,

425 
	mD©aR©e2Mbps
,

426 
	mD©aR©e250kbps


427 } 
	tD©aR©e
;

435 
	gTønsmôPowîm18dBm
 = 0,

436 
	gTønsmôPowîm12dBm
,

437 
	gTønsmôPowîm6dBm
,

438 
	gTønsmôPowî0dBm
,

442 
	gRFM73TønsmôPowîm10dBm
 = 0,

443 
	gRFM73TønsmôPowîm5dBm
,

444 
	gRFM73TønsmôPowîm0dBm
,

445 
	gRFM73TønsmôPowî5dBm


447 } 
	tTønsmôPowî
;

459 
RH_NRF24
(
uöt8_t
 
chùE«bÀPö
 = 8, uöt8_à
¶aveSñe˘Pö
 = 
SS
, 
RHGíîicSPI
& 
•i
 = 
h¨dw¨e_•i
);

471 
boﬁ
 
öô
();

476 
uöt8_t
 
•iRódRegi°î
(uöt8_à
ªg
);

482 
uöt8_t
 
•iWrôeRegi°î
(uöt8_à
ªg
, uöt8_à
vÆ
);

489 
uöt8_t
 
•iBur°RódRegi°î
(uöt8_à
ªg
, uöt8_t* 
de°
, uöt8_à
Àn
);

496 
uöt8_t
 
•iBur°WrôeRegi°î
(uöt8_à
ªg
, uöt8_t* 
§c
, uöt8_à
Àn
);

500 
uöt8_t
 
°©usRód
();

505 
boﬁ
 
£tCh™√l
(
uöt8_t
 
ch™√l
);

515 
boﬁ
 
£tOpMode
(
uöt8_t
 
mode
);

525 
boﬁ
 
£tNëw‹kAddªss
(
uöt8_t
* 
addªss
, uöt8_à
Àn
);

534 
boﬁ
 
£tRF
(
D©aR©e
 
d©a_øã
, 
TønsmôPowî
 
powî
);

539 
£tModeIdÀ
();

543 
£tModeRx
();

547 
£tModeTx
();

555 
boﬁ
 
£nd
(c⁄° 
uöt8_t
* 
d©a
, uöt8_à
Àn
);

560 
vútuÆ
 
boﬁ
 
waôPackëSít
();

565 
boﬁ
 
isSídög
();

571 
boﬁ
 
¥ötRegi°îs
();

577 
boﬁ
 
avaûabÀ
();

588 
boﬁ
 
ªcv
(
uöt8_t
* 
buf
, uöt8_t* 
Àn
);

592 
uöt8_t
 
maxMesßgeLígth
();

599 
vútuÆ
 
boﬁ
 
¶ìp
();

601 
	g¥Ÿe˘ed
:

604 
uöt8_t
 
ÊushTx
();

608 
uöt8_t
 
ÊushRx
();

611 
vÆid©eRxBuf
();

614 
˛órRxBuf
();

616 
	g¥iv©e
:

618 
uöt8_t
 
_c⁄figuøti⁄
;

621 
uöt8_t
 
	g_chùE«bÀPö
;

624 
uöt8_t
 
	g_bufLí
;

627 
uöt8_t
 
	g_buf
[
RH_NRF24_MAX_PAYLOAD_LEN
];

630 
boﬁ
 
	g_rxBufVÆid
;

	@RH_NRF51.cpp

9 
	~<RH_NRF51.h
>

11 #i‡
RH_PLATFORM
==
RH_PLATFORM_NRF51


14 
	gRH_NRF51
::
	$RH_NRF51
()

15 : 
	$_rxBufVÆid
(
Ál£
)

16 #i‡
RH_NRF51_HAVE_ENCRYPTION


17 , 
	$_í¸y±ög
(
Ál£
)

20 
	}
}

22 
boﬁ
 
	gRH_NRF51
::
	$öô
()

25 
NRF_CLOCK
->
EVENTS_HFCLKSTARTED
 = 0;

26 
NRF_CLOCK
->
TASKS_HFCLKSTART
 = 1;

28 
NRF_CLOCK
->
EVENTS_HFCLKSTARTED
 == 0)

32 
NRF_RADIO
->
POWER
 = 
RADIO_POWER_POWER_DißbÀd
;

33 
NRF_RADIO
->
POWER
 = 
RADIO_POWER_POWER_E«bÀd
;

34 
NRF_RADIO
->
EVENTS_DISABLED
 = 0;

35 
NRF_RADIO
->
TASKS_DISABLE
 = 1;

37 
NRF_RADIO
->
EVENTS_DISABLED
 == 0) {}

40 
NRF_RADIO
->
TXADDRESS
 = 0x00;

41 
NRF_RADIO
->
RXADDRESSES
 = 0x01;

44 
NRF_RADIO
->
CRCCNF
 = (
RADIO_CRCCNF_LEN_Two
 << 
RADIO_CRCCNF_LEN_Pos
);

45 
NRF_RADIO
->
CRCINIT
 = 0xFFFFUL;

46 
NRF_RADIO
->
CRCPOLY
 = 0x11021UL;

50 
NRF_RADIO
->
SHORTS
 = (
RADIO_SHORTS_READY_START_E«bÀd
 << 
RADIO_SHORTS_READY_START_Pos
)

51 | (
RADIO_SHORTS_END_DISABLE_E«bÀd
 << 
RADIO_SHORTS_END_DISABLE_Pos
);

53 
NRF_RADIO
->
PCNF0
 = (8 << 
RADIO_PCNF0_LFLEN_Pos
)

54 | (1 << 
RADIO_PCNF0_S0LEN_Pos
)

55 | (8 << 
RADIO_PCNF0_S1LEN_Pos
);

58 
	`£tModeIdÀ
();

61 
uöt8_t
 
deÁu…_√tw‹k_addªss
[] = {0xE7, 0xE7, 0xE7, 0xE7, 0xE7};

62 
	`£tNëw‹kAddªss
(
deÁu…_√tw‹k_addªss
, (default_network_address));

64 
	`£tCh™√l
(2);

65 
	`£tRF
(
RH_NRF51
::
D©aR©e2Mbps
, RH_NRF51::
TønsmôPowî0dBm
);

66 
	`£tEn¸y±i⁄Key
(
NULL
);

67  
åue
;

68 
	}
}

70 
boﬁ
 
	gRH_NRF51
::
	$£tCh™√l
(
uöt8_t
 
ch™√l
)

72 
NRF_RADIO
->
FREQUENCY
 = ((
ch™√l
 << 
RADIO_FREQUENCY_FREQUENCY_Pos
Ë& 
RADIO_FREQUENCY_FREQUENCY_Msk
);

73  
åue
;

74 
	}
}

76 
boﬁ
 
	gRH_NRF51
::
	$£tNëw‹kAddªss
(
uöt8_t
* 
addªss
, uöt8_à
Àn
)

78 i‡(
Àn
 < 3 ||Üen > 5)

79  
Ál£
;

82 
NRF_RADIO
->
PREFIX0
 = ((
addªss
[0] << 
RADIO_PREFIX0_AP0_Pos
Ë& 
RADIO_PREFIX0_AP0_Msk
);

83 
uöt32_t
 
ba£
;

84 
	`mem˝y
(&
ba£
, 
addªss
+1, 
Àn
-1);

85 
NRF_RADIO
->
BASE0
 = 
ba£
;

87 
NRF_RADIO
->
PCNF1
 = (

88 ((((
_buf
)Ë<< 
RADIO_PCNF1_MAXLEN_Pos
Ë& 
RADIO_PCNF1_MAXLEN_Msk
)

89 | (((0ULË<< 
RADIO_PCNF1_STATLEN_Pos
Ë& 
RADIO_PCNF1_STATLEN_Msk
)

90 | (((
Àn
-1Ë<< 
RADIO_PCNF1_BALEN_Pos
Ë& 
RADIO_PCNF1_BALEN_Msk
));

92  
åue
;

93 
	}
}

95 
boﬁ
 
	gRH_NRF51
::
	$£tRF
(
D©aR©e
 
d©a_øã
, 
TønsmôPowî
 
powî
)

97 
uöt8_t
 
mode
;

98 
uöt8_t
 
p
;

100 i‡(
d©a_øã
 =
D©aR©e2Mbps
)

101 
mode
 = 
RADIO_MODE_MODE_Nrf_2Mbô
;

102 i‡(
d©a_øã
 =
D©aR©e1Mbps
)

103 
mode
 = 
RADIO_MODE_MODE_Nrf_1Mbô
;

104 i‡(
d©a_øã
 =
D©aR©e250kbps
)

105 
mode
 = 
RADIO_MODE_MODE_Nrf_250Kbô
;

107  
Ál£
;

109 i‡(
powî
 =
TønsmôPowî4dBm
)

110 
p
 = 
RADIO_TXPOWER_TXPOWER_Pos4dBm
;

111 i‡(
powî
 =
TønsmôPowî0dBm
)

112 
p
 = 
RADIO_TXPOWER_TXPOWER_0dBm
;

113 i‡(
powî
 =
TønsmôPowîm4dBm
)

114 
p
 = 
RADIO_TXPOWER_TXPOWER_Neg4dBm
;

115 i‡(
powî
 =
TønsmôPowîm8dBm
)

116 
p
 = 
RADIO_TXPOWER_TXPOWER_Neg8dBm
;

117 i‡(
powî
 =
TønsmôPowîm12dBm
)

118 
p
 = 
RADIO_TXPOWER_TXPOWER_Neg12dBm
;

119 i‡(
powî
 =
TønsmôPowîm16dBm
)

120 
p
 = 
RADIO_TXPOWER_TXPOWER_Neg16dBm
;

121 i‡(
powî
 =
TønsmôPowîm20dBm
)

122 
p
 = 
RADIO_TXPOWER_TXPOWER_Neg20dBm
;

123 i‡(
powî
 =
TønsmôPowîm30dBm
)

124 
p
 = 
RADIO_TXPOWER_TXPOWER_Neg30dBm
;

126  
Ál£
;

129 
NRF_RADIO
->
TXPOWER
 = ((
p
 << 
RADIO_TXPOWER_TXPOWER_Pos
Ë& 
RADIO_TXPOWER_TXPOWER_Msk
);

130 
NRF_RADIO
->
MODE
 = ((
mode
 << 
RADIO_MODE_MODE_Pos
Ë& 
RADIO_MODE_MODE_Msk
);

132  
åue
;

133 
	}
}

135 
	gRH_NRF51
::
	$£tModeIdÀ
()

137 i‡(
_mode
 !
RHModeIdÀ
)

139 
NRF_RADIO
->
EVENTS_DISABLED
 = 0U;

140 
NRF_RADIO
->
TASKS_DISABLE
 = 1;

141 
NRF_RADIO
->
EVENTS_DISABLED
 == 0U)

143 
NRF_RADIO
->
EVENTS_END
 = 0U;

144 
_mode
 = 
RHModeIdÀ
;

146 
	}
}

148 
	gRH_NRF51
::
	$£tModeRx
()

150 i‡(
_mode
 !
RHModeRx
)

152 
	`£tModeIdÀ
();

154 #i‡
RH_NRF51_HAVE_ENCRYPTION


156 i‡(
_í¸y±ög
)

157 
NRF_CCM
->
MODE
 = (
CCM_MODE_MODE_De¸y±i⁄
 << 
CCM_MODE_MODE_Pos
);

158 
NRF_CCM
->
MICSTATUS
 = 0;

162 
NRF_RADIO
->
PACKETPTR
 = (
uöt32_t
)
_buf
;

163 
NRF_RADIO
->
EVENTS_READY
 = 0U;

164 
NRF_RADIO
->
TASKS_RXEN
 = 1;

165 
NRF_RADIO
->
EVENTS_END
 = 0U;

166 
_mode
 = 
RHModeRx
;

168 
	}
}

170 
	gRH_NRF51
::
	$£tModeTx
()

172 i‡(
_mode
 !
RHModeTx
)

174 
	`£tModeIdÀ
();

180 
	`dñay
(1);

182 #i‡
RH_NRF51_HAVE_ENCRYPTION


184 i‡(
_í¸y±ög
)

185 
NRF_CCM
->
MODE
 = (
CCM_MODE_MODE_En¸y±i⁄
 << 
CCM_MODE_MODE_Pos
);

188 
NRF_RADIO
->
PACKETPTR
 = (
uöt32_t
)
_buf
;

189 
NRF_RADIO
->
EVENTS_READY
 = 0U;

190 
NRF_RADIO
->
TASKS_TXEN
 = 1;

191 
NRF_RADIO
->
EVENTS_END
 = 0U;

192 
_mode
 = 
RHModeTx
;

194 
	}
}

196 
boﬁ
 
	gRH_NRF51
::
	$£nd
(c⁄° 
uöt8_t
* 
d©a
, uöt8_à
Àn
)

198 i‡(
Àn
 > 
RH_NRF51_MAX_MESSAGE_LEN
)

199  
Ál£
;

201 #i‡
RH_NRF51_HAVE_ENCRYPTION


202 i‡(
_í¸y±ög
 && 
Àn
 > 
RH_NRF51_MAX_ENCRYPTED_MESSAGE_LEN
)

203  
Ál£
;

206 i‡(!
	`waôCAD
())

207  
Ál£
;

210 
_buf
[0] = 0;

211 
_buf
[1] = 
Àn
 + 
RH_NRF51_HEADER_LEN
;

212 
_buf
[2] = 0;

214 
_buf
[3] = 
_txHódîTo
;

215 
_buf
[4] = 
_txHódîFrom
;

216 
_buf
[5] = 
_txHódîId
;

217 
_buf
[6] = 
_txHódîFœgs
;

218 
	`mem˝y
(
_buf
+
RH_NRF51_HEADER_LEN
, 
d©a
, 
Àn
);

219 
_rxBufVÆid
 = 
Ál£
;

220 
	`£tModeTx
();

223 
_txGood
++;

224  
åue
;

225 
	}
}

227 
boﬁ
 
	gRH_NRF51
::
	$waôPackëSít
()

230 i‡(
_mode
 !
RHModeTx
)

231  
Ál£
;

234 !
NRF_RADIO
->
EVENTS_END
)

236 
YIELD
;

238 
	`£tModeIdÀ
();

240  
åue
;

241 
	}
}

243 
boﬁ
 
	gRH_NRF51
::
	$isSídög
()

245  (
NRF_RADIO
->
STATE
 =
RADIO_STATE_STATE_Tx
Ë? 
åue
 : 
Ál£
;

246 
	}
}

248 
boﬁ
 
	gRH_NRF51
::
	$¥ötRegi°îs
()

250 #ifde‡
RH_HAVE_SERIAL


251 
uöt16_t
 
i
;

252 
uöt32_t
* 
p
 = (uöt32_t*)
NRF_RADIO
;

253 
i
 = 0; (
p
 + iË< (
uöt32_t
*Ë(((
NRF_RADIO_Ty≥
*)
NRF_RADIO
) + 1); i++)

255 
Sîül
.
	`¥öt
("Offset: ");

256 
Sîül
.
	`¥öt
(
i
, 
DEC
);

257 
Sîül
.
	`¥öt
(" ");

258 
Sîül
.
	`¥öén
(*(
p
+
i
), 
HEX
);

262  
åue
;

263 
	}
}

266 
	gRH_NRF51
::
	$vÆid©eRxBuf
()

268 i‡(
_buf
[1] < 
RH_NRF51_HEADER_LEN
)

271 
_rxHódîTo
 = 
_buf
[3];

272 
_rxHódîFrom
 = 
_buf
[4];

273 
_rxHódîId
 = 
_buf
[5];

274 
_rxHódîFœgs
 = 
_buf
[6];

276 i‡(
_¥omiscuous
 ||

277 
_rxHódîTo
 =
_thisAddªss
 ||

278 
_rxHódîTo
 =
RH_BROADCAST_ADDRESS
)

280 
_rxGood
++;

281 
_rxBufVÆid
 = 
åue
;

283 
	}
}

285 
	gRH_NRF51
::
	$£tEn¸y±i⁄Key
(
uöt8_t
* 
key
)

287 #i‡
RH_NRF51_HAVE_ENCRYPTION


288 i‡(
key
)

292 
	`mem£t
(
_í¸y±i⁄_˙f
, 0, (_encryption_cnf));

293 
	`mem˝y
(
_í¸y±i⁄_˙f
, 
key
, 
RH_NRF51_ENCRYPTION_KEY_LENGTH
);

296 
NRF_CCM
->
CNFPTR
 = (
uöt32_t
)
_í¸y±i⁄_˙f
;

300 
NRF_CCM
->
INPTR
 = (
uöt32_t
)
_buf
;

301 
NRF_CCM
->
OUTPTR
 = (
uöt32_t
)
_buf
;

304 
NRF_CCM
->
SCRATCHPTR
 = (
uöt32_t
)
_s¸©ch
;

308 
NRF_PPI
->
CHENSET
 = (
PPI_CHENSET_CH24_E«bÀd
 << 
PPI_CHENSET_CH24_Pos
)

309 | (
PPI_CHENSET_CH25_E«bÀd
 << 
PPI_CHENSET_CH25_Pos
)

313 
NRF_CCM
->
SHORTS
 = (
CCM_SHORTS_ENDKSGEN_CRYPT_E«bÀd
 << 
CCM_SHORTS_ENDKSGEN_CRYPT_Pos
);

316 
NRF_CCM
->
ENABLE
 = (
CCM_ENABLE_ENABLE_E«bÀd
 << 
CCM_ENABLE_ENABLE_Pos
);

318 
_í¸y±ög
 = 
åue
;

323 
NRF_CCM
->
ENABLE
 = (
CCM_ENABLE_ENABLE_DißbÀd
 << 
CCM_ENABLE_ENABLE_Pos
);

324 
_í¸y±ög
 = 
Ál£
;

327 
	}
}

329 
boﬁ
 
	gRH_NRF51
::
	$avaûabÀ
()

331 i‡(!
_rxBufVÆid
)

333 i‡(
_mode
 =
RHModeTx
)

334  
Ál£
;

335 
	`£tModeRx
();

336 i‡(!
NRF_RADIO
->
EVENTS_END
)

337  
Ál£
;

338 
	`£tModeIdÀ
();

339 #i‡
RH_NRF51_HAVE_ENCRYPTION


342 i‡(
_í¸y±ög
)

343 
	`dñay
(2);

345 i‡(!
NRF_RADIO
->
CRCSTATUS
)

348 
_rxBad
++;

349 
	`£tModeRx
();

350  
Ál£
;

352 
	`vÆid©eRxBuf
();

353 i‡(!
_rxBufVÆid
)

354 
	`£tModeRx
();

356  
_rxBufVÆid
;

357 
	}
}

359 
	gRH_NRF51
::
	$˛órRxBuf
()

361 
_rxBufVÆid
 = 
Ál£
;

362 
_buf
[1] = 0;

363 
	}
}

365 
boﬁ
 
	gRH_NRF51
::
	$ªcv
(
uöt8_t
* 
buf
, uöt8_t* 
Àn
)

367 i‡(!
	`avaûabÀ
())

368  
Ál£
;

369 i‡(
buf
 && 
Àn
)

373 i‡(*
Àn
 > 
_buf
[1]-
RH_NRF51_HEADER_LEN
)

374 *
Àn
 = 
_buf
[1]-
RH_NRF51_HEADER_LEN
;

375 
	`mem˝y
(
buf
, 
_buf
+
RH_NRF51_HEADER_LEN
, *
Àn
);

377 
	`˛órRxBuf
();

378  
åue
;

379 
	}
}

381 
uöt8_t
 
	gRH_NRF51
::
	$maxMesßgeLígth
()

383 #i‡
RH_NRF51_HAVE_ENCRYPTION


384 i‡(
_í¸y±ög
)

385  
RH_NRF51_MAX_ENCRYPTED_MESSAGE_LEN
;

387  
RH_NRF51_MAX_MESSAGE_LEN
;

388 
	}
}

390 
	gRH_NRF51
::
	$gë_ãm≥øtuª
()

392 
NRF_TEMP
->
EVENTS_DATARDY
 = 0;

393 
NRF_TEMP
->
TASKS_START
 = 1;

395 !
NRF_TEMP
->
EVENTS_DATARDY
)

397  
NRF_TEMP
->
TEMP
 * 0.25;

398 
	}
}

	@RH_NRF51.h

7 #i‚de‡
RH_NRF51_h


8 
	#RH_NRF51_h


	)

10 
	~<RHGíîicDrivî.h
>

14 
	#RH_NRF51_MAX_PAYLOAD_LEN
 254

	)

26 
	#RH_NRF51_HEADER_LEN
 7

	)

30 
	#RH_NRF51_MAX_MESSAGE_LEN
 (
RH_NRF51_MAX_PAYLOAD_LEN
-
RH_NRF51_HEADER_LEN
)

	)

34 
	#RH_NRF51_HAVE_ENCRYPTION
 1

	)

37 
	#RH_NRF51_MAX_ENCRYPTED_MESSAGE_LEN
 (27-4)

	)

40 
	#RH_NRF51_ENCRYPTION_KEY_LENGTH
 16

	)

44 
	#RH_NRF51_AES_CCM_CNF_SIZE
 33

	)

126 ˛as†
	cRH_NRF51
 : 
public
 
RHGíîicDrivî


128 
public
:

133 
D©aR©e1Mbps
 = 0,

134 
	mD©aR©e2Mbps
,

135 
	mD©aR©e250kbps


136 } 
	tD©aR©e
;

142 
	gTønsmôPowî4dBm
 = 0,

143 
	gTønsmôPowî0dBm
,

144 
	gTønsmôPowîm4dBm
,

145 
	gTønsmôPowîm8dBm
,

146 
	gTønsmôPowîm12dBm
,

147 
	gTønsmôPowîm16dBm
,

148 
	gTønsmôPowîm20dBm
,

149 
	gTønsmôPowîm30dBm
,

150 } 
	tTønsmôPowî
;

155 
RH_NRF51
();

168 
boﬁ
 
öô
();

173 
boﬁ
 
£tCh™√l
(
uöt8_t
 
ch™√l
);

185 
boﬁ
 
£tNëw‹kAddªss
(
uöt8_t
* 
addªss
, uöt8_à
Àn
);

191 
boﬁ
 
£tRF
(
D©aR©e
 
d©a_øã
, 
TønsmôPowî
 
powî
);

196 
£tModeIdÀ
();

199 
£tModeRx
();

202 
£tModeTx
();

211 
boﬁ
 
£nd
(c⁄° 
uöt8_t
* 
d©a
, uöt8_à
Àn
);

216 
vútuÆ
 
boﬁ
 
waôPackëSít
();

221 
boﬁ
 
isSídög
();

228 
boﬁ
 
¥ötRegi°îs
();

234 
boﬁ
 
avaûabÀ
();

246 
boﬁ
 
ªcv
(
uöt8_t
* 
buf
, uöt8_t* 
Àn
);

257 
£tEn¸y±i⁄Key
(
uöt8_t
* 
key
 = 
NULL
);

261 
uöt8_t
 
maxMesßgeLígth
();

266 
gë_ãm≥øtuª
();

268 
	g¥Ÿe˘ed
:

270 
vÆid©eRxBuf
();

273 
˛órRxBuf
();

275 
	g¥iv©e
:

278 
uöt8_t
 
_buf
[
RH_NRF51_MAX_PAYLOAD_LEN
+1];

281 
boﬁ
 
	g_rxBufVÆid
;

283 #i‡
RH_NRF51_HAVE_ENCRYPTION


286 
boﬁ
 
	g_í¸y±ög
;

289 
uöt8_t
 
	g_s¸©ch
[
RH_NRF51_MAX_PAYLOAD_LEN
+1+16];

292 
uöt8_t
 
	g_í¸y±i⁄_˙f
[
RH_NRF51_AES_CCM_CNF_SIZE
];

	@RH_NRF905.cpp

6 
	~<RH_NRF905.h
>

8 
	gRH_NRF905
::
	$RH_NRF905
(
uöt8_t
 
chùE«bÀPö
, uöt8_à
txE«bÀPö
, uöt8_à
¶aveSñe˘Pö
, 
RHGíîicSPI
& 
•i
)

10 
	$RHNRFSPIDrivî
(
¶aveSñe˘Pö
, 
•i
)

12 
_chùE«bÀPö
 = 
chùE«bÀPö
;

13 
_txE«bÀPö
 = 
txE«bÀPö
;

14 
	}
}

16 
boﬁ
 
	gRH_NRF905
::
	$öô
()

18 #i‡
	`deföed
 (
__MK20DX128__
Ë|| deföed (
__MK20DX256__
)

20 
_•i
.
	`£tFªquícy
(
RHGíîicSPI
::
Fªquícy1MHz
);

22 
_•i
.
	`£tFªquícy
(
RHGíîicSPI
::
Fªquícy8MHz
);

24 i‡(!
RHNRFSPIDrivî
::
	`öô
())

25  
Ál£
;

28 
	`pöMode
(
_chùE«bÀPö
, 
OUTPUT
);

29 
	`pöMode
(
_txE«bÀPö
, 
OUTPUT
);

30 
	`digôÆWrôe
(
_chùE«bÀPö
, 
LOW
);

31 
	`digôÆWrôe
(
_txE«bÀPö
, 
LOW
);

35 
	`•iWrôeRegi°î
(
RH_NRF905_CONFIG_9
, 
RH_NRF905_CONFIG_9_CRC_EN
 | 
RH_NRF905_CONFIG_9_CRC_MODE_16BIT
 | 
RH_NRF905_CONFIG_9_XOF_16MHZ
);

38 
	`£tModeIdÀ
();

41 
	`£tCh™√l
(108, 
LOW
);

42 
	`£tRF
(
RH_NRF905
::
TønsmôPowîm10dBm
);

44  
åue
;

45 
	}
}

48 
uöt8_t
 
	gRH_NRF905
::
	$•iRódRegi°î
(
uöt8_t
 
ªg
)

50  
	`•iRód
((
ªg
 & 
RH_NRF905_REG_MASK
Ë| 
RH_NRF905_REG_R_CONFIG
);

51 
	}
}

53 
uöt8_t
 
	gRH_NRF905
::
	$•iWrôeRegi°î
(
uöt8_t
 
ªg
, uöt8_à
vÆ
)

55  
	`•iWrôe
((
ªg
 & 
RH_NRF905_REG_MASK
Ë| 
RH_NRF905_REG_W_CONFIG
, 
vÆ
);

56 
	}
}

58 
uöt8_t
 
	gRH_NRF905
::
	$•iBur°RódRegi°î
(
uöt8_t
 
ªg
, uöt8_t* 
de°
, uöt8_à
Àn
)

60  
	`•iBur°Ród
((
ªg
 & 
RH_NRF905_REG_MASK
Ë| 
RH_NRF905_REG_R_CONFIG
, 
de°
, 
Àn
);

61 
	}
}

63 
uöt8_t
 
	gRH_NRF905
::
	$•iBur°WrôeRegi°î
(
uöt8_t
 
ªg
, uöt8_t* 
§c
, uöt8_à
Àn
)

65  
	`•iBur°Wrôe
((
ªg
 & 
RH_NRF905_REG_MASK
Ë| 
RH_NRF905_REG_W_CONFIG
, 
§c
, 
Àn
);

66 
	}
}

68 
uöt8_t
 
	gRH_NRF905
::
	$°©usRód
()

71  
	`•iComm™d
(0);

72 
	}
}

74 
boﬁ
 
	gRH_NRF905
::
	$£tCh™√l
(
uöt16_t
 
ch™√l
, 
boﬁ
 
hiFªquícy
)

76 
	`•iWrôeRegi°î
(
RH_NRF905_CONFIG_0
, 
ch™√l
 & 
RH_NRF905_CONFIG_0_CH_NO
);

78 
uöt8_t
 
bô8
 = (
ch™√l
 >> 8) & 0x01;

79 
uöt8_t
 
ªg1
 = 
	`•iRódRegi°î
(
RH_NRF905_CONFIG_1
);

80 
ªg1
 = (ªg1 & ~0x01Ë| 
bô8
;

82 
ªg1
 &~
RH_NRF905_CONFIG_1_HFREQ_PLL
;

83 i‡(
hiFªquícy
)

84 
ªg1
 |
RH_NRF905_CONFIG_1_HFREQ_PLL
;

85 
	`•iWrôeRegi°î
(
RH_NRF905_CONFIG_1
, 
ªg1
);

86  
åue
;

87 
	}
}

89 
boﬁ
 
	gRH_NRF905
::
	$£tNëw‹kAddªss
(
uöt8_t
* 
addªss
, uöt8_à
Àn
)

91 i‡(
Àn
 < 1 ||Üen > 4)

92  
Ál£
;

94 
	`•iWrôeRegi°î
(
RH_NRF905_CONFIG_2
, 
Àn
 | (len << 4));

95 
	`•iBur°Wrôe
(
RH_NRF905_REG_W_TX_ADDRESS
, 
addªss
, 
Àn
);

96 
	`•iBur°WrôeRegi°î
(
RH_NRF905_CONFIG_5
, 
addªss
, 
Àn
);

97  
åue
;

98 
	}
}

100 
boﬁ
 
	gRH_NRF905
::
	$£tRF
(
TønsmôPowî
 
powî
)

103 
uöt8_t
 
ªg1
 = 
	`•iRódRegi°î
(
RH_NRF905_CONFIG_1
);

104 
ªg1
 &~
RH_NRF905_CONFIG_1_PA_PWR
;

105 
ªg1
 |((
powî
 & 0x3Ë<< 2Ë& 
RH_NRF905_CONFIG_1_PA_PWR
;

106 
	`•iWrôeRegi°î
(
RH_NRF905_CONFIG_1
, 
ªg1
);

107  
åue
;

108 
	}
}

110 
	gRH_NRF905
::
	$£tModeIdÀ
()

112 i‡(
_mode
 !
RHModeIdÀ
)

114 
	`digôÆWrôe
(
_chùE«bÀPö
, 
LOW
);

115 
	`digôÆWrôe
(
_txE«bÀPö
, 
LOW
);

116 
_mode
 = 
RHModeIdÀ
;

118 
	}
}

120 
	gRH_NRF905
::
	$£tModeRx
()

122 i‡(
_mode
 !
RHModeRx
)

124 
	`digôÆWrôe
(
_txE«bÀPö
, 
LOW
);

125 
	`digôÆWrôe
(
_chùE«bÀPö
, 
HIGH
);

126 
_mode
 = 
RHModeRx
;

128 
	}
}

130 
	gRH_NRF905
::
	$£tModeTx
()

132 i‡(
_mode
 !
RHModeTx
)

135 
	`digôÆWrôe
(
_txE«bÀPö
, 
HIGH
);

136 
	`digôÆWrôe
(
_chùE«bÀPö
, 
HIGH
);

137 
_mode
 = 
RHModeTx
;

139 
	}
}

141 
boﬁ
 
	gRH_NRF905
::
	$£nd
(c⁄° 
uöt8_t
* 
d©a
, uöt8_à
Àn
)

143 i‡(
Àn
 > 
RH_NRF905_MAX_MESSAGE_LEN
)

144  
Ál£
;

146 i‡(!
	`waôCAD
())

147  
Ál£
;

150 
_buf
[0] = 
_txHódîTo
;

151 
_buf
[1] = 
_txHódîFrom
;

152 
_buf
[2] = 
_txHódîId
;

153 
_buf
[3] = 
_txHódîFœgs
;

154 
_buf
[4] = 
Àn
;

155 
	`mem˝y
(
_buf
+
RH_NRF905_HEADER_LEN
, 
d©a
, 
Àn
);

156 
	`•iBur°Wrôe
(
RH_NRF905_REG_W_TX_PAYLOAD
, 
_buf
, 
Àn
 + 
RH_NRF905_HEADER_LEN
);

157 
	`£tModeTx
();

159 
_txGood
++;

160  
åue
;

161 
	}
}

163 
boﬁ
 
	gRH_NRF905
::
	$waôPackëSít
()

165 i‡(
_mode
 !
RHModeTx
)

166  
Ál£
;

168 !(
	`°©usRód
(Ë& 
RH_NRF905_STATUS_DR
))

169 
YIELD
;

170 
	`£tModeIdÀ
();

171  
åue
;

172 
	}
}

174 
boﬁ
 
	gRH_NRF905
::
	$isSídög
()

176 i‡(
_mode
 !
RHModeTx
)

177  
Ál£
;

179  !(
	`°©usRód
(Ë& 
RH_NRF905_STATUS_DR
);

180 
	}
}

182 
boﬁ
 
	gRH_NRF905
::
	$¥ötRegi°î
(
uöt8_t
 
ªg
)

184 #ifde‡
RH_HAVE_SERIAL


185 
Sîül
.
	`¥öt
(
ªg
, 
HEX
);

186 
Sîül
.
	`¥öt
(": ");

187 
Sîül
.
	`¥öén
(
	`•iRódRegi°î
(
ªg
), 
HEX
);

190  
åue
;

191 
	}
}

193 
boﬁ
 
	gRH_NRF905
::
	$¥ötRegi°îs
()

195 
uöt8_t
 
ªgi°îs
[] = { 0x00, 0x01, 0x02, 0x03, 0x04, 0x05, 0x06, 0x07, 0x08, 0x09};

197 
uöt8_t
 
i
;

198 
i
 = 0; i < (
ªgi°îs
); i++)

199 
	`¥ötRegi°î
(
ªgi°îs
[
i
]);

200  
åue
;

201 
	}
}

204 
	gRH_NRF905
::
	$vÆid©eRxBuf
()

207 
uöt8_t
 
Àn
 = 
_buf
[4];

208 i‡(
Àn
 > 
RH_NRF905_MAX_MESSAGE_LEN
)

212 
_rxHódîTo
 = 
_buf
[0];

213 
_rxHódîFrom
 = 
_buf
[1];

214 
_rxHódîId
 = 
_buf
[2];

215 
_rxHódîFœgs
 = 
_buf
[3];

216 i‡(
_¥omiscuous
 ||

217 
_rxHódîTo
 =
_thisAddªss
 ||

218 
_rxHódîTo
 =
RH_BROADCAST_ADDRESS
)

220 
_rxGood
++;

221 
_bufLí
 = 
Àn
 + 
RH_NRF905_HEADER_LEN
;

222 
_rxBufVÆid
 = 
åue
;

224 
	}
}

226 
boﬁ
 
	gRH_NRF905
::
	$avaûabÀ
()

228 i‡(!
_rxBufVÆid
)

230 i‡(
_mode
 =
RHModeTx
)

231  
Ál£
;

232 
	`£tModeRx
();

233 i‡(!(
	`°©usRód
(Ë& 
RH_NRF905_STATUS_DR
))

234  
Ál£
;

237 
	`•iBur°Ród
(
RH_NRF905_REG_R_RX_PAYLOAD
, 
_buf
, 
RH_NRF905_MAX_PAYLOAD_LEN
);

238 
	`vÆid©eRxBuf
();

239 i‡(
_rxBufVÆid
)

240 
	`£tModeIdÀ
();

243  
_rxBufVÆid
;

244 
	}
}

246 
	gRH_NRF905
::
	$˛órRxBuf
()

248 
_rxBufVÆid
 = 
Ál£
;

249 
_bufLí
 = 0;

250 
	}
}

252 
boﬁ
 
	gRH_NRF905
::
	$ªcv
(
uöt8_t
* 
buf
, uöt8_t* 
Àn
)

254 i‡(!
	`avaûabÀ
())

255  
Ál£
;

256 i‡(
buf
 && 
Àn
)

259 i‡(*
Àn
 > 
_bufLí
-
RH_NRF905_HEADER_LEN
)

260 *
Àn
 = 
_bufLí
-
RH_NRF905_HEADER_LEN
;

261 
	`mem˝y
(
buf
, 
_buf
+
RH_NRF905_HEADER_LEN
, *
Àn
);

263 
	`˛órRxBuf
();

264  
åue
;

265 
	}
}

267 
uöt8_t
 
	gRH_NRF905
::
	$maxMesßgeLígth
()

269  
RH_NRF905_MAX_MESSAGE_LEN
;

270 
	}
}

	@RH_NRF905.h

7 #i‚de‡
RH_NRF905_h


8 
	#RH_NRF905_h


	)

10 
	~<RHGíîicSPI.h
>

11 
	~<RHNRFSPIDrivî.h
>

15 
	#RH_NRF905_MAX_PAYLOAD_LEN
 32

	)

22 
	#RH_NRF905_HEADER_LEN
 5

	)

26 
	#RH_NRF905_MAX_MESSAGE_LEN
 (
RH_NRF905_MAX_PAYLOAD_LEN
-
RH_NRF905_HEADER_LEN
)

	)

29 
	#RH_NRF905_REG_MASK
 0x0f

	)

30 
	#RH_NRF905_REG_W_CONFIG
 0x00

	)

31 
	#RH_NRF905_REG_R_CONFIG
 0x10

	)

32 
	#RH_NRF905_REG_W_TX_PAYLOAD
 0x20

	)

33 
	#RH_NRF905_REG_R_TX_PAYLOAD
 0x21

	)

34 
	#RH_NRF905_REG_W_TX_ADDRESS
 0x22

	)

35 
	#RH_NRF905_REG_R_TX_ADDRESS
 0x23

	)

36 
	#RH_NRF905_REG_R_RX_PAYLOAD
 0x24

	)

37 
	#RH_NRF905_REG_CHANNEL_CONFIG
 0x80

	)

40 
	#RH_NRF905_CONFIG_0
 0x00

	)

41 
	#RH_NRF905_CONFIG_0_CH_NO
 0xff

	)

43 
	#RH_NRF905_CONFIG_1
 0x01

	)

44 
	#RH_NRF905_CONFIG_1_AUTO_RETRAN
 0x20

	)

45 
	#RH_NRF905_CONFIG_1_RX_RED_PWR
 0x10

	)

46 
	#RH_NRF905_CONFIG_1_PA_PWR
 0x0c

	)

47 
	#RH_NRF905_CONFIG_1_PA_PWR_N10DBM
 0x00

	)

48 
	#RH_NRF905_CONFIG_1_PA_PWR_N2DBM
 0x04

	)

49 
	#RH_NRF905_CONFIG_1_PA_PWR_6DBM
 0x08

	)

50 
	#RH_NRF905_CONFIG_1_PA_PWR_10DBM
 0x0c

	)

51 
	#RH_NRF905_CONFIG_1_HFREQ_PLL
 0x02

	)

52 
	#RH_NRF905_CONFIG_1_CH_NO
 0x01

	)

54 
	#RH_NRF905_CONFIG_2
 0x02

	)

55 
	#RH_NRF905_CONFIG_2_TX_AFW
 0x70

	)

56 
	#RH_NRF905_CONFIG_2_RX_AFW
 0x07

	)

58 
	#RH_NRF905_CONFIG_3
 0x03

	)

59 
	#RH_NRF905_CONFIG_3_RX_PW
 0x3f

	)

61 
	#RH_NRF905_CONFIG_4
 0x04

	)

62 
	#RH_NRF905_CONFIG_4_TX_PW
 0x3f

	)

64 
	#RH_NRF905_CONFIG_5
 0x05

	)

65 
	#RH_NRF905_CONFIG_5_RX_ADDRESS
 0xff

	)

67 
	#RH_NRF905_CONFIG_6
 0x06

	)

68 
	#RH_NRF905_CONFIG_6_RX_ADDRESS
 0xff

	)

70 
	#RH_NRF905_CONFIG_7
 0x07

	)

71 
	#RH_NRF905_CONFIG_7_RX_ADDRESS
 0xff

	)

73 
	#RH_NRF905_CONFIG_8
 0x08

	)

74 
	#RH_NRF905_CONFIG_8_RX_ADDRESS
 0xff

	)

76 
	#RH_NRF905_CONFIG_9
 0x09

	)

77 
	#RH_NRF905_CONFIG_9_CRC_MODE_16BIT
 0x80

	)

78 
	#RH_NRF905_CONFIG_9_CRC_EN
 0x40

	)

79 
	#RH_NRF905_CONFIG_9_XOF
 0x38

	)

80 
	#RH_NRF905_CONFIG_9_XOF_4MHZ
 0x00

	)

81 
	#RH_NRF905_CONFIG_9_XOF_8MHZ
 0x08

	)

82 
	#RH_NRF905_CONFIG_9_XOF_12MHZ
 0x10

	)

83 
	#RH_NRF905_CONFIG_9_XOF_16MHZ
 0x18

	)

84 
	#RH_NRF905_CONFIG_9_XOF_20MHZ
 0x20

	)

85 
	#RH_NRF905_CONFIG_9_UP_CLK_EN
 0x04

	)

86 
	#RH_NRF905_CONFIG_9_UP_CLK_FREQ
 0x03

	)

87 
	#RH_NRF905_CONFIG_9_UP_CLK_FREQ_4MHZ
 0x00

	)

88 
	#RH_NRF905_CONFIG_9_UP_CLK_FREQ_2MHZ
 0x01

	)

89 
	#RH_NRF905_CONFIG_9_UP_CLK_FREQ_1MHZ
 0x02

	)

90 
	#RH_NRF905_CONFIG_9_UP_CLK_FREQ_500KHZ
 0x03

	)

93 
	#RH_NRF905_STATUS_AM
 0x80

	)

94 
	#RH_NRF905_STATUS_DR
 0x20

	)

234 ˛as†
	cRH_NRF905
 : 
public
 
RHNRFSPIDrivî


236 
public
:

243 
TønsmôPowîm10dBm
 = 0,

244 
	mTønsmôPowîm2dBm
,

245 
	mTønsmôPowî6dBm
,

246 
	mTønsmôPowî10dBm


247 } 
	tTønsmôPowî
;

260 
RH_NRF905
(
uöt8_t
 
chùE«bÀPö
 = 8, uöt8_à
txE«bÀPö
 = 9, uöt8_à
¶aveSñe˘Pö
 = 
SS
, 
RHGíîicSPI
& 
•i
 = 
h¨dw¨e_•i
);

272 
boﬁ
 
öô
();

277 
uöt8_t
 
•iRódRegi°î
(uöt8_à
ªg
);

283 
uöt8_t
 
•iWrôeRegi°î
(uöt8_à
ªg
, uöt8_à
vÆ
);

290 
uöt8_t
 
•iBur°RódRegi°î
(uöt8_à
ªg
, uöt8_t* 
de°
, uöt8_à
Àn
);

297 
uöt8_t
 
•iBur°WrôeRegi°î
(uöt8_à
ªg
, uöt8_t* 
§c
, uöt8_à
Àn
);

301 
uöt8_t
 
°©usRód
();

308 
boﬁ
 
£tCh™√l
(
uöt16_t
 
ch™√l
, boﬁ 
hiFªquícy
 = 
Ál£
);

317 
boﬁ
 
£tNëw‹kAddªss
(
uöt8_t
* 
addªss
, uöt8_à
Àn
);

322 
boﬁ
 
£tRF
(
TønsmôPowî
 
powî
);

327 
£tModeIdÀ
();

332 
£tModeRx
();

337 
£tModeTx
();

347 
boﬁ
 
£nd
(c⁄° 
uöt8_t
* 
d©a
, uöt8_à
Àn
);

352 
vútuÆ
 
boﬁ
 
waôPackëSít
();

357 
boﬁ
 
isSídög
();

363 
boﬁ
 
¥ötRegi°î
(
uöt8_t
 
ªg
);

369 
boﬁ
 
¥ötRegi°îs
();

375 
boﬁ
 
avaûabÀ
();

386 
boﬁ
 
ªcv
(
uöt8_t
* 
buf
, uöt8_t* 
Àn
);

390 
uöt8_t
 
maxMesßgeLígth
();

392 
	g¥Ÿe˘ed
:

394 
vÆid©eRxBuf
();

397 
˛órRxBuf
();

399 
	g¥iv©e
:

401 
uöt8_t
 
_c⁄figuøti⁄
;

404 
uöt8_t
 
	g_chùE«bÀPö
;

407 
uöt8_t
 
	g_txE«bÀPö
;

410 
uöt8_t
 
	g_bufLí
;

413 
uöt8_t
 
	g_buf
[
RH_NRF905_MAX_PAYLOAD_LEN
];

416 
boﬁ
 
	g_rxBufVÆid
;

	@RH_RF22.cpp

6 
	~<RH_RF22.h
>

11 
RH_RF22
* 
	gRH_RF22
::
_devi˚F‹I¡îru±
[
RH_RF22_NUM_INTERRUPTS
] = {0, 0, 0};

12 
uöt8_t
 
	gRH_RF22
::
_öãºu±Cou¡
 = 0;

18 
PROGMEM
 c⁄° 
	gRH_RF22
::
ModemC⁄fig
 
MODEM_CONFIG_TABLE
[] =

59 
	gRH_RF22
::
	$RH_RF22
(
uöt8_t
 
¶aveSñe˘Pö
, uöt8_à
öãºu±Pö
, 
RHGíîicSPI
& 
•i
)

61 
	$RHSPIDrivî
(
¶aveSñe˘Pö
, 
•i
)

63 
_öãºu±Pö
 = 
öãºu±Pö
;

64 
_idÀMode
 = 
RH_RF22_XTON
;

65 
_pﬁynomül
 = 
CRC_16_IBM
;

66 
_myI¡îru±Index
 = 0xff;

67 
	}
}

69 
	gRH_RF22
::
	$£tIdÀMode
(
uöt8_t
 
idÀMode
)

71 
_idÀMode
 = 
idÀMode
;

72 
	}
}

74 
boﬁ
 
	gRH_RF22
::
	$öô
()

76 i‡(!
RHSPIDrivî
::
	`öô
())

77  
Ál£
;

80 
öãºu±Numbî
 = 
	`digôÆPöToI¡îru±
(
_öãºu±Pö
);

81 i‡(
öãºu±Numbî
 =
NOT_AN_INTERRUPT
)

82  
Ál£
;

83 #ifde‡
RH_ATTACHINTERRUPT_TAKES_PIN_NUMBER


84 
öãºu±Numbî
 = 
_öãºu±Pö
;

88 
	`ª£t
();

92 
_devi˚Ty≥
 = 
	`•iRód
(
RH_RF22_REG_00_DEVICE_TYPE
);

93 i‡–
_devi˚Ty≥
 !
RH_RF22_DEVICE_TYPE_RX_TRX


94 && 
_devi˚Ty≥
 !
RH_RF22_DEVICE_TYPE_TX
)

96  
Ál£
;

102 
	`pöMode
(
_öãºu±Pö
, 
INPUT
);

106 
	`•iWrôe
(
RH_RF22_REG_05_INTERRUPT_ENABLE1
, 
RH_RF22_ENTXFFAEM
 | 
RH_RF22_ENRXFFAFULL
 | 
RH_RF22_ENPKSENT
 | 
RH_RF22_ENPKVALID
 | 
RH_RF22_ENCRCERROR
 | 
RH_RF22_ENFFERR
);

107 
	`•iWrôe
(
RH_RF22_REG_06_INTERRUPT_ENABLE2
, 
RH_RF22_ENPREAVAL
);

115 i‡(
_myI¡îru±Index
 == 0xff)

118 i‡(
_öãºu±Cou¡
 <
RH_RF22_NUM_INTERRUPTS
)

119 
_myI¡îru±Index
 = 
_öãºu±Cou¡
++;

121  
Ál£
;

123 
_devi˚F‹I¡îru±
[
_myI¡îru±Index
] = 
this
;

124 i‡(
_myI¡îru±Index
 == 0)

125 
	`©èchI¡îru±
(
öãºu±Numbî
, 
i§0
, 
FALLING
);

126 i‡(
_myI¡îru±Index
 == 1)

127 
	`©èchI¡îru±
(
öãºu±Numbî
, 
i§1
, 
FALLING
);

128 i‡(
_myI¡îru±Index
 == 2)

129 
	`©èchI¡îru±
(
öãºu±Numbî
, 
i§2
, 
FALLING
);

131  
Ál£
;

133 
	`£tModeIdÀ
();

135 
	`˛órTxBuf
();

136 
	`˛órRxBuf
();

139 
	`•iWrôe
(
RH_RF22_REG_7D_TX_FIFO_CONTROL2
, 
RH_RF22_TXFFAEM_THRESHOLD
);

140 
	`•iWrôe
(
RH_RF22_REG_7E_RX_FIFO_CONTROL
, 
RH_RF22_RXFFAFULL_THRESHOLD
);

141 
	`•iWrôe
(
RH_RF22_REG_30_DATA_ACCESS_CONTROL
, 
RH_RF22_ENPACRX
 | 
RH_RF22_ENPACTX
 | 
RH_RF22_ENCRC
 | (
_pﬁynomül
 & 
RH_RF22_CRC
));

157 
	`•iWrôe
(
RH_RF22_REG_32_HEADER_CONTROL1
, 
RH_RF22_BCEN_HEADER3
 | 
RH_RF22_HDCH_HEADER3
);

158 
	`•iWrôe
(
RH_RF22_REG_33_HEADER_CONTROL2
, 
RH_RF22_HDLEN_4
 | 
RH_RF22_SYNCLEN_2
);

160 
	`£tPªambÀLígth
(8);

161 
uöt8_t
 
syncw‹ds
[] = { 0x2d, 0xd4 };

162 
	`£tSyncW‹ds
(
syncw‹ds
, (syncwords));

163 
	`£tPromiscuous
(
Ál£
);

166 
	`£tFªquícy
(434.0, 0.05);

169 
	`£tModemC⁄fig
(
FSK_Rb2_4Fd36
);

171 
	`£tGpioRevî£d
(
Ál£
);

173 
	`£tTxPowî
(
RH_RF22_TXPOW_8DBM
);

175  
åue
;

176 
	}
}

179 
	gRH_RF22
::
	$h™dÀI¡îru±
()

181 
uöt8_t
 
_œ°I¡îru±Fœgs
[2];

183 
	`•iBur°Ród
(
RH_RF22_REG_03_INTERRUPT_STATUS1
, 
_œ°I¡îru±Fœgs
, 2);

188 
Sîül
.
	`¥öt
("interrupt ");

189 
Sîül
.
	`¥öt
(
_œ°I¡îru±Fœgs
[0], 
HEX
);

190 
Sîül
.
	`¥öt
(" ");

191 
Sîül
.
	`¥öén
(
_œ°I¡îru±Fœgs
[1], 
HEX
);

192 i‡(
_œ°I¡îru±Fœgs
[0] == 0 && _lastInterruptFlags[1] == 0)

193 
Sîül
.
	`¥öén
("FUNNY:Ço interrupt!");

199 
cou¡î
 = 0;

200 i‡(
_œ°I¡îru±Fœgs
[0] & 
RH_RF22_IPKSENT
 && 
cou¡î
++ == 10)

202 
_œ°I¡îru±Fœgs
[0] = 
RH_RF22_IFFERROR
;

203 
cou¡î
 = 0;

207 i‡(
_œ°I¡îru±Fœgs
[0] & 
RH_RF22_IFFERROR
)

209 
	`ª£tFifos
();

210 i‡(
_mode
 =
RHModeTx
)

211 
	`ª°¨tTønsmô
();

212 i‡(
_mode
 =
RHModeRx
)

213 
	`˛órRxBuf
();

217 i‡(
_œ°I¡îru±Fœgs
[0] & 
RH_RF22_ITXFFAEM
)

220 
	`£ndNextFøgmít
();

223 i‡(
_œ°I¡îru±Fœgs
[0] & 
RH_RF22_IRXFFAFULL
)

227 
	`ªadNextFøgmít
();

230 i‡(
_œ°I¡îru±Fœgs
[0] & 
RH_RF22_IEXT
)

233 
	`h™dÀExã∫ÆI¡îru±
();

236 i‡(
_œ°I¡îru±Fœgs
[1] & 
RH_RF22_IWUT
)

239 
	`h™dÀWakeupTimîI¡îru±
();

242 i‡(
_œ°I¡îru±Fœgs
[0] & 
RH_RF22_IPKSENT
)

245 
_txGood
++;

249 
_mode
 = 
RHModeIdÀ
;

251 i‡(
_œ°I¡îru±Fœgs
[0] & 
RH_RF22_IPKVALID
)

253 
uöt8_t
 
Àn
 = 
	`•iRód
(
RH_RF22_REG_4B_RECEIVED_PACKET_LENGTH
);

260 i‡–
Àn
 > 
RH_RF22_MAX_MESSAGE_LEN


261 || 
Àn
 < 
_bufLí
)

263 
_rxBad
++;

264 
_mode
 = 
RHModeIdÀ
;

265 
	`˛órRxBuf
();

269 
	`•iBur°Ród
(
RH_RF22_REG_7F_FIFO_ACCESS
, 
_buf
 + 
_bufLí
, 
Àn
 - _bufLen);

270 
_rxHódîTo
 = 
	`•iRód
(
RH_RF22_REG_47_RECEIVED_HEADER3
);

271 
_rxHódîFrom
 = 
	`•iRód
(
RH_RF22_REG_48_RECEIVED_HEADER2
);

272 
_rxHódîId
 = 
	`•iRód
(
RH_RF22_REG_49_RECEIVED_HEADER1
);

273 
_rxHódîFœgs
 = 
	`•iRód
(
RH_RF22_REG_4A_RECEIVED_HEADER0
);

274 
_rxGood
++;

275 
_bufLí
 = 
Àn
;

276 
_mode
 = 
RHModeIdÀ
;

277 
_rxBufVÆid
 = 
åue
;

279 i‡(
_œ°I¡îru±Fœgs
[0] & 
RH_RF22_ICRCERROR
)

282 
_rxBad
++;

283 
	`˛órRxBuf
();

284 
	`ª£tRxFifo
();

285 
_mode
 = 
RHModeIdÀ
;

286 
	`£tModeRx
();

288 i‡(
_œ°I¡îru±Fœgs
[1] & 
RH_RF22_IPREAVAL
)

291 
_œ°Rssi
 = (
öt8_t
)(-120 + ((
	`•iRód
(
RH_RF22_REG_26_RSSI
) / 2)));

292 
_œ°PªambÀTime
 = 
	`mûlis
();

293 
	`ª£tRxFifo
();

294 
	`˛órRxBuf
();

296 
	}
}

301 
	gRH_RF22
::
	$i§0
()

303 i‡(
_devi˚F‹I¡îru±
[0])

304 
_devi˚F‹I¡îru±
[0]->
	`h™dÀI¡îru±
();

305 
	}
}

306 
	gRH_RF22
::
	$i§1
()

308 i‡(
_devi˚F‹I¡îru±
[1])

309 
_devi˚F‹I¡îru±
[1]->
	`h™dÀI¡îru±
();

310 
	}
}

311 
	gRH_RF22
::
	$i§2
()

313 i‡(
_devi˚F‹I¡îru±
[2])

314 
_devi˚F‹I¡îru±
[2]->
	`h™dÀI¡îru±
();

315 
	}
}

317 
	gRH_RF22
::
	$ª£t
()

319 
	`•iWrôe
(
RH_RF22_REG_07_OPERATING_MODE1
, 
RH_RF22_SWRES
);

321 
	`dñay
(1);

322 
	}
}

324 
uöt8_t
 
	gRH_RF22
::
	$°©usRód
()

326  
	`•iRód
(
RH_RF22_REG_02_DEVICE_STATUS
);

327 
	}
}

329 
uöt8_t
 
	gRH_RF22
::
	$adcRód
(
uöt8_t
 
adc£l
,

330 
uöt8_t
 
ad¸ef
 ,

331 
uöt8_t
 
adcgaö
,

332 
uöt8_t
 
adcoffs
)

334 
uöt8_t
 
c⁄figuøti⁄
 = 
adc£l
 | 
ad¸ef
 | (
adcgaö
 & 
RH_RF22_ADCGAIN
);

335 
	`•iWrôe
(
RH_RF22_REG_0F_ADC_CONFIGURATION
, 
c⁄figuøti⁄
 | 
RH_RF22_ADCSTART
);

336 
	`•iWrôe
(
RH_RF22_REG_10_ADC_SENSOR_AMP_OFFSET
, 
adcoffs
);

340 !(
	`•iRód
(
RH_RF22_REG_0F_ADC_CONFIGURATION
Ë& 
RH_RF22_ADCDONE
))

343  
	`•iRód
(
RH_RF22_REG_11_ADC_VALUE
);

344 
	}
}

346 
uöt8_t
 
	gRH_RF22
::
	$ãm≥øtuªRód
(
uöt8_t
 
t§™ge
, uöt8_à
tvoffs
)

348 
	`•iWrôe
(
RH_RF22_REG_12_TEMPERATURE_SENSOR_CALIBRATION
, 
t§™ge
 | 
RH_RF22_ENTSOFFS
);

349 
	`•iWrôe
(
RH_RF22_REG_13_TEMPERATURE_VALUE_OFFSET
, 
tvoffs
);

350  
	`adcRód
(
RH_RF22_ADCSEL_INTERNAL_TEMPERATURE_SENSOR
 | 
RH_RF22_ADCREF_BANDGAP_VOLTAGE
);

351 
	}
}

353 
uöt16_t
 
	gRH_RF22
::
	$wutRód
()

355 
uöt8_t
 
buf
[2];

356 
	`•iBur°Ród
(
RH_RF22_REG_17_WAKEUP_TIMER_VALUE1
, 
buf
, 2);

357  ((
uöt16_t
)
buf
[0] << 8) | buf[1];

358 
	}
}

361 
	gRH_RF22
::
	$£tWutPîiod
(
uöt16_t
 
wtm
, 
uöt8_t
 
wå
, uöt8_à
wtd
)

363 
uöt8_t
 
≥riod
[3];

365 
≥riod
[0] = ((
wå
 & 0xfË<< 2Ë| (
wtd
 & 0x3);

366 
≥riod
[1] = 
wtm
 >> 8;

367 
≥riod
[2] = 
wtm
 & 0xff;

368 
	`•iBur°Wrôe
(
RH_RF22_REG_14_WAKEUP_TIMER_PERIOD1
, 
≥riod
, (period));

369 
	}
}

374 
boﬁ
 
	gRH_RF22
::
	$£tFªquícy
(
˚¡ª
, 
afcPuŒInR™ge
)

376 
uöt8_t
 
fb£l
 = 
RH_RF22_SBSEL
;

377 
uöt8_t
 
af˛imôî
;

378 i‡(
˚¡ª
 < 240.0 || centre > 960.0)

379  
Ál£
;

380 i‡(
˚¡ª
 >= 480.0)

382 i‡(
afcPuŒInR™ge
 < 0.0 ||áfcPullInRange > 0.318750)

383  
Ál£
;

384 
˚¡ª
 /= 2;

385 
fb£l
 |
RH_RF22_HBSEL
;

386 
af˛imôî
 = 
afcPuŒInR™ge
 * 1000000.0 / 1250.0;

390 i‡(
afcPuŒInR™ge
 < 0.0 ||áfcPullInRange > 0.159375)

391  
Ál£
;

392 
af˛imôî
 = 
afcPuŒInR™ge
 * 1000000.0 / 625.0;

394 
˚¡ª
 /= 10.0;

395 
öãgîP¨t
 = 
	`Êo‹
(
˚¡ª
);

396 
‰a˘i⁄ÆP¨t
 = 
˚¡ª
 - 
öãgîP¨t
;

398 
uöt8_t
 
fb
 = (uöt8_t)
öãgîP¨t
 - 24;

399 
fb£l
 |
fb
;

400 
uöt16_t
 
fc
 = 
‰a˘i⁄ÆP¨t
 * 64000;

401 
	`•iWrôe
(
RH_RF22_REG_73_FREQUENCY_OFFSET1
, 0);

402 
	`•iWrôe
(
RH_RF22_REG_74_FREQUENCY_OFFSET2
, 0);

403 
	`•iWrôe
(
RH_RF22_REG_75_FREQUENCY_BAND_SELECT
, 
fb£l
);

404 
	`•iWrôe
(
RH_RF22_REG_76_NOMINAL_CARRIER_FREQUENCY1
, 
fc
 >> 8);

405 
	`•iWrôe
(
RH_RF22_REG_77_NOMINAL_CARRIER_FREQUENCY0
, 
fc
 & 0xff);

406 
	`•iWrôe
(
RH_RF22_REG_2A_AFC_LIMITER
, 
af˛imôî
);

407  !(
	`°©usRód
(Ë& 
RH_RF22_FREQERR
);

408 
	}
}

412 
boﬁ
 
	gRH_RF22
::
	$£tFHSãpSize
(
uöt8_t
 
fhs
)

414 
	`•iWrôe
(
RH_RF22_REG_7A_FREQUENCY_HOPPING_STEP_SIZE
, 
fhs
);

415  !(
	`°©usRód
(Ë& 
RH_RF22_FREQERR
);

416 
	}
}

420 
boﬁ
 
	gRH_RF22
::
	$£tFHCh™√l
(
uöt8_t
 
fhch
)

422 
	`•iWrôe
(
RH_RF22_REG_79_FREQUENCY_HOPPING_CHANNEL_SELECT
, 
fhch
);

423  !(
	`°©usRód
(Ë& 
RH_RF22_FREQERR
);

424 
	}
}

426 
uöt8_t
 
	gRH_RF22
::
	$rssiRód
()

428  
	`•iRód
(
RH_RF22_REG_26_RSSI
);

429 
	}
}

431 
uöt8_t
 
	gRH_RF22
::
	$ezmacSètusRód
()

433  
	`•iRód
(
RH_RF22_REG_31_EZMAC_STATUS
);

434 
	}
}

436 
	gRH_RF22
::
	$£tOpMode
(
uöt8_t
 
mode
)

438 
	`•iWrôe
(
RH_RF22_REG_07_OPERATING_MODE1
, 
mode
);

439 
	}
}

441 
	gRH_RF22
::
	$£tModeIdÀ
()

443 i‡(
_mode
 !
RHModeIdÀ
)

445 
	`£tOpMode
(
_idÀMode
);

446 
_mode
 = 
RHModeIdÀ
;

448 
	}
}

450 
boﬁ
 
	gRH_RF22
::
	$¶ìp
()

452 i‡(
_mode
 !
RHModeSÀï
)

454 
	`£tOpMode
(0);

455 
_mode
 = 
RHModeSÀï
;

457  
åue
;

458 
	}
}

460 
	gRH_RF22
::
	$£tModeRx
()

462 i‡(
_mode
 !
RHModeRx
)

464 
	`£tOpMode
(
_idÀMode
 | 
RH_RF22_RXON
);

465 
_mode
 = 
RHModeRx
;

467 
	}
}

469 
	gRH_RF22
::
	$£tModeTx
()

471 i‡(
_mode
 !
RHModeTx
)

473 
	`£tOpMode
(
_idÀMode
 | 
RH_RF22_TXON
);

477 
	`ª£tRxFifo
();

478 
_mode
 = 
RHModeTx
;

480 
	}
}

482 
	gRH_RF22
::
	$£tTxPowî
(
uöt8_t
 
powî
)

484 
	`•iWrôe
(
RH_RF22_REG_6D_TX_POWER
, 
powî
 | 
RH_RF22_LNA_SW
);

485 
	}
}

488 
	gRH_RF22
::
	$£tModemRegi°îs
(c⁄° 
ModemC⁄fig
* 
c⁄fig
)

490 
	`•iWrôe
(
RH_RF22_REG_1C_IF_FILTER_BANDWIDTH
, 
c⁄fig
->
ªg_1c
);

491 
	`•iWrôe
(
RH_RF22_REG_1F_CLOCK_RECOVERY_GEARSHIFT_OVERRIDE
, 
c⁄fig
->
ªg_1f
);

492 
	`•iBur°Wrôe
(
RH_RF22_REG_20_CLOCK_RECOVERY_OVERSAMPLING_RATE
, &
c⁄fig
->
ªg_20
, 6);

493 
	`•iBur°Wrôe
(
RH_RF22_REG_2C_OOK_COUNTER_VALUE_1
, &
c⁄fig
->
ªg_2c
, 3);

494 
	`•iWrôe
(
RH_RF22_REG_58_CHARGE_PUMP_CURRENT_TRIMMING
, 
c⁄fig
->
ªg_58
);

495 
	`•iWrôe
(
RH_RF22_REG_69_AGC_OVERRIDE1
, 
c⁄fig
->
ªg_69
);

496 
	`•iBur°Wrôe
(
RH_RF22_REG_6E_TX_DATA_RATE1
, &
c⁄fig
->
ªg_6e
, 5);

497 
	}
}

501 
boﬁ
 
	gRH_RF22
::
	$£tModemC⁄fig
(
ModemC⁄figChoi˚
 
ödex
)

503 i‡(
ödex
 > (sig√d )((
MODEM_CONFIG_TABLE
Ë/ (
ModemC⁄fig
)))

504  
Ál£
;

506 
RH_RF22
::
ModemC⁄fig
 
cfg
;

507 
	`mem˝y_P
(&
cfg
, &
MODEM_CONFIG_TABLE
[
ödex
], (
RH_RF22
::
ModemC⁄fig
));

508 
	`£tModemRegi°îs
(&
cfg
);

510  
åue
;

511 
	}
}

514 
	gRH_RF22
::
	$£tPªambÀLígth
(
uöt8_t
 
nibbÀs
)

516 
	`•iWrôe
(
RH_RF22_REG_34_PREAMBLE_LENGTH
, 
nibbÀs
);

517 
	}
}

520 
	gRH_RF22
::
	$£tSyncW‹ds
(c⁄° 
uöt8_t
* 
syncW‹ds
, uöt8_à
Àn
)

522 
	`•iBur°Wrôe
(
RH_RF22_REG_36_SYNC_WORD3
, 
syncW‹ds
, 
Àn
);

523 
	}
}

525 
	gRH_RF22
::
	$˛órRxBuf
()

527 
ATOMIC_BLOCK_START
;

528 
_bufLí
 = 0;

529 
_rxBufVÆid
 = 
Ál£
;

530 
ATOMIC_BLOCK_END
;

531 
	}
}

533 
boﬁ
 
	gRH_RF22
::
	$avaûabÀ
()

535 i‡(!
_rxBufVÆid
)

537 i‡(
_mode
 =
RHModeTx
)

538  
Ál£
;

539 
	`£tModeRx
();

541  
_rxBufVÆid
;

542 
	}
}

544 
boﬁ
 
	gRH_RF22
::
	$ªcv
(
uöt8_t
* 
buf
, uöt8_t* 
Àn
)

546 i‡(!
	`avaûabÀ
())

547  
Ál£
;

549 i‡(
buf
 && 
Àn
)

551 
ATOMIC_BLOCK_START
;

552 i‡(*
Àn
 > 
_bufLí
)

553 *
Àn
 = 
_bufLí
;

554 
	`mem˝y
(
buf
, 
_buf
, *
Àn
);

555 
ATOMIC_BLOCK_END
;

557 
	`˛órRxBuf
();

559  
åue
;

560 
	}
}

562 
	gRH_RF22
::
	$˛órTxBuf
()

564 
ATOMIC_BLOCK_START
;

565 
_bufLí
 = 0;

566 
_txBufSítIndex
 = 0;

567 
ATOMIC_BLOCK_END
;

568 
	}
}

570 
	gRH_RF22
::
	$°¨tTønsmô
()

572 
	`£ndNextFøgmít
();

573 
	`•iWrôe
(
RH_RF22_REG_3E_PACKET_LENGTH
, 
_bufLí
);

574 
	`£tModeTx
();

575 
	}
}

578 
	gRH_RF22
::
	$ª°¨tTønsmô
()

580 
_mode
 = 
RHModeIdÀ
;

581 
_txBufSítIndex
 = 0;

583 
	`°¨tTønsmô
();

584 
	}
}

586 
boﬁ
 
	gRH_RF22
::
	$£nd
(c⁄° 
uöt8_t
* 
d©a
, uöt8_à
Àn
)

588 
boﬁ
 
ªt
 = 
åue
;

589 
	`waôPackëSít
();

591 i‡(!
	`waôCAD
())

592  
Ál£
;

594 
ATOMIC_BLOCK_START
;

595 
	`•iWrôe
(
RH_RF22_REG_3A_TRANSMIT_HEADER3
, 
_txHódîTo
);

596 
	`•iWrôe
(
RH_RF22_REG_3B_TRANSMIT_HEADER2
, 
_txHódîFrom
);

597 
	`•iWrôe
(
RH_RF22_REG_3C_TRANSMIT_HEADER1
, 
_txHódîId
);

598 
	`•iWrôe
(
RH_RF22_REG_3D_TRANSMIT_HEADER0
, 
_txHódîFœgs
);

599 i‡(!
	`fûlTxBuf
(
d©a
, 
Àn
))

600 
ªt
 = 
Ál£
;

602 
	`°¨tTønsmô
();

603 
ATOMIC_BLOCK_END
;

605  
ªt
;

606 
	}
}

608 
boﬁ
 
	gRH_RF22
::
	$fûlTxBuf
(c⁄° 
uöt8_t
* 
d©a
, uöt8_à
Àn
)

610 
	`˛órTxBuf
();

611 i‡(!
Àn
)

612  
Ál£
;

613  
	`≠≥ndTxBuf
(
d©a
, 
Àn
);

614 
	}
}

616 
boﬁ
 
	gRH_RF22
::
	$≠≥ndTxBuf
(c⁄° 
uöt8_t
* 
d©a
, uöt8_à
Àn
)

618 i‡(((
uöt16_t
)
_bufLí
 + 
Àn
Ë> 
RH_RF22_MAX_MESSAGE_LEN
)

619  
Ál£
;

620 
ATOMIC_BLOCK_START
;

621 
	`mem˝y
(
_buf
 + 
_bufLí
, 
d©a
, 
Àn
);

622 
_bufLí
 +
Àn
;

623 
ATOMIC_BLOCK_END
;

625  
åue
;

626 
	}
}

629 
	gRH_RF22
::
	$£ndNextFøgmít
()

631 i‡(
_txBufSítIndex
 < 
_bufLí
)

634 
uöt8_t
 
Àn
 = 
_bufLí
 - 
_txBufSítIndex
;

636 i‡(
Àn
 > (
RH_RF22_FIFO_SIZE
 - 
RH_RF22_TXFFAEM_THRESHOLD
 - 1))

637 
Àn
 = (
RH_RF22_FIFO_SIZE
 - 
RH_RF22_TXFFAEM_THRESHOLD
 - 1);

638 
	`•iBur°Wrôe
(
RH_RF22_REG_7F_FIFO_ACCESS
, 
_buf
 + 
_txBufSítIndex
, 
Àn
);

640 
_txBufSítIndex
 +
Àn
;

642 
	}
}

646 
	gRH_RF22
::
	$ªadNextFøgmít
()

648 i‡(((
uöt16_t
)
_bufLí
 + 
RH_RF22_RXFFAFULL_THRESHOLD
Ë> 
RH_RF22_MAX_MESSAGE_LEN
)

652 
	`•iBur°Ród
(
RH_RF22_REG_7F_FIFO_ACCESS
, 
_buf
 + 
_bufLí
, 
RH_RF22_RXFFAFULL_THRESHOLD
);

653 
_bufLí
 +
RH_RF22_RXFFAFULL_THRESHOLD
;

654 
	}
}

657 
	gRH_RF22
::
	$ª£tFifos
()

659 
	`•iWrôe
(
RH_RF22_REG_08_OPERATING_MODE2
, 
RH_RF22_FFCLRRX
 | 
RH_RF22_FFCLRTX
);

660 
	`•iWrôe
(
RH_RF22_REG_08_OPERATING_MODE2
, 0);

661 
	}
}

664 
	gRH_RF22
::
	$ª£tRxFifo
()

666 
	`•iWrôe
(
RH_RF22_REG_08_OPERATING_MODE2
, 
RH_RF22_FFCLRRX
);

667 
	`•iWrôe
(
RH_RF22_REG_08_OPERATING_MODE2
, 0);

668 
_rxBufVÆid
 = 
Ál£
;

669 
	}
}

672 
	gRH_RF22
::
	$ª£tTxFifo
()

674 
	`•iWrôe
(
RH_RF22_REG_08_OPERATING_MODE2
, 
RH_RF22_FFCLRTX
);

675 
	`•iWrôe
(
RH_RF22_REG_08_OPERATING_MODE2
, 0);

676 
	}
}

679 
	gRH_RF22
::
	$h™dÀExã∫ÆI¡îru±
()

681 
	}
}

684 
RH_RF22
::
	$h™dÀWakeupTimîI¡îru±
()

686 
	}
}

688 
RH_RF22
::
	$£tPromiscuous
(
boﬁ
 
¥omiscuous
)

690 
RHSPIDrivî
::
	`£tPromiscuous
(
¥omiscuous
);

691 
	`•iWrôe
(
RH_RF22_REG_43_HEADER_ENABLE3
, 
¥omiscuous
 ? 0x00 : 0xff);

692 
	}
}

694 
boﬁ
 
	gRH_RF22
::
	$£tCRCPﬁynomül
(
CRCPﬁynomül
 
pﬁynomül
)

696 i‡(
pﬁynomül
 >
CRC_CCITT
 &&

697 
pﬁynomül
 <
CRC_Bücheva
)

699 
_pﬁynomül
 = 
pﬁynomül
;

700  
åue
;

703  
Ál£
;

704 
	}
}

706 
uöt8_t
 
	gRH_RF22
::
	$maxMesßgeLígth
()

708  
RH_RF22_MAX_MESSAGE_LEN
;

709 
	}
}

711 
	gRH_RF22
::
	$£tThisAddªss
(
uöt8_t
 
thisAddªss
)

713 
RHSPIDrivî
::
	`£tThisAddªss
(
thisAddªss
);

714 
	`•iWrôe
(
RH_RF22_REG_3F_CHECK_HEADER3
, 
thisAddªss
);

715 
	}
}

717 
uöt32_t
 
	gRH_RF22
::
	$gëLa°PªambÀTime
()

719  
_œ°PªambÀTime
;

720 
	}
}

722 
	gRH_RF22
::
	$£tGpioRevî£d
(
boﬁ
 
gpioRevî£d
)

727 i‡(
gpioRevî£d
)

730 
	`•iWrôe
(
RH_RF22_REG_0B_GPIO_CONFIGURATION0
, 0x15) ;

731 
	`•iWrôe
(
RH_RF22_REG_0C_GPIO_CONFIGURATION1
, 0x12) ;

735 
	`•iWrôe
(
RH_RF22_REG_0B_GPIO_CONFIGURATION0
, 0x12) ;

736 
	`•iWrôe
(
RH_RF22_REG_0C_GPIO_CONFIGURATION1
, 0x15) ;

738 
	}
}

	@RH_RF22.h

7 #i‚de‡
RH_RF22_h


8 
	#RH_RF22_h


	)

10 
	~<RHGíîicSPI.h
>

11 
	~<RHSPIDrivî.h
>

15 
	#RH_RF22_NUM_INTERRUPTS
 3

	)

18 
	#RH_RF22_SPI_WRITE_MASK
 0x80

	)

26 #i‚de‡
RH_RF22_MAX_MESSAGE_LEN


28 
	#RH_RF22_MAX_MESSAGE_LEN
 50

	)

32 
	#RH_RF22_FIFO_SIZE
 64

	)

35 
	#RH_RF22_TXFFAEM_THRESHOLD
 4

	)

36 
	#RH_RF22_RXFFAFULL_THRESHOLD
 55

	)

39 
	#RH_RF22_NUM_MODEM_CONFIG_REGS
 18

	)

42 
	#RH_RF22_REG_00_DEVICE_TYPE
 0x00

	)

43 
	#RH_RF22_REG_01_VERSION_CODE
 0x01

	)

44 
	#RH_RF22_REG_02_DEVICE_STATUS
 0x02

	)

45 
	#RH_RF22_REG_03_INTERRUPT_STATUS1
 0x03

	)

46 
	#RH_RF22_REG_04_INTERRUPT_STATUS2
 0x04

	)

47 
	#RH_RF22_REG_05_INTERRUPT_ENABLE1
 0x05

	)

48 
	#RH_RF22_REG_06_INTERRUPT_ENABLE2
 0x06

	)

49 
	#RH_RF22_REG_07_OPERATING_MODE1
 0x07

	)

50 
	#RH_RF22_REG_08_OPERATING_MODE2
 0x08

	)

51 
	#RH_RF22_REG_09_OSCILLATOR_LOAD_CAPACITANCE
 0x09

	)

52 
	#RH_RF22_REG_0A_UC_OUTPUT_CLOCK
 0x0a

	)

53 
	#RH_RF22_REG_0B_GPIO_CONFIGURATION0
 0x0b

	)

54 
	#RH_RF22_REG_0C_GPIO_CONFIGURATION1
 0x0c

	)

55 
	#RH_RF22_REG_0D_GPIO_CONFIGURATION2
 0x0d

	)

56 
	#RH_RF22_REG_0E_IO_PORT_CONFIGURATION
 0x0e

	)

57 
	#RH_RF22_REG_0F_ADC_CONFIGURATION
 0x0f

	)

58 
	#RH_RF22_REG_10_ADC_SENSOR_AMP_OFFSET
 0x10

	)

59 
	#RH_RF22_REG_11_ADC_VALUE
 0x11

	)

60 
	#RH_RF22_REG_12_TEMPERATURE_SENSOR_CALIBRATION
 0x12

	)

61 
	#RH_RF22_REG_13_TEMPERATURE_VALUE_OFFSET
 0x13

	)

62 
	#RH_RF22_REG_14_WAKEUP_TIMER_PERIOD1
 0x14

	)

63 
	#RH_RF22_REG_15_WAKEUP_TIMER_PERIOD2
 0x15

	)

64 
	#RH_RF22_REG_16_WAKEUP_TIMER_PERIOD3
 0x16

	)

65 
	#RH_RF22_REG_17_WAKEUP_TIMER_VALUE1
 0x17

	)

66 
	#RH_RF22_REG_18_WAKEUP_TIMER_VALUE2
 0x18

	)

67 
	#RH_RF22_REG_19_LDC_MODE_DURATION
 0x19

	)

68 
	#RH_RF22_REG_1A_LOW_BATTERY_DETECTOR_THRESHOLD
 0x1a

	)

69 
	#RH_RF22_REG_1B_BATTERY_VOLTAGE_LEVEL
 0x1b

	)

70 
	#RH_RF22_REG_1C_IF_FILTER_BANDWIDTH
 0x1c

	)

71 
	#RH_RF22_REG_1D_AFC_LOOP_GEARSHIFT_OVERRIDE
 0x1d

	)

72 
	#RH_RF22_REG_1E_AFC_TIMING_CONTROL
 0x1e

	)

73 
	#RH_RF22_REG_1F_CLOCK_RECOVERY_GEARSHIFT_OVERRIDE
 0x1f

	)

74 
	#RH_RF22_REG_20_CLOCK_RECOVERY_OVERSAMPLING_RATE
 0x20

	)

75 
	#RH_RF22_REG_21_CLOCK_RECOVERY_OFFSET2
 0x21

	)

76 
	#RH_RF22_REG_22_CLOCK_RECOVERY_OFFSET1
 0x22

	)

77 
	#RH_RF22_REG_23_CLOCK_RECOVERY_OFFSET0
 0x23

	)

78 
	#RH_RF22_REG_24_CLOCK_RECOVERY_TIMING_LOOP_GAIN1
 0x24

	)

79 
	#RH_RF22_REG_25_CLOCK_RECOVERY_TIMING_LOOP_GAIN0
 0x25

	)

80 
	#RH_RF22_REG_26_RSSI
 0x26

	)

81 
	#RH_RF22_REG_27_RSSI_THRESHOLD
 0x27

	)

82 
	#RH_RF22_REG_28_ANTENNA_DIVERSITY1
 0x28

	)

83 
	#RH_RF22_REG_29_ANTENNA_DIVERSITY2
 0x29

	)

84 
	#RH_RF22_REG_2A_AFC_LIMITER
 0x2a

	)

85 
	#RH_RF22_REG_2B_AFC_CORRECTION_READ
 0x2b

	)

86 
	#RH_RF22_REG_2C_OOK_COUNTER_VALUE_1
 0x2c

	)

87 
	#RH_RF22_REG_2D_OOK_COUNTER_VALUE_2
 0x2d

	)

88 
	#RH_RF22_REG_2E_SLICER_PEAK_HOLD
 0x2e

	)

89 
	#RH_RF22_REG_30_DATA_ACCESS_CONTROL
 0x30

	)

90 
	#RH_RF22_REG_31_EZMAC_STATUS
 0x31

	)

91 
	#RH_RF22_REG_32_HEADER_CONTROL1
 0x32

	)

92 
	#RH_RF22_REG_33_HEADER_CONTROL2
 0x33

	)

93 
	#RH_RF22_REG_34_PREAMBLE_LENGTH
 0x34

	)

94 
	#RH_RF22_REG_35_PREAMBLE_DETECTION_CONTROL1
 0x35

	)

95 
	#RH_RF22_REG_36_SYNC_WORD3
 0x36

	)

96 
	#RH_RF22_REG_37_SYNC_WORD2
 0x37

	)

97 
	#RH_RF22_REG_38_SYNC_WORD1
 0x38

	)

98 
	#RH_RF22_REG_39_SYNC_WORD0
 0x39

	)

99 
	#RH_RF22_REG_3A_TRANSMIT_HEADER3
 0x3a

	)

100 
	#RH_RF22_REG_3B_TRANSMIT_HEADER2
 0x3b

	)

101 
	#RH_RF22_REG_3C_TRANSMIT_HEADER1
 0x3c

	)

102 
	#RH_RF22_REG_3D_TRANSMIT_HEADER0
 0x3d

	)

103 
	#RH_RF22_REG_3E_PACKET_LENGTH
 0x3e

	)

104 
	#RH_RF22_REG_3F_CHECK_HEADER3
 0x3f

	)

105 
	#RH_RF22_REG_40_CHECK_HEADER2
 0x40

	)

106 
	#RH_RF22_REG_41_CHECK_HEADER1
 0x41

	)

107 
	#RH_RF22_REG_42_CHECK_HEADER0
 0x42

	)

108 
	#RH_RF22_REG_43_HEADER_ENABLE3
 0x43

	)

109 
	#RH_RF22_REG_44_HEADER_ENABLE2
 0x44

	)

110 
	#RH_RF22_REG_45_HEADER_ENABLE1
 0x45

	)

111 
	#RH_RF22_REG_46_HEADER_ENABLE0
 0x46

	)

112 
	#RH_RF22_REG_47_RECEIVED_HEADER3
 0x47

	)

113 
	#RH_RF22_REG_48_RECEIVED_HEADER2
 0x48

	)

114 
	#RH_RF22_REG_49_RECEIVED_HEADER1
 0x49

	)

115 
	#RH_RF22_REG_4A_RECEIVED_HEADER0
 0x4a

	)

116 
	#RH_RF22_REG_4B_RECEIVED_PACKET_LENGTH
 0x4b

	)

117 
	#RH_RF22_REG_50_ANALOG_TEST_BUS_SELECT
 0x50

	)

118 
	#RH_RF22_REG_51_DIGITAL_TEST_BUS_SELECT
 0x51

	)

119 
	#RH_RF22_REG_52_TX_RAMP_CONTROL
 0x52

	)

120 
	#RH_RF22_REG_53_PLL_TUNE_TIME
 0x53

	)

121 
	#RH_RF22_REG_55_CALIBRATION_CONTROL
 0x55

	)

122 
	#RH_RF22_REG_56_MODEM_TEST
 0x56

	)

123 
	#RH_RF22_REG_57_CHARGE_PUMP_TEST
 0x57

	)

124 
	#RH_RF22_REG_58_CHARGE_PUMP_CURRENT_TRIMMING
 0x58

	)

125 
	#RH_RF22_REG_59_DIVIDER_CURRENT_TRIMMING
 0x59

	)

126 
	#RH_RF22_REG_5A_VCO_CURRENT_TRIMMING
 0x5a

	)

127 
	#RH_RF22_REG_5B_VCO_CALIBRATION
 0x5b

	)

128 
	#RH_RF22_REG_5C_SYNTHESIZER_TEST
 0x5c

	)

129 
	#RH_RF22_REG_5D_BLOCK_ENABLE_OVERRIDE1
 0x5d

	)

130 
	#RH_RF22_REG_5E_BLOCK_ENABLE_OVERRIDE2
 0x5e

	)

131 
	#RH_RF22_REG_5F_BLOCK_ENABLE_OVERRIDE3
 0x5f

	)

132 
	#RH_RF22_REG_60_CHANNEL_FILTER_COEFFICIENT_ADDRESS
 0x60

	)

133 
	#RH_RF22_REG_61_CHANNEL_FILTER_COEFFICIENT_VALUE
 0x61

	)

134 
	#RH_RF22_REG_62_CRYSTAL_OSCILLATOR_POR_CONTROL
 0x62

	)

135 
	#RH_RF22_REG_63_RC_OSCILLATOR_COARSE_CALIBRATION
 0x63

	)

136 
	#RH_RF22_REG_64_RC_OSCILLATOR_FINE_CALIBRATION
 0x64

	)

137 
	#RH_RF22_REG_65_LDO_CONTROL_OVERRIDE
 0x65

	)

138 
	#RH_RF22_REG_66_LDO_LEVEL_SETTINGS
 0x66

	)

139 
	#RH_RF22_REG_67_DELTA_SIGMA_ADC_TUNING1
 0x67

	)

140 
	#RH_RF22_REG_68_DELTA_SIGMA_ADC_TUNING2
 0x68

	)

141 
	#RH_RF22_REG_69_AGC_OVERRIDE1
 0x69

	)

142 
	#RH_RF22_REG_6A_AGC_OVERRIDE2
 0x6a

	)

143 
	#RH_RF22_REG_6B_GFSK_FIR_FILTER_COEFFICIENT_ADDRESS
 0x6b

	)

144 
	#RH_RF22_REG_6C_GFSK_FIR_FILTER_COEFFICIENT_VALUE
 0x6c

	)

145 
	#RH_RF22_REG_6D_TX_POWER
 0x6d

	)

146 
	#RH_RF22_REG_6E_TX_DATA_RATE1
 0x6e

	)

147 
	#RH_RF22_REG_6F_TX_DATA_RATE0
 0x6f

	)

148 
	#RH_RF22_REG_70_MODULATION_CONTROL1
 0x70

	)

149 
	#RH_RF22_REG_71_MODULATION_CONTROL2
 0x71

	)

150 
	#RH_RF22_REG_72_FREQUENCY_DEVIATION
 0x72

	)

151 
	#RH_RF22_REG_73_FREQUENCY_OFFSET1
 0x73

	)

152 
	#RH_RF22_REG_74_FREQUENCY_OFFSET2
 0x74

	)

153 
	#RH_RF22_REG_75_FREQUENCY_BAND_SELECT
 0x75

	)

154 
	#RH_RF22_REG_76_NOMINAL_CARRIER_FREQUENCY1
 0x76

	)

155 
	#RH_RF22_REG_77_NOMINAL_CARRIER_FREQUENCY0
 0x77

	)

156 
	#RH_RF22_REG_79_FREQUENCY_HOPPING_CHANNEL_SELECT
 0x79

	)

157 
	#RH_RF22_REG_7A_FREQUENCY_HOPPING_STEP_SIZE
 0x7a

	)

158 
	#RH_RF22_REG_7C_TX_FIFO_CONTROL1
 0x7c

	)

159 
	#RH_RF22_REG_7D_TX_FIFO_CONTROL2
 0x7d

	)

160 
	#RH_RF22_REG_7E_RX_FIFO_CONTROL
 0x7e

	)

161 
	#RH_RF22_REG_7F_FIFO_ACCESS
 0x7f

	)

166 
	#RH_RF22_DEVICE_TYPE_RX_TRX
 0x08

	)

167 
	#RH_RF22_DEVICE_TYPE_TX
 0x07

	)

170 
	#RH_RF22_FFOVL
 0x80

	)

171 
	#RH_RF22_FFUNFL
 0x40

	)

172 
	#RH_RF22_RXFFEM
 0x20

	)

173 
	#RH_RF22_HEADERR
 0x10

	)

174 
	#RH_RF22_FREQERR
 0x08

	)

175 
	#RH_RF22_LOCKDET
 0x04

	)

176 
	#RH_RF22_CPS
 0x03

	)

177 
	#RH_RF22_CPS_IDLE
 0x00

	)

178 
	#RH_RF22_CPS_RX
 0x01

	)

179 
	#RH_RF22_CPS_TX
 0x10

	)

182 
	#RH_RF22_IFFERROR
 0x80

	)

183 
	#RH_RF22_ITXFFAFULL
 0x40

	)

184 
	#RH_RF22_ITXFFAEM
 0x20

	)

185 
	#RH_RF22_IRXFFAFULL
 0x10

	)

186 
	#RH_RF22_IEXT
 0x08

	)

187 
	#RH_RF22_IPKSENT
 0x04

	)

188 
	#RH_RF22_IPKVALID
 0x02

	)

189 
	#RH_RF22_ICRCERROR
 0x01

	)

192 
	#RH_RF22_ISWDET
 0x80

	)

193 
	#RH_RF22_IPREAVAL
 0x40

	)

194 
	#RH_RF22_IPREAINVAL
 0x20

	)

195 
	#RH_RF22_IRSSI
 0x10

	)

196 
	#RH_RF22_IWUT
 0x08

	)

197 
	#RH_RF22_ILBD
 0x04

	)

198 
	#RH_RF22_ICHIPRDY
 0x02

	)

199 
	#RH_RF22_IPOR
 0x01

	)

202 
	#RH_RF22_ENFFERR
 0x80

	)

203 
	#RH_RF22_ENTXFFAFULL
 0x40

	)

204 
	#RH_RF22_ENTXFFAEM
 0x20

	)

205 
	#RH_RF22_ENRXFFAFULL
 0x10

	)

206 
	#RH_RF22_ENEXT
 0x08

	)

207 
	#RH_RF22_ENPKSENT
 0x04

	)

208 
	#RH_RF22_ENPKVALID
 0x02

	)

209 
	#RH_RF22_ENCRCERROR
 0x01

	)

212 
	#RH_RF22_ENSWDET
 0x80

	)

213 
	#RH_RF22_ENPREAVAL
 0x40

	)

214 
	#RH_RF22_ENPREAINVAL
 0x20

	)

215 
	#RH_RF22_ENRSSI
 0x10

	)

216 
	#RH_RF22_ENWUT
 0x08

	)

217 
	#RH_RF22_ENLBDI
 0x04

	)

218 
	#RH_RF22_ENCHIPRDY
 0x02

	)

219 
	#RH_RF22_ENPOR
 0x01

	)

222 
	#RH_RF22_SWRES
 0x80

	)

223 
	#RH_RF22_ENLBD
 0x40

	)

224 
	#RH_RF22_ENWT
 0x20

	)

225 
	#RH_RF22_X32KSEL
 0x10

	)

226 
	#RH_RF22_TXON
 0x08

	)

227 
	#RH_RF22_RXON
 0x04

	)

228 
	#RH_RF22_PLLON
 0x02

	)

229 
	#RH_RF22_XTON
 0x01

	)

232 
	#RH_RF22_ANTDIV
 0xc0

	)

233 
	#RH_RF22_RXMPK
 0x10

	)

234 
	#RH_RF22_AUTOTX
 0x08

	)

235 
	#RH_RF22_ENLDM
 0x04

	)

236 
	#RH_RF22_FFCLRRX
 0x02

	)

237 
	#RH_RF22_FFCLRTX
 0x01

	)

240 
	#RH_RF22_ADCSTART
 0x80

	)

241 
	#RH_RF22_ADCDONE
 0x80

	)

242 
	#RH_RF22_ADCSEL
 0x70

	)

243 
	#RH_RF22_ADCSEL_INTERNAL_TEMPERATURE_SENSOR
 0x00

	)

244 
	#RH_RF22_ADCSEL_GPIO0_SINGLE_ENDED
 0x10

	)

245 
	#RH_RF22_ADCSEL_GPIO1_SINGLE_ENDED
 0x20

	)

246 
	#RH_RF22_ADCSEL_GPIO2_SINGLE_ENDED
 0x30

	)

247 
	#RH_RF22_ADCSEL_GPIO0_GPIO1_DIFFERENTIAL
 0x40

	)

248 
	#RH_RF22_ADCSEL_GPIO1_GPIO2_DIFFERENTIAL
 0x50

	)

249 
	#RH_RF22_ADCSEL_GPIO0_GPIO2_DIFFERENTIAL
 0x60

	)

250 
	#RH_RF22_ADCSEL_GND
 0x70

	)

251 
	#RH_RF22_ADCREF
 0x0c

	)

252 
	#RH_RF22_ADCREF_BANDGAP_VOLTAGE
 0x00

	)

253 
	#RH_RF22_ADCREF_VDD_ON_3
 0x08

	)

254 
	#RH_RF22_ADCREF_VDD_ON_2
 0x0c

	)

255 
	#RH_RF22_ADCGAIN
 0x03

	)

258 
	#RH_RF22_ADCOFFS
 0x0f

	)

261 
	#RH_RF22_TSRANGE
 0xc0

	)

262 
	#RH_RF22_TSRANGE_M64_64C
 0x00

	)

263 
	#RH_RF22_TSRANGE_M64_192C
 0x40

	)

264 
	#RH_RF22_TSRANGE_0_128C
 0x80

	)

265 
	#RH_RF22_TSRANGE_M40_216F
 0xc0

	)

266 
	#RH_RF22_ENTSOFFS
 0x20

	)

267 
	#RH_RF22_ENTSTRIM
 0x10

	)

268 
	#RH_RF22_TSTRIM
 0x0f

	)

271 
	#RH_RF22_WTR
 0x3c

	)

272 
	#RH_RF22_WTD
 0x03

	)

275 
	#RH_RF22_AFBCD
 0x80

	)

276 
	#RH_RF22_ENAFC
 0x40

	)

277 
	#RH_RF22_AFCGEARH
 0x38

	)

278 
	#RH_RF22_AFCGEARL
 0x07

	)

281 
	#RH_RF22_SWAIT_TIMER
 0xc0

	)

282 
	#RH_RF22_SHWAIT
 0x38

	)

283 
	#RH_RF22_ANWAIT
 0x07

	)

286 
	#RH_RF22_ENPACRX
 0x80

	)

287 
	#RH_RF22_MSBFRST
 0x00

	)

288 
	#RH_RF22_LSBFRST
 0x40

	)

289 
	#RH_RF22_CRCHDRS
 0x00

	)

290 
	#RH_RF22_CRCDONLY
 0x20

	)

291 
	#RH_RF22_SKIP2PH
 0x10

	)

292 
	#RH_RF22_ENPACTX
 0x08

	)

293 
	#RH_RF22_ENCRC
 0x04

	)

294 
	#RH_RF22_CRC
 0x03

	)

295 
	#RH_RF22_CRC_CCITT
 0x00

	)

296 
	#RH_RF22_CRC_CRC_16_IBM
 0x01

	)

297 
	#RH_RF22_CRC_IEC_16
 0x02

	)

298 
	#RH_RF22_CRC_BIACHEVA
 0x03

	)

301 
	#RH_RF22_BCEN
 0xf0

	)

302 
	#RH_RF22_BCEN_NONE
 0x00

	)

303 
	#RH_RF22_BCEN_HEADER0
 0x10

	)

304 
	#RH_RF22_BCEN_HEADER1
 0x20

	)

305 
	#RH_RF22_BCEN_HEADER2
 0x40

	)

306 
	#RH_RF22_BCEN_HEADER3
 0x80

	)

307 
	#RH_RF22_HDCH
 0x0f

	)

308 
	#RH_RF22_HDCH_NONE
 0x00

	)

309 
	#RH_RF22_HDCH_HEADER0
 0x01

	)

310 
	#RH_RF22_HDCH_HEADER1
 0x02

	)

311 
	#RH_RF22_HDCH_HEADER2
 0x04

	)

312 
	#RH_RF22_HDCH_HEADER3
 0x08

	)

315 
	#RH_RF22_HDLEN
 0x70

	)

316 
	#RH_RF22_HDLEN_0
 0x00

	)

317 
	#RH_RF22_HDLEN_1
 0x10

	)

318 
	#RH_RF22_HDLEN_2
 0x20

	)

319 
	#RH_RF22_HDLEN_3
 0x30

	)

320 
	#RH_RF22_HDLEN_4
 0x40

	)

321 
	#RH_RF22_VARPKLEN
 0x00

	)

322 
	#RH_RF22_FIXPKLEN
 0x08

	)

323 
	#RH_RF22_SYNCLEN
 0x06

	)

324 
	#RH_RF22_SYNCLEN_1
 0x00

	)

325 
	#RH_RF22_SYNCLEN_2
 0x02

	)

326 
	#RH_RF22_SYNCLEN_3
 0x04

	)

327 
	#RH_RF22_SYNCLEN_4
 0x06

	)

328 
	#RH_RF22_PREALEN8
 0x01

	)

332 
	#RH_RF22_PAPEAKVAL
 0x80

	)

333 
	#RH_RF22_PAPEAKEN
 0x40

	)

334 
	#RH_RF22_PAPEAKLVL
 0x30

	)

335 
	#RH_RF22_PAPEAKLVL6_5
 0x00

	)

336 
	#RH_RF22_PAPEAKLVL7
 0x10

	)

337 
	#RH_RF22_PAPEAKLVL7_5
 0x20

	)

338 
	#RH_RF22_PAPEAKLVL8
 0x30

	)

339 
	#RH_RF22_LNA_SW
 0x08

	)

340 
	#RH_RF22_TXPOW
 0x07

	)

341 
	#RH_RF22_TXPOW_4X31
 0x08

343 
	#RH_RF22_TXPOW_1DBM
 0x00

	)

344 
	#RH_RF22_TXPOW_2DBM
 0x01

	)

345 
	#RH_RF22_TXPOW_5DBM
 0x02

	)

346 
	#RH_RF22_TXPOW_8DBM
 0x03

	)

347 
	#RH_RF22_TXPOW_11DBM
 0x04

	)

348 
	#RH_RF22_TXPOW_14DBM
 0x05

	)

349 
	#RH_RF22_TXPOW_17DBM
 0x06

	)

350 
	#RH_RF22_TXPOW_20DBM
 0x07

	)

352 
	#RH_RF22_RF23B_TXPOW_M8DBM
 0x00

353 
	#RH_RF22_RF23B_TXPOW_M5DBM
 0x01

354 
	#RH_RF22_RF23B_TXPOW_M2DBM
 0x02

355 
	#RH_RF22_RF23B_TXPOW_1DBM
 0x03

356 
	#RH_RF22_RF23B_TXPOW_4DBM
 0x04

357 
	#RH_RF22_RF23B_TXPOW_7DBM
 0x05

358 
	#RH_RF22_RF23B_TXPOW_10DBM
 0x06

359 
	#RH_RF22_RF23B_TXPOW_13DBM
 0x07

361 
	#RH_RF22_RF23BP_TXPOW_28DBM
 0x05

362 
	#RH_RF22_RF23BP_TXPOW_29DBM
 0x06

363 
	#RH_RF22_RF23BP_TXPOW_30DBM
 0x07

364 

	)

366 
	#RH_RF22_TRCLK
 0xc0

	)

367 
	#RH_RF22_TRCLK_NONE
 0x00

	)

368 
	#RH_RF22_TRCLK_GPIO
 0x40

	)

369 
	#RH_RF22_TRCLK_SDO
 0x80

	)

370 
	#RH_RF22_TRCLK_NIRQ
 0xc0

	)

371 
	#RH_RF22_DTMOD
 0x30

	)

372 
	#RH_RF22_DTMOD_DIRECT_GPIO
 0x00

	)

373 
	#RH_RF22_DTMOD_DIRECT_SDI
 0x10

	)

374 
	#RH_RF22_DTMOD_FIFO
 0x20

	)

375 
	#RH_RF22_DTMOD_PN9
 0x30

	)

376 
	#RH_RF22_ENINV
 0x08

	)

377 
	#RH_RF22_FD8
 0x04

	)

378 
	#RH_RF22_MODTYP
 0x30

	)

379 
	#RH_RF22_MODTYP_UNMODULATED
 0x00

	)

380 
	#RH_RF22_MODTYP_OOK
 0x01

	)

381 
	#RH_RF22_MODTYP_FSK
 0x02

	)

382 
	#RH_RF22_MODTYP_GFSK
 0x03

	)

386 
	#RH_RF22_SBSEL
 0x40

	)

387 
	#RH_RF22_HBSEL
 0x20

	)

388 
	#RH_RF22_FB
 0x1f

	)

391 
	#RH_RF22_HAVE_SERIAL


	)

848 ˛as†
	cRH_RF22
 : 
public
 
RHSPIDrivî


850 
public
:

863 
uöt8_t
 
ªg_1c
;

864 
uöt8_t
 
	mªg_1f
;

865 
uöt8_t
 
	mªg_20
;

866 
uöt8_t
 
	mªg_21
;

867 
uöt8_t
 
	mªg_22
;

868 
uöt8_t
 
	mªg_23
;

869 
uöt8_t
 
	mªg_24
;

870 
uöt8_t
 
	mªg_25
;

871 
uöt8_t
 
	mªg_2c
;

872 
uöt8_t
 
	mªg_2d
;

873 
uöt8_t
 
	mªg_2e
;

874 
uöt8_t
 
	mªg_58
;

875 
uöt8_t
 
	mªg_69
;

876 
uöt8_t
 
	mªg_6e
;

877 
uöt8_t
 
	mªg_6f
;

878 
uöt8_t
 
	mªg_70
;

879 
uöt8_t
 
	mªg_71
;

880 
uöt8_t
 
	mªg_72
;

881 } 
	tModemC⁄fig
;

891 
	gUnmoduœãdC¨rõr
 = 0,

892 
	gFSK_PN9_Rb2Fd5
,

894 
	gFSK_Rb2Fd5
,

895 
	gFSK_Rb2_4Fd36
,

896 
	gFSK_Rb4_8Fd45
,

897 
	gFSK_Rb9_6Fd45
,

898 
	gFSK_Rb19_2Fd9_6
,

899 
	gFSK_Rb38_4Fd19_6
,

900 
	gFSK_Rb57_6Fd28_8
,

901 
	gFSK_Rb125Fd125
,

902 
	gFSK_Rb_512Fd2_5
,

903 
	gFSK_Rb_512Fd4_5
,

905 
	gGFSK_Rb2Fd5
,

906 
	gGFSK_Rb2_4Fd36
,

907 
	gGFSK_Rb4_8Fd45
,

908 
	gGFSK_Rb9_6Fd45
,

909 
	gGFSK_Rb19_2Fd9_6
,

910 
	gGFSK_Rb38_4Fd19_6
,

911 
	gGFSK_Rb57_6Fd28_8
,

912 
	gGFSK_Rb125Fd125
,

914 
	gOOK_Rb1_2Bw75
,

915 
	gOOK_Rb2_4Bw335
,

916 
	gOOK_Rb4_8Bw335
,

917 
	gOOK_Rb9_6Bw335
,

918 
	gOOK_Rb19_2Bw335
,

919 
	gOOK_Rb38_4Bw335
,

920 
	gOOK_Rb40Bw335


922 } 
	tModemC⁄figChoi˚
;

930 
	gCRC_CCITT
 = 0,

931 
	gCRC_16_IBM
 = 1,

932 
	gCRC_IEC_16
 = 2,

933 
	gCRC_Bücheva
 = 3

934 } 
	tCRCPﬁynomül
;

953 
RH_RF22
(
uöt8_t
 
¶aveSñe˘Pö
 = 
SS
, uöt8_à
öãºu±Pö
 = 2, 
RHGíîicSPI
& 
•i
 = 
h¨dw¨e_•i
);

965 
boﬁ
 
öô
();

969 
ª£t
();

973 
uöt8_t
 
°©usRód
();

983 
uöt8_t
 
adcRód
(uöt8_à
adc£l
 = 
RH_RF22_ADCSEL_INTERNAL_TEMPERATURE_SENSOR
,

984 
uöt8_t
 
ad¸ef
 = 
RH_RF22_ADCREF_BANDGAP_VOLTAGE
,

985 
uöt8_t
 
adcgaö
 = 0,

986 
uöt8_t
 
adcoffs
 = 0);

993 
uöt8_t
 
ãm≥øtuªRód
(uöt8_à
t§™ge
 = 
RH_RF22_TSRANGE_M64_64C
, uöt8_à
tvoffs
 = 0);

998 
uöt16_t
 
wutRód
();

1005 
£tWutPîiod
(
uöt16_t
 
wtm
, 
uöt8_t
 
wå
 = 0, uöt8_à
wtd
 = 0);

1015 
boﬁ
 
£tFªquícy
(
˚¡ª
, 
afcPuŒInR™ge
 = 0.05);

1020 
boﬁ
 
£tFHSãpSize
(
uöt8_t
 
fhs
);

1025 
boﬁ
 
£tFHCh™√l
(
uöt8_t
 
fhch
);

1031 
uöt8_t
 
rssiRód
();

1035 
uöt8_t
 
ezmacSètusRód
();

1042 
£tOpMode
(
uöt8_t
 
mode
);

1046 
£tModeIdÀ
();

1050 
£tModeRx
();

1054 
£tModeTx
();

1068 
£tTxPowî
(
uöt8_t
 
powî
);

1074 
£tModemRegi°îs
(c⁄° 
ModemC⁄fig
* 
c⁄fig
);

1080 
boﬁ
 
£tModemC⁄fig
(
ModemC⁄figChoi˚
 
ödex
);

1086 
boﬁ
 
avaûabÀ
();

1097 
boﬁ
 
ªcv
(
uöt8_t
* 
buf
, uöt8_t* 
Àn
);

1105 
boﬁ
 
£nd
(c⁄° 
uöt8_t
* 
d©a
, uöt8_à
Àn
);

1113 
£tPªambÀLígth
(
uöt8_t
 
nibbÀs
);

1123 
£tSyncW‹ds
(c⁄° 
uöt8_t
* 
syncW‹ds
, uöt8_à
Àn
);

1128 
vútuÆ
 
£tPromiscuous
(
boﬁ
 
¥omiscuous
);

1134 
boﬁ
 
£tCRCPﬁynomül
(
CRCPﬁynomül
 
pﬁynomül
);

1145 
£tGpioRevî£d
(
boﬁ
 
gpioRevî£d
 = 
Ál£
);

1149 
uöt32_t
 
gëLa°PªambÀTime
();

1153 
uöt8_t
 
maxMesßgeLígth
();

1160 
vútuÆ
 
boﬁ
 
¶ìp
();

1162 
	g¥Ÿe˘ed
:

1166 
h™dÀI¡îru±
();

1170 
˛órRxBuf
();

1174 
˛órTxBuf
();

1180 
boﬁ
 
fûlTxBuf
(c⁄° 
uöt8_t
* 
d©a
, uöt8_à
Àn
);

1186 
boﬁ
 
≠≥ndTxBuf
(c⁄° 
uöt8_t
* 
d©a
, uöt8_à
Àn
);

1191 
£ndNextFøgmít
();

1195 
ªadNextFøgmít
();

1199 
ª£tFifos
();

1203 
ª£tRxFifo
();

1207 
ª£tTxFifo
();

1213 
vútuÆ
 
h™dÀExã∫ÆI¡îru±
();

1219 
vútuÆ
 
h™dÀWakeupTimîI¡îru±
();

1223 
°¨tTønsmô
();

1227 
ª°¨tTønsmô
();

1229 
£tThisAddªss
(
uöt8_t
 
thisAddªss
);

1238 
£tIdÀMode
(
uöt8_t
 
idÀMode
);

1240 
	g¥Ÿe˘ed
:

1242 
i§0
();

1245 
i§1
();

1248 
i§2
();

1251 
RH_RF22
* 
	g_devi˚F‹I¡îru±
[];

1254 
uöt8_t
 
	g_öãºu±Cou¡
;

1257 
uöt8_t
 
	g_öãºu±Pö
;

1261 
uöt8_t
 
	g_myI¡îru±Index
;

1264 
uöt8_t
 
	g_idÀMode
;

1267 
uöt8_t
 
	g_devi˚Ty≥
;

1270 
CRCPﬁynomül
 
	g_pﬁynomül
;

1274 vﬁ©ûê
uöt8_t
 
	g_bufLí
;

1277 
uöt8_t
 
	g_buf
[
RH_RF22_MAX_MESSAGE_LEN
];

1280 vﬁ©ûê
boﬁ
 
	g_rxBufVÆid
;

1283 vﬁ©ûê
uöt8_t
 
	g_txBufSítIndex
;

1286 
uöt32_t
 
	g_œ°PªambÀTime
;

	@RH_RF24.cpp

6 
	~<RH_RF24.h
>

13 
	~"RF24c⁄figs/ødio_c⁄fig_Si4464_30_434_2GFSK_5_10.h
"

22 
RH_RF24
* 
	gRH_RF24
::
_devi˚F‹I¡îru±
[
RH_RF24_NUM_INTERRUPTS
] = {0, 0, 0};

23 
uöt8_t
 
	gRH_RF24
::
_öãºu±Cou¡
 = 0;

27 
PROGMEM
 c⁄° 
uöt8_t
 
	gRF24_CONFIGURATION_DATA
[] = 
RADIO_CONFIGURATION_DATA_ARRAY
;

29 
	gRH_RF24
::
	$RH_RF24
(
uöt8_t
 
¶aveSñe˘Pö
, uöt8_à
öãºu±Pö
, uöt8_à
sdnPö
, 
RHGíîicSPI
& 
•i
)

31 
	$RHSPIDrivî
(
¶aveSñe˘Pö
, 
•i
)

33 
_öãºu±Pö
 = 
öãºu±Pö
;

34 
_sdnPö
 = 
sdnPö
;

35 
_idÀMode
 = 
RH_RF24_DEVICE_STATE_READY
;

36 
_myI¡îru±Index
 = 0xff;

37 
	}
}

39 
	gRH_RF24
::
	$£tIdÀMode
(
uöt8_t
 
idÀMode
)

41 
_idÀMode
 = 
idÀMode
;

42 
	}
}

44 
boﬁ
 
	gRH_RF24
::
	$öô
()

46 i‡(!
RHSPIDrivî
::
	`öô
())

47  
Ál£
;

50 
öãºu±Numbî
 = 
	`digôÆPöToI¡îru±
(
_öãºu±Pö
);

51 i‡(
öãºu±Numbî
 =
NOT_AN_INTERRUPT
)

52  
Ál£
;

53 #ifde‡
RH_ATTACHINTERRUPT_TAKES_PIN_NUMBER


54 
öãºu±Numbî
 = 
_öãºu±Pö
;

58 
	`powî_⁄_ª£t
();

59 
	`cmd_˛ór_Æl_öãºu±s
();

63 
uöt8_t
 
buf
[8];

64 i‡(!
	`comm™d
(
RH_RF24_CMD_PART_INFO
, 0, 0, 
buf
, (buf)))

65  
Ál£
;

66 
_devi˚Ty≥
 = (
buf
[1] << 8) | buf[2];

68 i‡(
_devi˚Ty≥
 != 0x4460 &&

69 
_devi˚Ty≥
 != 0x4461 &&

70 
_devi˚Ty≥
 != 0x4463 &&

71 
_devi˚Ty≥
 != 0x4464)

72  
Ál£
;

77 
	`c⁄figuª
(
RF24_CONFIGURATION_DATA
);

82 
	`pöMode
(
_öãºu±Pö
, 
INPUT
);

90 i‡(
_myI¡îru±Index
 == 0xff)

93 i‡(
_öãºu±Cou¡
 <
RH_RF24_NUM_INTERRUPTS
)

94 
_myI¡îru±Index
 = 
_öãºu±Cou¡
++;

96  
Ál£
;

98 
_devi˚F‹I¡îru±
[
_myI¡îru±Index
] = 
this
;

99 i‡(
_myI¡îru±Index
 == 0)

100 
	`©èchI¡îru±
(
öãºu±Numbî
, 
i§0
, 
FALLING
);

101 i‡(
_myI¡îru±Index
 == 1)

102 
	`©èchI¡îru±
(
öãºu±Numbî
, 
i§1
, 
FALLING
);

103 i‡(
_myI¡îru±Index
 == 2)

104 
	`©èchI¡îru±
(
öãºu±Numbî
, 
i§2
, 
FALLING
);

106  
Ál£
;

109 
uöt8_t
 
öt_˘l
[] = {
RH_RF24_MODEM_INT_STATUS_EN
 | 
RH_RF24_PH_INT_STATUS_EN
, 0xff, 0xff, 0x00 };

110 
	`£t_¥›îtõs
(
RH_RF24_PROPERTY_INT_CTL_ENABLE
, 
öt_˘l
, (int_ctl));

125 
uöt8_t
 
pkt_c⁄fig1
[] = { 0x00 };

126 
	`£t_¥›îtõs
(
RH_RF24_PROPERTY_PKT_CONFIG1
, 
pkt_c⁄fig1
, (pkt_config1));

128 
uöt8_t
 
pkt_Àn
[] = { 0x02, 0x01, 0x00 };

129 
	`£t_¥›îtõs
(
RH_RF24_PROPERTY_PKT_LEN
, 
pkt_Àn
, (pkt_len));

131 
uöt8_t
 
pkt_fõld1
[] = { 0x00, 0x01, 0x00, 
RH_RF24_FIELD_CONFIG_CRC_START
 | 
RH_RF24_FIELD_CONFIG_SEND_CRC
 | 
RH_RF24_FIELD_CONFIG_CHECK_CRC
 | 
RH_RF24_FIELD_CONFIG_CRC_ENABLE
 };

132 
	`£t_¥›îtõs
(
RH_RF24_PROPERTY_PKT_FIELD_1_LENGTH_12_8
, 
pkt_fõld1
, (pkt_field1));

134 
uöt8_t
 
pkt_fõld2
[] = { 0x00, (
_buf
), 0x00, 
RH_RF24_FIELD_CONFIG_CRC_START
 | 
RH_RF24_FIELD_CONFIG_SEND_CRC
 | 
RH_RF24_FIELD_CONFIG_CHECK_CRC
 | 
RH_RF24_FIELD_CONFIG_CRC_ENABLE
 };

135 
	`£t_¥›îtõs
(
RH_RF24_PROPERTY_PKT_FIELD_2_LENGTH_12_8
, 
pkt_fõld2
, (pkt_field2));

138 
uöt8_t
 
pkt_fõldn
[] = { 0x00, 0x00, 0x00, 0x00 };

139 
	`£t_¥›îtõs
(
RH_RF24_PROPERTY_PKT_FIELD_3_LENGTH_12_8
, 
pkt_fõldn
, (pkt_fieldn));

140 
	`£t_¥›îtõs
(
RH_RF24_PROPERTY_PKT_FIELD_4_LENGTH_12_8
, 
pkt_fõldn
, (pkt_fieldn));

141 
	`£t_¥›îtõs
(
RH_RF24_PROPERTY_PKT_FIELD_5_LENGTH_12_8
, 
pkt_fõldn
, (pkt_fieldn));

145 
	`£tCRCPﬁynomül
(
CRC_16_IBM
);

146 
uöt8_t
 
syncw‹ds
[] = { 0x2d, 0xd4 };

147 
	`£tSyncW‹ds
(
syncw‹ds
, (syncwords));

150 
	`£tPªambÀLígth
(4);

153 
	`£tTxPowî
(0x10);

155  
åue
;

156 
	}
}

159 
	gRH_RF24
::
	$h™dÀI¡îru±
()

161 
uöt8_t
 
°©us
[8];

162 
	`comm™d
(
RH_RF24_CMD_GET_INT_STATUS
, 
NULL
, 0, 
°©us
, (status));

166 i‡(
°©us
[0] & 
RH_RF24_INT_STATUS_MODEM_INT_STATUS
)

169 i‡(
°©us
[4] & 
RH_RF24_INT_STATUS_INVALID_SYNC
)

173 
_mode
 = 
RHModeIdÀ
;

174 
	`˛órRxFifo
();

175 
	`˛órBuf„r
();

178 i‡(
°©us
[0] & 
RH_RF24_INT_STATUS_PH_INT_STATUS
)

180 i‡(
°©us
[2] & 
RH_RF24_INT_STATUS_CRC_ERROR
)

184 
_mode
 = 
RHModeIdÀ
;

185 
_rxBad
++;

187 
	`˛órRxFifo
();

188 
	`˛órBuf„r
();

190 i‡(
°©us
[2] & 
RH_RF24_INT_STATUS_PACKET_SENT
)

192 
_txGood
++;

196 
_mode
 = 
RHModeIdÀ
;

197 
	`˛órBuf„r
();

199 i‡(
°©us
[2] & 
RH_RF24_INT_STATUS_PACKET_RX
)

203 
uöt8_t
 
modem_°©us
[6];

204 
	`comm™d
(
RH_RF24_CMD_GET_MODEM_STATUS
, 
NULL
, 0, 
modem_°©us
, (modem_status));

205 
_œ°Rssi
 = 
modem_°©us
[3];

206 
_œ°PªambÀTime
 = 
	`mûlis
();

209 
	`ªadNextFøgmít
();

211 
	`vÆid©eRxBuf
();

213 
_mode
 = 
RHModeIdÀ
;

215 i‡(
°©us
[2] & 
RH_RF24_INT_STATUS_TX_FIFO_ALMOST_EMPTY
)

218 
	`£ndNextFøgmít
();

220 i‡(
°©us
[2] & 
RH_RF24_INT_STATUS_RX_FIFO_ALMOST_FULL
)

223 
	`ªadNextFøgmít
();

226 
	}
}

229 
	gRH_RF24
::
	$vÆid©eRxBuf
()

232 i‡(
_bufLí
 >
RH_RF24_HEADER_LEN
)

234 
_rxHódîTo
 = 
_buf
[0];

235 
_rxHódîFrom
 = 
_buf
[1];

236 
_rxHódîId
 = 
_buf
[2];

237 
_rxHódîFœgs
 = 
_buf
[3];

238 i‡(
_¥omiscuous
 ||

239 
_rxHódîTo
 =
_thisAddªss
 ||

240 
_rxHódîTo
 =
RH_BROADCAST_ADDRESS
)

243 
_rxGood
++;

244 
_rxBufVÆid
 = 
åue
;

247 
	}
}

249 
boﬁ
 
	gRH_RF24
::
	$˛órRxFifo
()

251 
uöt8_t
 
fifo_˛ór
[] = { 0x02 };

252  
	`comm™d
(
RH_RF24_CMD_FIFO_INFO
, 
fifo_˛ór
, (fifo_clear));

253 
	}
}

255 
	gRH_RF24
::
	$˛órBuf„r
()

257 
_bufLí
 = 0;

258 
_txBufSítIndex
 = 0;

259 
_rxBufVÆid
 = 
Ál£
;

260 
	}
}

265 
	gRH_RF24
::
	$i§0
()

267 i‡(
_devi˚F‹I¡îru±
[0])

268 
_devi˚F‹I¡îru±
[0]->
	`h™dÀI¡îru±
();

269 
	}
}

270 
	gRH_RF24
::
	$i§1
()

272 i‡(
_devi˚F‹I¡îru±
[1])

273 
_devi˚F‹I¡îru±
[1]->
	`h™dÀI¡îru±
();

274 
	}
}

275 
	gRH_RF24
::
	$i§2
()

277 i‡(
_devi˚F‹I¡îru±
[2])

278 
_devi˚F‹I¡îru±
[2]->
	`h™dÀI¡îru±
();

279 
	}
}

281 
boﬁ
 
	gRH_RF24
::
	$avaûabÀ
()

283 i‡(
_mode
 =
RHModeTx
)

284  
Ál£
;

285 i‡(!
_rxBufVÆid
)

286 
	`£tModeRx
();

287  
_rxBufVÆid
;

288 
	}
}

290 
boﬁ
 
	gRH_RF24
::
	$ªcv
(
uöt8_t
* 
buf
, uöt8_t* 
Àn
)

292 i‡(!
	`avaûabÀ
())

293  
Ál£
;

295 i‡(
buf
 && 
Àn
 && (
_bufLí
 >
RH_RF24_HEADER_LEN
))

297 
ATOMIC_BLOCK_START
;

298 i‡(*
Àn
 > 
_bufLí
 - 
RH_RF24_HEADER_LEN
)

299 *
Àn
 = 
_bufLí
 - 
RH_RF24_HEADER_LEN
;

300 
	`mem˝y
(
buf
, 
_buf
 + 
RH_RF24_HEADER_LEN
, *
Àn
);

301 
ATOMIC_BLOCK_END
;

303 
	`˛órBuf„r
();

304  
åue
;

305 
	}
}

307 
boﬁ
 
	gRH_RF24
::
	$£nd
(c⁄° 
uöt8_t
* 
d©a
, uöt8_à
Àn
)

309 i‡(
Àn
 > 
RH_RF24_MAX_MESSAGE_LEN
)

310  
Ál£
;

312 
	`waôPackëSít
();

313 
	`£tModeIdÀ
();

315 i‡(!
	`waôCAD
())

316  
Ál£
;

321 
_buf
[0] = 
Àn
 + 
RH_RF24_HEADER_LEN
;

324 
_buf
[1] = 
_txHódîTo
;

325 
_buf
[2] = 
_txHódîFrom
;

326 
_buf
[3] = 
_txHódîId
;

327 
_buf
[4] = 
_txHódîFœgs
;

329 
	`mem˝y
(
_buf
 + 1 + 
RH_RF24_HEADER_LEN
, 
d©a
, 
Àn
);

330 
_bufLí
 = 
Àn
 + 1 + 
RH_RF24_HEADER_LEN
;

331 
_txBufSítIndex
 = 0;

334 
uöt8_t
 
l
[] = { (uöt8_t)(
Àn
 + 
RH_RF24_HEADER_LEN
)};

335 
	`£t_¥›îtõs
(
RH_RF24_PROPERTY_PKT_FIELD_2_LENGTH_7_0
, 
l
, (l));

337 
	`£ndNextFøgmít
();

338 
	`£tModeTx
();

339  
åue
;

340 
	}
}

343 
boﬁ
 
	gRH_RF24
::
	$wrôeTxFifo
(
uöt8_t
 *
d©a
, uöt8_à
Àn
)

345 
ATOMIC_BLOCK_START
;

347 
	`digôÆWrôe
(
_¶aveSñe˘Pö
, 
LOW
);

348 
_•i
.
	`å™s„r
(
RH_RF24_CMD_TX_FIFO_WRITE
);

350 
Àn
--)

351 
_•i
.
	`å™s„r
(*
d©a
++);

352 
	`digôÆWrôe
(
_¶aveSñe˘Pö
, 
HIGH
);

353 
ATOMIC_BLOCK_END
;

354  
åue
;

355 
	}
}

357 
	gRH_RF24
::
	$£ndNextFøgmít
()

359 i‡(
_txBufSítIndex
 < 
_bufLí
)

362 
uöt8_t
 
Àn
 = 
_bufLí
 - 
_txBufSítIndex
;

364 
uöt8_t
 
fifo_öfo
[2];

365 
	`comm™d
(
RH_RF24_CMD_FIFO_INFO
, 
NULL
, 0, 
fifo_öfo
, (fifo_info));

367 i‡(
Àn
 > 
fifo_öfo
[1])

368 
Àn
 = 
fifo_öfo
[1];

370 
	`wrôeTxFifo
(
_buf
 + 
_txBufSítIndex
, 
Àn
);

371 
_txBufSítIndex
 +
Àn
;

373 
	}
}

375 
	gRH_RF24
::
	$ªadNextFøgmít
()

378 
uöt8_t
 
fifo_öfo
[1];

379 
	`comm™d
(
RH_RF24_CMD_FIFO_INFO
, 
NULL
, 0, 
fifo_öfo
, (fifo_info));

380 
uöt8_t
 
fifo_Àn
 = 
fifo_öfo
[0];

383 i‡((
_bufLí
 + 
fifo_Àn
Ë> (
_buf
))

386 
_rxBad
++;

387 
	`£tModeIdÀ
();

388 
	`˛órRxFifo
();

389 
	`˛órBuf„r
();

395 
	`digôÆWrôe
(
_¶aveSñe˘Pö
, 
LOW
);

396 
_•i
.
	`å™s„r
(
RH_RF24_CMD_RX_FIFO_READ
);

397 
uöt8_t
* 
p
 = 
_buf
 + 
_bufLí
;

398 
uöt8_t
 
l
 = 
fifo_Àn
;

399 
l
--)

400 *
p
++ = 
_•i
.
	`å™s„r
(0);

401 
	`digôÆWrôe
(
_¶aveSñe˘Pö
, 
HIGH
);

402 
_bufLí
 +
fifo_Àn
;

403 
	}
}

405 
uöt8_t
 
	gRH_RF24
::
	$maxMesßgeLígth
()

407  
RH_RF24_MAX_MESSAGE_LEN
;

408 
	}
}

411 
	gRH_RF24
::
	$£tModemRegi°îs
(c⁄° 
ModemC⁄fig
* 
c⁄fig
)

413 
Sîül
.
	`¥öén
("Programming Error: setModemRegisters is obsolete. Generate customÑadio config file with WDS instead");

414 
	}
}

418 
boﬁ
 
	gRH_RF24
::
	$£tModemC⁄fig
(
ModemC⁄figChoi˚
 
ödex
)

420 
Sîül
.
	`¥öén
("Programming Error: setModemRegisters is obsolete. Generate customÑadio config file with WDS instead");

421  
Ál£
;

422 
	}
}

424 
	gRH_RF24
::
	$£tPªambÀLígth
(
uöt16_t
 
byãs
)

426 
uöt8_t
 
c⁄fig
[] = { (uöt8_t)
byãs
, 0x14, 0x00, 0x00,

427 
RH_RF24_PREAMBLE_FIRST_1
 | 
RH_RF24_PREAMBLE_LENGTH_BYTES
 | 
RH_RF24_PREAMBLE_STANDARD_1010
};

428 
	`£t_¥›îtõs
(
RH_RF24_PROPERTY_PREAMBLE_TX_LENGTH
, 
c⁄fig
, (config));

429 
	}
}

431 
boﬁ
 
	gRH_RF24
::
	$£tCRCPﬁynomül
(
CRCPﬁynomül
 
pﬁynomül
)

433 i‡(
pﬁynomül
 >
CRC_NONE
 &&

434 
pﬁynomül
 <
CRC_Ca°agnﬁi
)

437 
uöt8_t
 
c⁄fig
[] = { (uöt8_t)((
pﬁynomül
 & 
RH_RF24_CRC_MASK
Ë| 
RH_RF24_CRC_SEED_ALL_1S
) };

438  
	`£t_¥›îtõs
(
RH_RF24_PROPERTY_PKT_CRC_CONFIG
, 
c⁄fig
, (config));

441  
Ál£
;

442 
	}
}

444 
	gRH_RF24
::
	$£tSyncW‹ds
(c⁄° 
uöt8_t
* 
syncW‹ds
, uöt8_à
Àn
)

446 i‡(
Àn
 > 4 ||Üen < 1)

448 
uöt8_t
 
c⁄fig
[] = { (uöt8_t)(
Àn
-1), 0, 0, 0, 0};

449 
	`mem˝y
(
c⁄fig
+1, 
syncW‹ds
, 
Àn
);

450 
	`£t_¥›îtõs
(
RH_RF24_PROPERTY_SYNC_CONFIG
, 
c⁄fig
, (config));

451 
	}
}

453 
boﬁ
 
	gRH_RF24
::
	$£tFªquícy
(
˚¡ª
, 
afcPuŒInR™ge
)

457 
uöt8_t
 
outdiv
;

458 
uöt8_t
 
b™d
;

459 i‡(
_devi˚Ty≥
 == 0x4460 ||

460 
_devi˚Ty≥
 == 0x4461 ||

461 
_devi˚Ty≥
 == 0x4463)

464 i‡(
˚¡ª
 <= 1050.0 && centre >= 850.0)

465 
outdiv
 = 4, 
b™d
 = 0;

466 i‡(
˚¡ª
 <= 525.0 && centre >= 425.0)

467 
outdiv
 = 8, 
b™d
 = 2;

468 i‡(
˚¡ª
 <= 350.0 && centre >= 284.0)

469 
outdiv
 = 12, 
b™d
 = 3;

470 i‡(
˚¡ª
 <= 175.0 && centre >= 142.0)

471 
outdiv
 = 24, 
b™d
 = 5;

473  
Ál£
;

479 i‡(
˚¡ª
 <= 960.0 && centre >= 675.0)

480 
outdiv
 = 4, 
b™d
 = 1;

481 i‡(
˚¡ª
 < 675.0 && centre >= 450.0)

482 
outdiv
 = 6, 
b™d
 = 2;

483 i‡(
˚¡ª
 < 450.0 && centre >= 338.0)

484 
outdiv
 = 8, 
b™d
 = 3;

485 i‡(
˚¡ª
 < 338.0 && centre >= 225.0)

486 
outdiv
 = 12, 
b™d
 = 4;

487 i‡(
˚¡ª
 < 225.0 && centre >= 169.0)

488 
outdiv
 = 16, 
b™d
 = 4;

489 i‡(
˚¡ª
 < 169.0 && centre >= 119.0)

490 
outdiv
 = 24, 
b™d
 = 5;

492  
Ál£
;

496 
uöt8_t
 
modem_˛kgí
[] = { (uöt8_t)(
b™d
 + 8) };

497 i‡(!
	`£t_¥›îtõs
(
RH_RF24_PROPERTY_MODEM_CLKGEN_BAND
, 
modem_˛kgí
, (modem_clkgen)))

498  
Ál£
;

500 
˚¡ª
 *= 1000000.0;

504 
uöt32_t
 
xèl_‰equícy
 = 
RADIO_CONFIGURATION_DATA_RADIO_XO_FREQ
;

505 
f_pfd
 = 2 * 
xèl_‰equícy
 / 
outdiv
;

506 
n
 = (()(
˚¡ª
 / 
f_pfd
)) - 1;

507 
øtio
 = 
˚¡ª
 / ()
f_pfd
;

508 
ª°
 = 
øtio
 - ()
n
;

509 
m
 = ()(
ª°
 * 524288UL);

510 
m2
 = 
m
 / 0x10000;

511 
m1
 = (
m
 - 
m2
 * 0x10000) / 0x100;

512 
m0
 = (
m
 - 
m2
 * 0x10000 - 
m1
 * 0x100);

515 
uöt8_t
 
‰eq_c⁄åﬁ
[] = { (uöt8_t)
n
, (uöt8_t)
m2
, (uöt8_t)
m1
, (uöt8_t)
m0
 };

516  
	`£t_¥›îtõs
(
RH_RF24_PROPERTY_FREQ_CONTROL_INTE
, 
‰eq_c⁄åﬁ
, (freq_control));

517 
	}
}

519 
	gRH_RF24
::
	$£tModeIdÀ
()

521 i‡(
_mode
 !
RHModeIdÀ
)

524 
uöt8_t
 
c⁄fig
[] = { 
RH_RF24_GPIO_HIGH
, RH_RF24_GPIO_HIGH };

525 
	`comm™d
(
RH_RF24_CMD_GPIO_PIN_CFG
, 
c⁄fig
, (config));

527 
uöt8_t
 
°©e
[] = { 
_idÀMode
 };

528 
	`comm™d
(
RH_RF24_CMD_CHANGE_STATE
, 
°©e
, (state));

529 
_mode
 = 
RHModeIdÀ
;

531 
	}
}

533 
boﬁ
 
	gRH_RF24
::
	$¶ìp
()

535 i‡(
_mode
 !
RHModeSÀï
)

539 
uöt8_t
 
°©e
[] = { 
RH_RF24_DEVICE_STATE_SLEEP
 };

540 
	`comm™d
(
RH_RF24_CMD_CHANGE_STATE
, 
°©e
, (state));

542 
_mode
 = 
RHModeSÀï
;

544  
åue
;

545 
	}
}

547 
	gRH_RF24
::
	$£tModeRx
()

549 i‡(
_mode
 !
RHModeRx
)

555 
uöt8_t
 
l
[] = { (
_buf
) };

556 
	`£t_¥›îtõs
(
RH_RF24_PROPERTY_PKT_FIELD_2_LENGTH_7_0
, 
l
, (l));

559 
uöt8_t
 
gpio_c⁄fig
[] = { 
RH_RF24_GPIO_HIGH
, 
RH_RF24_GPIO_LOW
 };

560 
	`comm™d
(
RH_RF24_CMD_GPIO_PIN_CFG
, 
gpio_c⁄fig
, (gpio_config));

562 
uöt8_t
 
rx_c⁄fig
[] = { 0x00, 
RH_RF24_CONDITION_RX_START_IMMEDIATE
, 0x00, 0x00, 
_idÀMode
, _idleMode, _idleMode};

563 
	`comm™d
(
RH_RF24_CMD_START_RX
, 
rx_c⁄fig
, (rx_config));

564 
_mode
 = 
RHModeRx
;

566 
	}
}

568 
	gRH_RF24
::
	$£tModeTx
()

570 i‡(
_mode
 !
RHModeTx
)

573 
uöt8_t
 
c⁄fig
[] = { 
RH_RF24_GPIO_LOW
, 
RH_RF24_GPIO_HIGH
 };

574 
	`comm™d
(
RH_RF24_CMD_GPIO_PIN_CFG
, 
c⁄fig
, (config));

576 
uöt8_t
 
tx_∑øms
[] = { 0x00,

577 (
uöt8_t
)((
_idÀMode
 << 4Ë| 
RH_RF24_CONDITION_RETRANSMIT_NO
 | 
RH_RF24_CONDITION_START_IMMEDIATE
)};

578 
	`comm™d
(
RH_RF24_CMD_START_TX
, 
tx_∑øms
, (tx_params));

579 
_mode
 = 
RHModeTx
;

581 
	}
}

583 
	gRH_RF24
::
	$£tTxPowî
(
uöt8_t
 
powî
)

585 
uöt8_t
 
∑_büs_˛kduty
 = 0;

588 i‡(
_devi˚Ty≥
 == 0x4460)

591 
∑_büs_˛kduty
 = 0xc0;

592 i‡(
powî
 > 0x4f)

593 
powî
 = 0x4f;

595 i‡(
_devi˚Ty≥
 == 0x4461)

598 
∑_büs_˛kduty
 = 0xc0;

599 i‡(
powî
 > 0x7f)

600 
powî
 = 0x7f;

602 i‡(
_devi˚Ty≥
 == 0x4463 || _deviceType == 0x4464 )

605 
∑_büs_˛kduty
 = 0x00;

606 i‡(
powî
 > 0x7f)

607 
powî
 = 0x7f;

609 
uöt8_t
 
powî_¥›îtõs
[] = {0x08, 0x00, 0x00 };

610 
powî_¥›îtõs
[1] = 
powî
;

611 
powî_¥›îtõs
[2] = 
∑_büs_˛kduty
;

612 
	`£t_¥›îtõs
(
RH_RF24_PROPERTY_PA_MODE
, 
powî_¥›îtõs
, (power_properties));

613 
	}
}

616 
boﬁ
 
	gRH_RF24
::
	$comm™d
(
uöt8_t
 
cmd
, c⁄° uöt8_t* 
wrôe_buf
, uöt8_à
wrôe_Àn
, uöt8_t* 
ªad_buf
, uöt8_à
ªad_Àn
)

618 
boﬁ
 
d⁄e
 = 
Ál£
;

620 
ATOMIC_BLOCK_START
;

622 
	`digôÆWrôe
(
_¶aveSñe˘Pö
, 
LOW
);

623 
_•i
.
	`å™s„r
(
cmd
);

626 i‡(
wrôe_buf
 && 
wrôe_Àn
)

628 
wrôe_Àn
--)

629 
_•i
.
	`å™s„r
(*
wrôe_buf
++);

633 
	`digôÆWrôe
(
_¶aveSñe˘Pö
, 
LOW
);

635 
	`digôÆWrôe
(
_¶aveSñe˘Pö
, 
HIGH
);

637 
uöt16_t
 
cou¡
;

638 
cou¡
 = 0; !
d⁄e
 && cou¡ < 
RH_RF24_CTS_RETRIES
; count++)

641 
	`digôÆWrôe
(
_¶aveSñe˘Pö
, 
LOW
);

643 
_•i
.
	`å™s„r
(
RH_RF24_CMD_READ_BUF
);

644 i‡(
_•i
.
	`å™s„r
(0Ë=
RH_RF24_REPLY_CTS
)

647 i‡(
ªad_buf
 && 
ªad_Àn
)

649 
ªad_Àn
--)

650 *
ªad_buf
++ = 
_•i
.
	`å™s„r
(0);

652 
d⁄e
 = 
åue
;

656 
	`digôÆWrôe
(
_¶aveSñe˘Pö
, 
LOW
);

658 
	`digôÆWrôe
(
_¶aveSñe˘Pö
, 
HIGH
);

660 
ATOMIC_BLOCK_END
;

661  
d⁄e
;

662 
	}
}

664 
boﬁ
 
	gRH_RF24
::
	$c⁄figuª
(c⁄° 
uöt8_t
* 
comm™ds
)

669 
uöt8_t
 
√xt_cmd_Àn
;

671 
	`mem˝y_P
(&
√xt_cmd_Àn
, 
comm™ds
, 1),Çext_cmd_len > 0)

673 
uöt8_t
 
buf
[20];

674 
	`mem˝y_P
(
buf
, 
comm™ds
+1, 
√xt_cmd_Àn
);

675 
	`comm™d
(
buf
[0], buf+1, 
√xt_cmd_Àn
 - 1);

676 
comm™ds
 +(
√xt_cmd_Àn
 + 1);

678  
åue
;

679 
	}
}

681 
	gRH_RF24
::
	$powî_⁄_ª£t
()

686 
	`digôÆWrôe
(
_sdnPö
, 
HIGH
);

687 
	`pöMode
(
_sdnPö
, 
OUTPUT
);

688 
	`dñay
(10);

689 
	`digôÆWrôe
(
_sdnPö
, 
LOW
);

690 
	`dñay
(10);

691 
	}
}

693 
boﬁ
 
	gRH_RF24
::
	$cmd_˛ór_Æl_öãºu±s
()

695 
uöt8_t
 
wrôe_buf
[] = { 0x00, 0x00, 0x00 };

696  
	`comm™d
(
RH_RF24_CMD_GET_INT_STATUS
, 
wrôe_buf
, (write_buf));

697 
	}
}

699 
boﬁ
 
	gRH_RF24
::
	$£t_¥›îtõs
(
uöt16_t
 
fú°Pr›îty
, c⁄° 
uöt8_t
* 
vÆues
, uöt8_à
cou¡
)

701 
uöt8_t
 
buf
[15];

703 
buf
[0] = 
fú°Pr›îty
 >> 8;

704 
buf
[1] = 
cou¡
;

705 
buf
[2] = 
fú°Pr›îty
 & 0xff;

706 
uöt8_t
 
i
;

707 
i
 = 0; i < 12 && i < 
cou¡
; i++)

708 
buf
[3 + 
i
] = 
vÆues
[i];

709  
	`comm™d
(
RH_RF24_CMD_SET_PROPERTY
, 
buf
, 
cou¡
 + 3);

710 
	}
}

712 
boﬁ
 
	gRH_RF24
::
	$gë_¥›îtõs
(
uöt16_t
 
fú°Pr›îty
, 
uöt8_t
* 
vÆues
, uöt8_à
cou¡
)

714 i‡(
cou¡
 > 16)

715 
cou¡
 = 16;

716 
uöt8_t
 
buf
[3];

717 
buf
[0] = 
fú°Pr›îty
 >> 8;

718 
buf
[1] = 
cou¡
;

719 
buf
[2] = 
fú°Pr›îty
 & 0xff;

720  
	`comm™d
(
RH_RF24_CMD_GET_PROPERTY
, 
buf
, (buf), 
vÆues
, 
cou¡
);

721 
	}
}

723 
	gRH_RF24
::
	$gë_ãm≥øtuª
()

725 
uöt8_t
 
wrôe_buf
[] = { 0x10 };

726 
uöt8_t
 
ªad_buf
[8];

728 
	`comm™d
(
RH_RF24_CMD_GET_ADC_READING
, 
wrôe_buf
, (wrôe_buf), 
ªad_buf
, (read_buf));

729 
uöt16_t
 
ãmp_adc
 = (
ªad_buf
[4] << 8) |Ñead_buf[5];

730  ((800 + 
ªad_buf
[6]Ë/ 4096.0Ë* 
ãmp_adc
 - ((read_buf[7] / 2) + 256);

731 
	}
}

733 
	gRH_RF24
::
	$gë_b©ãry_vﬁège
()

735 
uöt8_t
 
wrôe_buf
[] = { 0x08 };

736 
uöt8_t
 
ªad_buf
[8];

738 
	`comm™d
(
RH_RF24_CMD_GET_ADC_READING
, 
wrôe_buf
, (wrôe_buf), 
ªad_buf
, (read_buf));

739 
uöt16_t
 
b©ãry_adc
 = (
ªad_buf
[2] << 8) |Ñead_buf[3];

740  3.0 * 
b©ãry_adc
 / 1280;

741 
	}
}

743 
	gRH_RF24
::
	$gë_gpio_vﬁège
(
uöt8_t
 
gpio
)

745 
uöt8_t
 
wrôe_buf
[] = { 0x04 };

746 
uöt8_t
 
ªad_buf
[8];

747 
wrôe_buf
[0] |(
gpio
 & 0x3);

749 
	`comm™d
(
RH_RF24_CMD_GET_ADC_READING
, 
wrôe_buf
, (wrôe_buf), 
ªad_buf
, (read_buf));

750 
uöt16_t
 
gpio_adc
 = (
ªad_buf
[0] << 8) |Ñead_buf[1];

751  3.0 * 
gpio_adc
 / 1280;

752 
	}
}

754 
uöt8_t
 
	gRH_RF24
::
	$‰r_ªad
(
uöt8_t
 
ªg
)

756 
uöt8_t
 
ªt
;

759 
ATOMIC_BLOCK_START
;

761 
	`digôÆWrôe
(
_¶aveSñe˘Pö
, 
LOW
);

762 
_•i
.
	`å™s„r
(
RH_RF24_PROPERTY_FRR_CTL_A_MODE
 + 
ªg
);

764 
ªt
 = 
_•i
.
	`å™s„r
(0);

765 
	`digôÆWrôe
(
_¶aveSñe˘Pö
, 
HIGH
);

766 
ATOMIC_BLOCK_END
;

767  
ªt
;

768 
	}
}

771 
PROGMEM
 c⁄° 
	gRH_RF24
::
Comm™dInfo
 
comm™ds
[] =

773 { 
RH_RF24_CMD_PART_INFO
, 8 },

774 { 
RH_RF24_CMD_FUNC_INFO
, 6 },

775 { 
RH_RF24_CMD_GPIO_PIN_CFG
, 7 },

776 { 
RH_RF24_CMD_FIFO_INFO
, 2 },

777 { 
RH_RF24_CMD_PACKET_INFO
, 2 },

778 { 
RH_RF24_CMD_GET_INT_STATUS
, 8 },

779 { 
RH_RF24_CMD_GET_PH_STATUS
, 2 },

780 { 
RH_RF24_CMD_GET_MODEM_STATUS
, 8 },

781 { 
RH_RF24_CMD_GET_CHIP_STATUS
, 3 },

782 { 
RH_RF24_CMD_REQUEST_DEVICE_STATE
, 2 },

784 
	#NUM_COMMAND_INFO
 ((
comm™ds
)/(
Comm™dInfo
))

	)

787 
PROGMEM
 c⁄° 
uöt16_t
 
	g¥›îtõs
[] =

789 
RH_RF24_PROPERTY_GLOBAL_XO_TUNE
,

790 
RH_RF24_PROPERTY_GLOBAL_CLK_CFG
,

791 
RH_RF24_PROPERTY_GLOBAL_LOW_BATT_THRESH
,

792 
RH_RF24_PROPERTY_GLOBAL_CONFIG
,

793 
RH_RF24_PROPERTY_GLOBAL_WUT_CONFIG
,

794 
RH_RF24_PROPERTY_GLOBAL_WUT_M_15_8
,

795 
RH_RF24_PROPERTY_GLOBAL_WUT_M_7_0
,

796 
RH_RF24_PROPERTY_GLOBAL_WUT_R
,

797 
RH_RF24_PROPERTY_GLOBAL_WUT_LDC
,

798 
RH_RF24_PROPERTY_INT_CTL_ENABLE
,

799 
RH_RF24_PROPERTY_INT_CTL_PH_ENABLE
,

800 
RH_RF24_PROPERTY_INT_CTL_MODEM_ENABLE
,

801 
RH_RF24_PROPERTY_INT_CTL_CHIP_ENABLE
,

802 
RH_RF24_PROPERTY_FRR_CTL_A_MODE
,

803 
RH_RF24_PROPERTY_FRR_CTL_B_MODE
,

804 
RH_RF24_PROPERTY_FRR_CTL_C_MODE
,

805 
RH_RF24_PROPERTY_FRR_CTL_D_MODE
,

806 
RH_RF24_PROPERTY_PREAMBLE_TX_LENGTH
,

807 
RH_RF24_PROPERTY_PREAMBLE_CONFIG_STD_1
,

808 
RH_RF24_PROPERTY_PREAMBLE_CONFIG_NSTD
,

809 
RH_RF24_PROPERTY_PREAMBLE_CONFIG_STD_2
,

810 
RH_RF24_PROPERTY_PREAMBLE_CONFIG
,

811 
RH_RF24_PROPERTY_PREAMBLE_PATTERN_31_24
,

812 
RH_RF24_PROPERTY_PREAMBLE_PATTERN_23_16
,

813 
RH_RF24_PROPERTY_PREAMBLE_PATTERN_15_8
,

814 
RH_RF24_PROPERTY_PREAMBLE_PATTERN_7_0
,

815 
RH_RF24_PROPERTY_SYNC_CONFIG
,

816 
RH_RF24_PROPERTY_SYNC_BITS_31_24
,

817 
RH_RF24_PROPERTY_SYNC_BITS_23_16
,

818 
RH_RF24_PROPERTY_SYNC_BITS_15_8
,

819 
RH_RF24_PROPERTY_SYNC_BITS_7_0
,

820 
RH_RF24_PROPERTY_PKT_CRC_CONFIG
,

821 
RH_RF24_PROPERTY_PKT_CONFIG1
,

822 
RH_RF24_PROPERTY_PKT_LEN
,

823 
RH_RF24_PROPERTY_PKT_LEN_FIELD_SOURCE
,

824 
RH_RF24_PROPERTY_PKT_LEN_ADJUST
,

825 
RH_RF24_PROPERTY_PKT_TX_THRESHOLD
,

826 
RH_RF24_PROPERTY_PKT_RX_THRESHOLD
,

827 
RH_RF24_PROPERTY_PKT_FIELD_1_LENGTH_12_8
,

828 
RH_RF24_PROPERTY_PKT_FIELD_1_LENGTH_7_0
,

829 
RH_RF24_PROPERTY_PKT_FIELD_1_CONFIG
,

830 
RH_RF24_PROPERTY_PKT_FIELD_1_CRC_CONFIG
,

831 
RH_RF24_PROPERTY_PKT_FIELD_2_LENGTH_12_8
,

832 
RH_RF24_PROPERTY_PKT_FIELD_2_LENGTH_7_0
,

833 
RH_RF24_PROPERTY_PKT_FIELD_2_CONFIG
,

834 
RH_RF24_PROPERTY_PKT_FIELD_2_CRC_CONFIG
,

835 
RH_RF24_PROPERTY_PKT_FIELD_3_LENGTH_12_8
,

836 
RH_RF24_PROPERTY_PKT_FIELD_3_LENGTH_7_0
,

837 
RH_RF24_PROPERTY_PKT_FIELD_3_CONFIG
,

838 
RH_RF24_PROPERTY_PKT_FIELD_3_CRC_CONFIG
,

839 
RH_RF24_PROPERTY_PKT_FIELD_4_LENGTH_12_8
,

840 
RH_RF24_PROPERTY_PKT_FIELD_4_LENGTH_7_0
,

841 
RH_RF24_PROPERTY_PKT_FIELD_4_CONFIG
,

842 
RH_RF24_PROPERTY_PKT_FIELD_4_CRC_CONFIG
,

843 
RH_RF24_PROPERTY_PKT_FIELD_5_LENGTH_12_8
,

844 
RH_RF24_PROPERTY_PKT_FIELD_5_LENGTH_7_0
,

845 
RH_RF24_PROPERTY_PKT_FIELD_5_CONFIG
,

846 
RH_RF24_PROPERTY_PKT_FIELD_5_CRC_CONFIG
,

847 
RH_RF24_PROPERTY_PKT_RX_FIELD_1_LENGTH_12_8
,

848 
RH_RF24_PROPERTY_PKT_RX_FIELD_1_LENGTH_7_0
,

849 
RH_RF24_PROPERTY_PKT_RX_FIELD_1_CONFIG
,

850 
RH_RF24_PROPERTY_PKT_RX_FIELD_1_CRC_CONFIG
,

851 
RH_RF24_PROPERTY_PKT_RX_FIELD_2_LENGTH_12_8
,

852 
RH_RF24_PROPERTY_PKT_RX_FIELD_2_LENGTH_7_0
,

853 
RH_RF24_PROPERTY_PKT_RX_FIELD_2_CONFIG
,

854 
RH_RF24_PROPERTY_PKT_RX_FIELD_2_CRC_CONFIG
,

855 
RH_RF24_PROPERTY_PKT_RX_FIELD_3_LENGTH_12_8
,

856 
RH_RF24_PROPERTY_PKT_RX_FIELD_3_LENGTH_7_0
,

857 
RH_RF24_PROPERTY_PKT_RX_FIELD_3_CONFIG
,

858 
RH_RF24_PROPERTY_PKT_RX_FIELD_3_CRC_CONFIG
,

859 
RH_RF24_PROPERTY_PKT_RX_FIELD_4_LENGTH_12_8
,

860 
RH_RF24_PROPERTY_PKT_RX_FIELD_4_LENGTH_7_0
,

861 
RH_RF24_PROPERTY_PKT_RX_FIELD_4_CONFIG
,

862 
RH_RF24_PROPERTY_PKT_RX_FIELD_4_CRC_CONFIG
,

863 
RH_RF24_PROPERTY_PKT_RX_FIELD_5_LENGTH_12_8
,

864 
RH_RF24_PROPERTY_PKT_RX_FIELD_5_LENGTH_7_0
,

865 
RH_RF24_PROPERTY_PKT_RX_FIELD_5_CONFIG
,

866 
RH_RF24_PROPERTY_PKT_RX_FIELD_5_CRC_CONFIG
,

867 
RH_RF24_PROPERTY_MODEM_MOD_TYPE
,

868 
RH_RF24_PROPERTY_MODEM_MAP_CONTROL
,

869 
RH_RF24_PROPERTY_MODEM_DSM_CTRL
,

870 
RH_RF24_PROPERTY_MODEM_DATA_RATE_2
,

871 
RH_RF24_PROPERTY_MODEM_DATA_RATE_1
,

872 
RH_RF24_PROPERTY_MODEM_DATA_RATE_0
,

873 
RH_RF24_PROPERTY_MODEM_TX_NCO_MODE_3
,

874 
RH_RF24_PROPERTY_MODEM_TX_NCO_MODE_2
,

875 
RH_RF24_PROPERTY_MODEM_TX_NCO_MODE_1
,

876 
RH_RF24_PROPERTY_MODEM_TX_NCO_MODE_0
,

877 
RH_RF24_PROPERTY_MODEM_FREQ_DEV_2
,

878 
RH_RF24_PROPERTY_MODEM_FREQ_DEV_1
,

879 
RH_RF24_PROPERTY_MODEM_FREQ_DEV_0
,

880 
RH_RF24_PROPERTY_MODEM_TX_RAMP_DELAY
,

881 
RH_RF24_PROPERTY_MODEM_MDM_CTRL
,

882 
RH_RF24_PROPERTY_MODEM_IF_CONTROL
,

883 
RH_RF24_PROPERTY_MODEM_IF_FREQ_2
,

884 
RH_RF24_PROPERTY_MODEM_IF_FREQ_1
,

885 
RH_RF24_PROPERTY_MODEM_IF_FREQ_0
,

886 
RH_RF24_PROPERTY_MODEM_DECIMATION_CFG1
,

887 
RH_RF24_PROPERTY_MODEM_DECIMATION_CFG0
,

888 
RH_RF24_PROPERTY_MODEM_BCR_OSR_1
,

889 
RH_RF24_PROPERTY_MODEM_BCR_OSR_0
,

890 
RH_RF24_PROPERTY_MODEM_BCR_NCO_OFFSET_2
,

891 
RH_RF24_PROPERTY_MODEM_BCR_NCO_OFFSET_1
,

892 
RH_RF24_PROPERTY_MODEM_BCR_NCO_OFFSET_0
,

893 
RH_RF24_PROPERTY_MODEM_BCR_GAIN_1
,

894 
RH_RF24_PROPERTY_MODEM_BCR_GAIN_0
,

895 
RH_RF24_PROPERTY_MODEM_BCR_GEAR
,

896 
RH_RF24_PROPERTY_MODEM_BCR_MISC1
,

897 
RH_RF24_PROPERTY_MODEM_AFC_GEAR
,

898 
RH_RF24_PROPERTY_MODEM_AFC_WAIT
,

899 
RH_RF24_PROPERTY_MODEM_AFC_GAIN_1
,

900 
RH_RF24_PROPERTY_MODEM_AFC_GAIN_0
,

901 
RH_RF24_PROPERTY_MODEM_AFC_LIMITER_1
,

902 
RH_RF24_PROPERTY_MODEM_AFC_LIMITER_0
,

903 
RH_RF24_PROPERTY_MODEM_AFC_MISC
,

904 
RH_RF24_PROPERTY_MODEM_AGC_CONTROL
,

905 
RH_RF24_PROPERTY_MODEM_AGC_WINDOW_SIZE
,

906 
RH_RF24_PROPERTY_MODEM_AGC_RFPD_DECAY
,

907 
RH_RF24_PROPERTY_MODEM_AGC_IFPD_DECAY
,

908 
RH_RF24_PROPERTY_MODEM_FSK4_GAIN1
,

909 
RH_RF24_PROPERTY_MODEM_FSK4_GAIN0
,

910 
RH_RF24_PROPERTY_MODEM_FSK4_TH1
,

911 
RH_RF24_PROPERTY_MODEM_FSK4_TH0
,

912 
RH_RF24_PROPERTY_MODEM_FSK4_MAP
,

913 
RH_RF24_PROPERTY_MODEM_OOK_PDTC
,

914 
RH_RF24_PROPERTY_MODEM_OOK_CNT1
,

915 
RH_RF24_PROPERTY_MODEM_OOK_MISC
,

916 
RH_RF24_PROPERTY_MODEM_RAW_SEARCH
,

917 
RH_RF24_PROPERTY_MODEM_RAW_CONTROL
,

918 
RH_RF24_PROPERTY_MODEM_RAW_EYE_1
,

919 
RH_RF24_PROPERTY_MODEM_RAW_EYE_0
,

920 
RH_RF24_PROPERTY_MODEM_ANT_DIV_MODE
,

921 
RH_RF24_PROPERTY_MODEM_ANT_DIV_CONTROL
,

922 
RH_RF24_PROPERTY_MODEM_RSSI_THRESH
,

923 
RH_RF24_PROPERTY_MODEM_RSSI_JUMP_THRESH
,

924 
RH_RF24_PROPERTY_MODEM_RSSI_CONTROL
,

925 
RH_RF24_PROPERTY_MODEM_RSSI_CONTROL2
,

926 
RH_RF24_PROPERTY_MODEM_RSSI_COMP
,

927 
RH_RF24_PROPERTY_MODEM_ANT_DIV_CONT
,

928 
RH_RF24_PROPERTY_MODEM_CLKGEN_BAND
,

929 
RH_RF24_PROPERTY_MODEM_CHFLT_RX1_CHFLT_COE13_7_0
,

930 
RH_RF24_PROPERTY_MODEM_CHFLT_RX1_CHFLT_COE12_7_0
,

931 
RH_RF24_PROPERTY_MODEM_CHFLT_RX1_CHFLT_COE11_7_0
,

932 
RH_RF24_PROPERTY_MODEM_CHFLT_RX1_CHFLT_COE10_7_0
,

933 
RH_RF24_PROPERTY_MODEM_CHFLT_RX1_CHFLT_COE9_7_0
,

934 
RH_RF24_PROPERTY_MODEM_CHFLT_RX1_CHFLT_COE8_7_0
,

935 
RH_RF24_PROPERTY_MODEM_CHFLT_RX1_CHFLT_COE7_7_0
,

936 
RH_RF24_PROPERTY_MODEM_CHFLT_RX1_CHFLT_COE6_7_0
,

937 
RH_RF24_PROPERTY_MODEM_CHFLT_RX1_CHFLT_COE5_7_0
,

938 
RH_RF24_PROPERTY_MODEM_CHFLT_RX1_CHFLT_COE4_7_0
,

939 
RH_RF24_PROPERTY_MODEM_CHFLT_RX1_CHFLT_COE3_7_0
,

940 
RH_RF24_PROPERTY_MODEM_CHFLT_RX1_CHFLT_COE2_7_0
,

941 
RH_RF24_PROPERTY_MODEM_CHFLT_RX1_CHFLT_COE1_7_0
,

942 
RH_RF24_PROPERTY_MODEM_CHFLT_RX1_CHFLT_COE0_7_0
,

943 
RH_RF24_PROPERTY_MODEM_CHFLT_RX1_CHFLT_COEM0
,

944 
RH_RF24_PROPERTY_MODEM_CHFLT_RX1_CHFLT_COEM1
,

945 
RH_RF24_PROPERTY_MODEM_CHFLT_RX1_CHFLT_COEM2
,

946 
RH_RF24_PROPERTY_MODEM_CHFLT_RX1_CHFLT_COEM3
,

947 
RH_RF24_PROPERTY_MODEM_CHFLT_RX2_CHFLT_COE13_7_0
,

948 
RH_RF24_PROPERTY_MODEM_CHFLT_RX2_CHFLT_COE12_7_0
,

949 
RH_RF24_PROPERTY_MODEM_CHFLT_RX2_CHFLT_COE11_7_0
,

950 
RH_RF24_PROPERTY_MODEM_CHFLT_RX2_CHFLT_COE10_7_0
,

951 
RH_RF24_PROPERTY_MODEM_CHFLT_RX2_CHFLT_COE9_7_0
,

952 
RH_RF24_PROPERTY_MODEM_CHFLT_RX2_CHFLT_COE8_7_0
,

953 
RH_RF24_PROPERTY_MODEM_CHFLT_RX2_CHFLT_COE7_7_0
,

954 
RH_RF24_PROPERTY_MODEM_CHFLT_RX2_CHFLT_COE6_7_0
,

955 
RH_RF24_PROPERTY_MODEM_CHFLT_RX2_CHFLT_COE5_7_0
,

956 
RH_RF24_PROPERTY_MODEM_CHFLT_RX2_CHFLT_COE4_7_0
,

957 
RH_RF24_PROPERTY_MODEM_CHFLT_RX2_CHFLT_COE3_7_0
,

958 
RH_RF24_PROPERTY_MODEM_CHFLT_RX2_CHFLT_COE2_7_0
,

959 
RH_RF24_PROPERTY_MODEM_CHFLT_RX2_CHFLT_COE1_7_0
,

960 
RH_RF24_PROPERTY_MODEM_CHFLT_RX2_CHFLT_COE0_7_0
,

961 
RH_RF24_PROPERTY_MODEM_CHFLT_RX2_CHFLT_COEM0
,

962 
RH_RF24_PROPERTY_MODEM_CHFLT_RX2_CHFLT_COEM1
,

963 
RH_RF24_PROPERTY_MODEM_CHFLT_RX2_CHFLT_COEM2
,

964 
RH_RF24_PROPERTY_MODEM_CHFLT_RX2_CHFLT_COEM3
,

965 
RH_RF24_PROPERTY_PA_MODE
,

966 
RH_RF24_PROPERTY_PA_PWR_LVL
,

967 
RH_RF24_PROPERTY_PA_BIAS_CLKDUTY
,

968 
RH_RF24_PROPERTY_PA_TC
,

969 
RH_RF24_PROPERTY_SYNTH_PFDCP_CPFF
,

970 
RH_RF24_PROPERTY_SYNTH_PFDCP_CPINT
,

971 
RH_RF24_PROPERTY_SYNTH_VCO_KV
,

972 
RH_RF24_PROPERTY_SYNTH_LPFILT3
,

973 
RH_RF24_PROPERTY_SYNTH_LPFILT2
,

974 
RH_RF24_PROPERTY_SYNTH_LPFILT1
,

975 
RH_RF24_PROPERTY_SYNTH_LPFILT0
,

976 
RH_RF24_PROPERTY_MATCH_VALUE_1
,

977 
RH_RF24_PROPERTY_MATCH_MASK_1
,

978 
RH_RF24_PROPERTY_MATCH_CTRL_1
,

979 
RH_RF24_PROPERTY_MATCH_VALUE_2
,

980 
RH_RF24_PROPERTY_MATCH_MASK_2
,

981 
RH_RF24_PROPERTY_MATCH_CTRL_2
,

982 
RH_RF24_PROPERTY_MATCH_VALUE_3
,

983 
RH_RF24_PROPERTY_MATCH_MASK_3
,

984 
RH_RF24_PROPERTY_MATCH_CTRL_3
,

985 
RH_RF24_PROPERTY_MATCH_VALUE_4
,

986 
RH_RF24_PROPERTY_MATCH_MASK_4
,

987 
RH_RF24_PROPERTY_MATCH_CTRL_4
,

988 
RH_RF24_PROPERTY_FREQ_CONTROL_INTE
,

989 
RH_RF24_PROPERTY_FREQ_CONTROL_FRAC_2
,

990 
RH_RF24_PROPERTY_FREQ_CONTROL_FRAC_1
,

991 
RH_RF24_PROPERTY_FREQ_CONTROL_FRAC_0
,

992 
RH_RF24_PROPERTY_FREQ_CONTROL_CHANNEL_STEP_SIZE_1
,

993 
RH_RF24_PROPERTY_FREQ_CONTROL_CHANNEL_STEP_SIZE_0
,

994 
RH_RF24_PROPERTY_FREQ_CONTROL_VCOCNT_RX_ADJ
,

995 
RH_RF24_PROPERTY_RX_HOP_CONTROL
,

996 
RH_RF24_PROPERTY_RX_HOP_TABLE_SIZE
,

997 
RH_RF24_PROPERTY_RX_HOP_TABLE_ENTRY_0
,

999 
	#NUM_PROPERTIES
 ((
¥›îtõs
)/(
uöt16_t
))

	)

1001 
boﬁ
 
	gRH_RF24
::
	$¥ötRegi°îs
()

1003 #ifde‡
RH_HAVE_SERIAL


1004 
uöt8_t
 
i
;

1006 
i
 = 0; i < 
NUM_COMMAND_INFO
; i++)

1008 
Comm™dInfo
 
cmd
;

1009 
	`mem˝y_P
(&
cmd
, &
comm™ds
[
i
], (cmd));

1010 
uöt8_t
 
buf
[10];

1011 i‡(
	`comm™d
(
cmd
.cmd, 
NULL
, 0, 
buf
, cmd.
ª∂yLí
))

1014 
Sîül
.
	`¥öt
("cmd: ");

1015 
Sîül
.
	`¥öt
(
cmd
.cmd, 
HEX
);

1016 
Sîül
.
	`¥öt
(" : ");

1017 
uöt8_t
 
j
;

1018 
j
 = 0; j < 
cmd
.
ª∂yLí
; j++)

1020 
Sîül
.
	`¥öt
(
buf
[
j
], 
HEX
);

1021 
Sîül
.
	`¥öt
(" ");

1023 
Sîül
.
	`¥öén
("");

1028 
i
 = 0; i < 
NUM_PROPERTIES
; i++)

1030 
uöt16_t
 
¥›
;

1031 
	`mem˝y_P
(&
¥›
, &
¥›îtõs
[
i
], (prop));

1032 
uöt8_t
 
ªsu…
;

1033 
	`gë_¥›îtõs
(
¥›
, &
ªsu…
, 1);

1034 
Sîül
.
	`¥öt
("prop: ");

1035 
Sîül
.
	`¥öt
(
¥›
, 
HEX
);

1036 
Sîül
.
	`¥öt
(": ");

1037 
Sîül
.
	`¥öt
(
ªsu…
, 
HEX
);

1038 
Sîül
.
	`¥öén
("");

1041  
åue
;

1042 
	}
}

	@RH_RF24.h

21 #i‚de‡
RH_RF24_h


22 
	#RH_RF24_h


	)

24 
	~<RHGíîicSPI.h
>

25 
	~<RHSPIDrivî.h
>

29 
	#RH_RF24_NUM_INTERRUPTS
 3

	)

32 
	#RH_RF24_MAX_PAYLOAD_LEN
 255

	)

36 
	#RH_RF24_HEADER_LEN
 4

	)

41 #i‚de‡
RH_RF24_MAX_MESSAGE_LEN


42 
	#RH_RF24_MAX_MESSAGE_LEN
 (
RH_RF24_MAX_PAYLOAD_LEN
 - 
RH_RF24_HEADER_LEN
 - 1)

	)

46 
	#RH_RF24_CTS_RETRIES
 2500

	)

50 
	#RH_RF24_CMD_NOP
 0x00

	)

51 
	#RH_RF24_CMD_PART_INFO
 0x01

	)

52 
	#RH_RF24_CMD_POWER_UP
 0x02

	)

53 
	#RH_RF24_CMD_PATCH_IMAGE
 0x04

	)

54 
	#RH_RF24_CMD_FUNC_INFO
 0x10

	)

55 
	#RH_RF24_CMD_SET_PROPERTY
 0x11

	)

56 
	#RH_RF24_CMD_GET_PROPERTY
 0x12

	)

57 
	#RH_RF24_CMD_GPIO_PIN_CFG
 0x13

	)

58 
	#RH_RF24_CMD_GET_ADC_READING
 0x14

	)

59 
	#RH_RF24_CMD_FIFO_INFO
 0x15

	)

60 
	#RH_RF24_CMD_PACKET_INFO
 0x16

	)

61 
	#RH_RF24_CMD_IRCAL
 0x17

	)

62 
	#RH_RF24_CMD_PROTOCOL_CFG
 0x18

	)

63 
	#RH_RF24_CMD_GET_INT_STATUS
 0x20

	)

64 
	#RH_RF24_CMD_GET_PH_STATUS
 0x21

	)

65 
	#RH_RF24_CMD_GET_MODEM_STATUS
 0x22

	)

66 
	#RH_RF24_CMD_GET_CHIP_STATUS
 0x23

	)

67 
	#RH_RF24_CMD_START_TX
 0x31

	)

68 
	#RH_RF24_CMD_START_RX
 0x32

	)

69 
	#RH_RF24_CMD_REQUEST_DEVICE_STATE
 0x33

	)

70 
	#RH_RF24_CMD_CHANGE_STATE
 0x34

	)

71 
	#RH_RF24_CMD_RX_HOP
 0x36

	)

72 
	#RH_RF24_CMD_READ_BUF
 0x44

	)

73 
	#RH_RF24_CMD_FAST_RESPONSE_A
 0x50

	)

74 
	#RH_RF24_CMD_FAST_RESPONSE_B
 0x51

	)

75 
	#RH_RF24_CMD_FAST_RESPONSE_C
 0x53

	)

76 
	#RH_RF24_CMD_FAST_RESPONSE_D
 0x57

	)

77 
	#RH_RF24_CMD_TX_FIFO_WRITE
 0x66

	)

78 
	#RH_RF24_CMD_RX_FIFO_READ
 0x77

	)

81 
	#RH_RF24_REPLY_CTS
 0xff

	)

84 
	#RH_RF24_CONDITION_TX_COMPLETE_STATE
 0xf0

	)

85 
	#RH_RF24_CONDITION_RETRANSMIT_NO
 0x00

	)

86 
	#RH_RF24_CONDITION_RETRANSMIT_YES
 0x04

	)

87 
	#RH_RF24_CONDITION_START_IMMEDIATE
 0x00

	)

88 
	#RH_RF24_CONDITION_START_AFTER_WUT
 0x01

	)

91 
	#RH_RF24_CONDITION_RX_START_IMMEDIATE
 0x00

	)

94 
	#RH_RF24_DEVICE_STATE_NO_CHANGE
 0x00

	)

95 
	#RH_RF24_DEVICE_STATE_SLEEP
 0x01

	)

96 
	#RH_RF24_DEVICE_STATE_SPI_ACTIVE
 0x02

	)

97 
	#RH_RF24_DEVICE_STATE_READY
 0x03

	)

98 
	#RH_RF24_DEVICE_STATE_ALSO_READY
 0x04

	)

99 
	#RH_RF24_DEVICE_STATE_TUNE_TX
 0x05

	)

100 
	#RH_RF24_DEVICE_STATE_TUNE_RX
 0x06

	)

101 
	#RH_RF24_DEVICE_STATE_TX
 0x07

	)

102 
	#RH_RF24_DEVICE_STATE_RX
 0x08

	)

105 
	#RH_RF24_PROPERTY_GLOBAL_XO_TUNE
 0x0000

	)

106 
	#RH_RF24_PROPERTY_GLOBAL_CLK_CFG
 0x0001

	)

107 
	#RH_RF24_PROPERTY_GLOBAL_LOW_BATT_THRESH
 0x0002

	)

108 
	#RH_RF24_PROPERTY_GLOBAL_CONFIG
 0x0003

	)

109 
	#RH_RF24_PROPERTY_GLOBAL_WUT_CONFIG
 0x0004

	)

110 
	#RH_RF24_PROPERTY_GLOBAL_WUT_M_15_8
 0x0005

	)

111 
	#RH_RF24_PROPERTY_GLOBAL_WUT_M_7_0
 0x0006

	)

112 
	#RH_RF24_PROPERTY_GLOBAL_WUT_R
 0x0007

	)

113 
	#RH_RF24_PROPERTY_GLOBAL_WUT_LDC
 0x0008

	)

114 
	#RH_RF24_PROPERTY_INT_CTL_ENABLE
 0x0100

	)

115 
	#RH_RF24_PROPERTY_INT_CTL_PH_ENABLE
 0x0101

	)

116 
	#RH_RF24_PROPERTY_INT_CTL_MODEM_ENABLE
 0x0102

	)

117 
	#RH_RF24_PROPERTY_INT_CTL_CHIP_ENABLE
 0x0103

	)

118 
	#RH_RF24_PROPERTY_FRR_CTL_A_MODE
 0x0200

	)

119 
	#RH_RF24_PROPERTY_FRR_CTL_B_MODE
 0x0201

	)

120 
	#RH_RF24_PROPERTY_FRR_CTL_C_MODE
 0x0202

	)

121 
	#RH_RF24_PROPERTY_FRR_CTL_D_MODE
 0x0203

	)

122 
	#RH_RF24_PROPERTY_PREAMBLE_TX_LENGTH
 0x1000

	)

123 
	#RH_RF24_PROPERTY_PREAMBLE_CONFIG_STD_1
 0x1001

	)

124 
	#RH_RF24_PROPERTY_PREAMBLE_CONFIG_NSTD
 0x1002

	)

125 
	#RH_RF24_PROPERTY_PREAMBLE_CONFIG_STD_2
 0x1003

	)

126 
	#RH_RF24_PROPERTY_PREAMBLE_CONFIG
 0x1004

	)

127 
	#RH_RF24_PROPERTY_PREAMBLE_PATTERN_31_24
 0x1005

	)

128 
	#RH_RF24_PROPERTY_PREAMBLE_PATTERN_23_16
 0x1006

	)

129 
	#RH_RF24_PROPERTY_PREAMBLE_PATTERN_15_8
 0x1007

	)

130 
	#RH_RF24_PROPERTY_PREAMBLE_PATTERN_7_0
 0x1008

	)

131 
	#RH_RF24_PROPERTY_SYNC_CONFIG
 0x1100

	)

132 
	#RH_RF24_PROPERTY_SYNC_BITS_31_24
 0x1101

	)

133 
	#RH_RF24_PROPERTY_SYNC_BITS_23_16
 0x1102

	)

134 
	#RH_RF24_PROPERTY_SYNC_BITS_15_8
 0x1103

	)

135 
	#RH_RF24_PROPERTY_SYNC_BITS_7_0
 0x1104

	)

136 
	#RH_RF24_PROPERTY_PKT_CRC_CONFIG
 0x1200

	)

137 
	#RH_RF24_PROPERTY_PKT_CONFIG1
 0x1206

	)

138 
	#RH_RF24_PROPERTY_PKT_LEN
 0x1208

	)

139 
	#RH_RF24_PROPERTY_PKT_LEN_FIELD_SOURCE
 0x1209

	)

140 
	#RH_RF24_PROPERTY_PKT_LEN_ADJUST
 0x120a

	)

141 
	#RH_RF24_PROPERTY_PKT_TX_THRESHOLD
 0x120b

	)

142 
	#RH_RF24_PROPERTY_PKT_RX_THRESHOLD
 0x120c

	)

143 
	#RH_RF24_PROPERTY_PKT_FIELD_1_LENGTH_12_8
 0x120d

	)

144 
	#RH_RF24_PROPERTY_PKT_FIELD_1_LENGTH_7_0
 0x120e

	)

145 
	#RH_RF24_PROPERTY_PKT_FIELD_1_CONFIG
 0x120f

	)

146 
	#RH_RF24_PROPERTY_PKT_FIELD_1_CRC_CONFIG
 0x1210

	)

147 
	#RH_RF24_PROPERTY_PKT_FIELD_2_LENGTH_12_8
 0x1211

	)

148 
	#RH_RF24_PROPERTY_PKT_FIELD_2_LENGTH_7_0
 0x1212

	)

149 
	#RH_RF24_PROPERTY_PKT_FIELD_2_CONFIG
 0x1213

	)

150 
	#RH_RF24_PROPERTY_PKT_FIELD_2_CRC_CONFIG
 0x1214

	)

151 
	#RH_RF24_PROPERTY_PKT_FIELD_3_LENGTH_12_8
 0x1215

	)

152 
	#RH_RF24_PROPERTY_PKT_FIELD_3_LENGTH_7_0
 0x1216

	)

153 
	#RH_RF24_PROPERTY_PKT_FIELD_3_CONFIG
 0x1217

	)

154 
	#RH_RF24_PROPERTY_PKT_FIELD_3_CRC_CONFIG
 0x1218

	)

155 
	#RH_RF24_PROPERTY_PKT_FIELD_4_LENGTH_12_8
 0x1219

	)

156 
	#RH_RF24_PROPERTY_PKT_FIELD_4_LENGTH_7_0
 0x121a

	)

157 
	#RH_RF24_PROPERTY_PKT_FIELD_4_CONFIG
 0x121b

	)

158 
	#RH_RF24_PROPERTY_PKT_FIELD_4_CRC_CONFIG
 0x121c

	)

159 
	#RH_RF24_PROPERTY_PKT_FIELD_5_LENGTH_12_8
 0x121d

	)

160 
	#RH_RF24_PROPERTY_PKT_FIELD_5_LENGTH_7_0
 0x121e

	)

161 
	#RH_RF24_PROPERTY_PKT_FIELD_5_CONFIG
 0x121f

	)

162 
	#RH_RF24_PROPERTY_PKT_FIELD_5_CRC_CONFIG
 0x1220

	)

163 
	#RH_RF24_PROPERTY_PKT_RX_FIELD_1_LENGTH_12_8
 0x1221

	)

164 
	#RH_RF24_PROPERTY_PKT_RX_FIELD_1_LENGTH_7_0
 0x1222

	)

165 
	#RH_RF24_PROPERTY_PKT_RX_FIELD_1_CONFIG
 0x1223

	)

166 
	#RH_RF24_PROPERTY_PKT_RX_FIELD_1_CRC_CONFIG
 0x1224

	)

167 
	#RH_RF24_PROPERTY_PKT_RX_FIELD_2_LENGTH_12_8
 0x1225

	)

168 
	#RH_RF24_PROPERTY_PKT_RX_FIELD_2_LENGTH_7_0
 0x1226

	)

169 
	#RH_RF24_PROPERTY_PKT_RX_FIELD_2_CONFIG
 0x1227

	)

170 
	#RH_RF24_PROPERTY_PKT_RX_FIELD_2_CRC_CONFIG
 0x1228

	)

171 
	#RH_RF24_PROPERTY_PKT_RX_FIELD_3_LENGTH_12_8
 0x1229

	)

172 
	#RH_RF24_PROPERTY_PKT_RX_FIELD_3_LENGTH_7_0
 0x122a

	)

173 
	#RH_RF24_PROPERTY_PKT_RX_FIELD_3_CONFIG
 0x122b

	)

174 
	#RH_RF24_PROPERTY_PKT_RX_FIELD_3_CRC_CONFIG
 0x122c

	)

175 
	#RH_RF24_PROPERTY_PKT_RX_FIELD_4_LENGTH_12_8
 0x122d

	)

176 
	#RH_RF24_PROPERTY_PKT_RX_FIELD_4_LENGTH_7_0
 0x122e

	)

177 
	#RH_RF24_PROPERTY_PKT_RX_FIELD_4_CONFIG
 0x122f

	)

178 
	#RH_RF24_PROPERTY_PKT_RX_FIELD_4_CRC_CONFIG
 0x1230

	)

179 
	#RH_RF24_PROPERTY_PKT_RX_FIELD_5_LENGTH_12_8
 0x1231

	)

180 
	#RH_RF24_PROPERTY_PKT_RX_FIELD_5_LENGTH_7_0
 0x1232

	)

181 
	#RH_RF24_PROPERTY_PKT_RX_FIELD_5_CONFIG
 0x1233

	)

182 
	#RH_RF24_PROPERTY_PKT_RX_FIELD_5_CRC_CONFIG
 0x1234

	)

183 
	#RH_RF24_PROPERTY_MODEM_MOD_TYPE
 0x2000

	)

184 
	#RH_RF24_PROPERTY_MODEM_MAP_CONTROL
 0x2001

	)

185 
	#RH_RF24_PROPERTY_MODEM_DSM_CTRL
 0x2002

	)

186 
	#RH_RF24_PROPERTY_MODEM_DATA_RATE_2
 0x2003

	)

187 
	#RH_RF24_PROPERTY_MODEM_DATA_RATE_1
 0x2004

	)

188 
	#RH_RF24_PROPERTY_MODEM_DATA_RATE_0
 0x2005

	)

189 
	#RH_RF24_PROPERTY_MODEM_TX_NCO_MODE_3
 0x2006

	)

190 
	#RH_RF24_PROPERTY_MODEM_TX_NCO_MODE_2
 0x2007

	)

191 
	#RH_RF24_PROPERTY_MODEM_TX_NCO_MODE_1
 0x2008

	)

192 
	#RH_RF24_PROPERTY_MODEM_TX_NCO_MODE_0
 0x2009

	)

193 
	#RH_RF24_PROPERTY_MODEM_FREQ_DEV_2
 0x200a

	)

194 
	#RH_RF24_PROPERTY_MODEM_FREQ_DEV_1
 0x200b

	)

195 
	#RH_RF24_PROPERTY_MODEM_FREQ_DEV_0
 0x200c

	)

196 
	#RH_RF24_PROPERTY_MODEM_TX_RAMP_DELAY
 0x2018

	)

197 
	#RH_RF24_PROPERTY_MODEM_MDM_CTRL
 0x2019

	)

198 
	#RH_RF24_PROPERTY_MODEM_IF_CONTROL
 0x201a

	)

199 
	#RH_RF24_PROPERTY_MODEM_IF_FREQ_2
 0x201b

	)

200 
	#RH_RF24_PROPERTY_MODEM_IF_FREQ_1
 0x201c

	)

201 
	#RH_RF24_PROPERTY_MODEM_IF_FREQ_0
 0x201d

	)

202 
	#RH_RF24_PROPERTY_MODEM_DECIMATION_CFG1
 0x201e

	)

203 
	#RH_RF24_PROPERTY_MODEM_DECIMATION_CFG0
 0x201f

	)

204 
	#RH_RF24_PROPERTY_MODEM_BCR_OSR_1
 0x2022

	)

205 
	#RH_RF24_PROPERTY_MODEM_BCR_OSR_0
 0x2023

	)

206 
	#RH_RF24_PROPERTY_MODEM_BCR_NCO_OFFSET_2
 0x2024

	)

207 
	#RH_RF24_PROPERTY_MODEM_BCR_NCO_OFFSET_1
 0x2025

	)

208 
	#RH_RF24_PROPERTY_MODEM_BCR_NCO_OFFSET_0
 0x2026

	)

209 
	#RH_RF24_PROPERTY_MODEM_BCR_GAIN_1
 0x2027

	)

210 
	#RH_RF24_PROPERTY_MODEM_BCR_GAIN_0
 0x2028

	)

211 
	#RH_RF24_PROPERTY_MODEM_BCR_GEAR
 0x2029

	)

212 
	#RH_RF24_PROPERTY_MODEM_BCR_MISC1
 0x202a

	)

213 
	#RH_RF24_PROPERTY_MODEM_AFC_GEAR
 0x202c

	)

214 
	#RH_RF24_PROPERTY_MODEM_AFC_WAIT
 0x202d

	)

215 
	#RH_RF24_PROPERTY_MODEM_AFC_GAIN_1
 0x202e

	)

216 
	#RH_RF24_PROPERTY_MODEM_AFC_GAIN_0
 0x202f

	)

217 
	#RH_RF24_PROPERTY_MODEM_AFC_LIMITER_1
 0x2030

	)

218 
	#RH_RF24_PROPERTY_MODEM_AFC_LIMITER_0
 0x2031

	)

219 
	#RH_RF24_PROPERTY_MODEM_AFC_MISC
 0x2032

	)

220 
	#RH_RF24_PROPERTY_MODEM_AGC_CONTROL
 0x2035

	)

221 
	#RH_RF24_PROPERTY_MODEM_AGC_WINDOW_SIZE
 0x2038

	)

222 
	#RH_RF24_PROPERTY_MODEM_AGC_RFPD_DECAY
 0x2039

	)

223 
	#RH_RF24_PROPERTY_MODEM_AGC_IFPD_DECAY
 0x203a

	)

224 
	#RH_RF24_PROPERTY_MODEM_FSK4_GAIN1
 0x203b

	)

225 
	#RH_RF24_PROPERTY_MODEM_FSK4_GAIN0
 0x203c

	)

226 
	#RH_RF24_PROPERTY_MODEM_FSK4_TH1
 0x203d

	)

227 
	#RH_RF24_PROPERTY_MODEM_FSK4_TH0
 0x203e

	)

228 
	#RH_RF24_PROPERTY_MODEM_FSK4_MAP
 0x203f

	)

229 
	#RH_RF24_PROPERTY_MODEM_OOK_PDTC
 0x2040

	)

230 
	#RH_RF24_PROPERTY_MODEM_OOK_CNT1
 0x2042

	)

231 
	#RH_RF24_PROPERTY_MODEM_OOK_MISC
 0x2043

	)

232 
	#RH_RF24_PROPERTY_MODEM_RAW_SEARCH
 0x2044

	)

233 
	#RH_RF24_PROPERTY_MODEM_RAW_CONTROL
 0x2045

	)

234 
	#RH_RF24_PROPERTY_MODEM_RAW_EYE_1
 0x2046

	)

235 
	#RH_RF24_PROPERTY_MODEM_RAW_EYE_0
 0x2047

	)

236 
	#RH_RF24_PROPERTY_MODEM_ANT_DIV_MODE
 0x2048

	)

237 
	#RH_RF24_PROPERTY_MODEM_ANT_DIV_CONTROL
 0x2049

	)

238 
	#RH_RF24_PROPERTY_MODEM_RSSI_THRESH
 0x204a

	)

239 
	#RH_RF24_PROPERTY_MODEM_RSSI_JUMP_THRESH
 0x204b

	)

240 
	#RH_RF24_PROPERTY_MODEM_RSSI_CONTROL
 0x204c

	)

241 
	#RH_RF24_PROPERTY_MODEM_RSSI_CONTROL2
 0x204d

	)

242 
	#RH_RF24_PROPERTY_MODEM_RSSI_COMP
 0x204e

	)

243 
	#RH_RF24_PROPERTY_MODEM_ANT_DIV_CONT
 0x2049

	)

244 
	#RH_RF24_PROPERTY_MODEM_CLKGEN_BAND
 0x2051

	)

245 
	#RH_RF24_PROPERTY_MODEM_CHFLT_RX1_CHFLT_COE13_7_0
 0x2100

	)

246 
	#RH_RF24_PROPERTY_MODEM_CHFLT_RX1_CHFLT_COE12_7_0
 0x2101

	)

247 
	#RH_RF24_PROPERTY_MODEM_CHFLT_RX1_CHFLT_COE11_7_0
 0x2102

	)

248 
	#RH_RF24_PROPERTY_MODEM_CHFLT_RX1_CHFLT_COE10_7_0
 0x2103

	)

249 
	#RH_RF24_PROPERTY_MODEM_CHFLT_RX1_CHFLT_COE9_7_0
 0x2104

	)

250 
	#RH_RF24_PROPERTY_MODEM_CHFLT_RX1_CHFLT_COE8_7_0
 0x2105

	)

251 
	#RH_RF24_PROPERTY_MODEM_CHFLT_RX1_CHFLT_COE7_7_0
 0x2106

	)

252 
	#RH_RF24_PROPERTY_MODEM_CHFLT_RX1_CHFLT_COE6_7_0
 0x2107

	)

253 
	#RH_RF24_PROPERTY_MODEM_CHFLT_RX1_CHFLT_COE5_7_0
 0x2108

	)

254 
	#RH_RF24_PROPERTY_MODEM_CHFLT_RX1_CHFLT_COE4_7_0
 0x2109

	)

255 
	#RH_RF24_PROPERTY_MODEM_CHFLT_RX1_CHFLT_COE3_7_0
 0x210a

	)

256 
	#RH_RF24_PROPERTY_MODEM_CHFLT_RX1_CHFLT_COE2_7_0
 0x210b

	)

257 
	#RH_RF24_PROPERTY_MODEM_CHFLT_RX1_CHFLT_COE1_7_0
 0x210c

	)

258 
	#RH_RF24_PROPERTY_MODEM_CHFLT_RX1_CHFLT_COE0_7_0
 0x210d

	)

259 
	#RH_RF24_PROPERTY_MODEM_CHFLT_RX1_CHFLT_COEM0
 0x210e

	)

260 
	#RH_RF24_PROPERTY_MODEM_CHFLT_RX1_CHFLT_COEM1
 0x210f

	)

261 
	#RH_RF24_PROPERTY_MODEM_CHFLT_RX1_CHFLT_COEM2
 0x2110

	)

262 
	#RH_RF24_PROPERTY_MODEM_CHFLT_RX1_CHFLT_COEM3
 0x2111

	)

263 
	#RH_RF24_PROPERTY_MODEM_CHFLT_RX2_CHFLT_COE13_7_0
 0x2112

	)

264 
	#RH_RF24_PROPERTY_MODEM_CHFLT_RX2_CHFLT_COE12_7_0
 0x2113

	)

265 
	#RH_RF24_PROPERTY_MODEM_CHFLT_RX2_CHFLT_COE11_7_0
 0x2114

	)

266 
	#RH_RF24_PROPERTY_MODEM_CHFLT_RX2_CHFLT_COE10_7_0
 0x2115

	)

267 
	#RH_RF24_PROPERTY_MODEM_CHFLT_RX2_CHFLT_COE9_7_0
 0x2116

	)

268 
	#RH_RF24_PROPERTY_MODEM_CHFLT_RX2_CHFLT_COE8_7_0
 0x2117

	)

269 
	#RH_RF24_PROPERTY_MODEM_CHFLT_RX2_CHFLT_COE7_7_0
 0x2118

	)

270 
	#RH_RF24_PROPERTY_MODEM_CHFLT_RX2_CHFLT_COE6_7_0
 0x2119

	)

271 
	#RH_RF24_PROPERTY_MODEM_CHFLT_RX2_CHFLT_COE5_7_0
 0x211a

	)

272 
	#RH_RF24_PROPERTY_MODEM_CHFLT_RX2_CHFLT_COE4_7_0
 0x211b

	)

273 
	#RH_RF24_PROPERTY_MODEM_CHFLT_RX2_CHFLT_COE3_7_0
 0x211c

	)

274 
	#RH_RF24_PROPERTY_MODEM_CHFLT_RX2_CHFLT_COE2_7_0
 0x211d

	)

275 
	#RH_RF24_PROPERTY_MODEM_CHFLT_RX2_CHFLT_COE1_7_0
 0x211e

	)

276 
	#RH_RF24_PROPERTY_MODEM_CHFLT_RX2_CHFLT_COE0_7_0
 0x211f

	)

277 
	#RH_RF24_PROPERTY_MODEM_CHFLT_RX2_CHFLT_COEM0
 0x2120

	)

278 
	#RH_RF24_PROPERTY_MODEM_CHFLT_RX2_CHFLT_COEM1
 0x2121

	)

279 
	#RH_RF24_PROPERTY_MODEM_CHFLT_RX2_CHFLT_COEM2
 0x2122

	)

280 
	#RH_RF24_PROPERTY_MODEM_CHFLT_RX2_CHFLT_COEM3
 0x2123

	)

281 
	#RH_RF24_PROPERTY_PA_MODE
 0x2200

	)

282 
	#RH_RF24_PROPERTY_PA_PWR_LVL
 0x2201

	)

283 
	#RH_RF24_PROPERTY_PA_BIAS_CLKDUTY
 0x2202

	)

284 
	#RH_RF24_PROPERTY_PA_TC
 0x2203

	)

285 
	#RH_RF24_PROPERTY_SYNTH_PFDCP_CPFF
 0x2300

	)

286 
	#RH_RF24_PROPERTY_SYNTH_PFDCP_CPINT
 0x2301

	)

287 
	#RH_RF24_PROPERTY_SYNTH_VCO_KV
 0x2302

	)

288 
	#RH_RF24_PROPERTY_SYNTH_LPFILT3
 0x2303

	)

289 
	#RH_RF24_PROPERTY_SYNTH_LPFILT2
 0x2304

	)

290 
	#RH_RF24_PROPERTY_SYNTH_LPFILT1
 0x2305

	)

291 
	#RH_RF24_PROPERTY_SYNTH_LPFILT0
 0x2306

	)

292 
	#RH_RF24_PROPERTY_MATCH_VALUE_1
 0x3000

	)

293 
	#RH_RF24_PROPERTY_MATCH_MASK_1
 0x3001

	)

294 
	#RH_RF24_PROPERTY_MATCH_CTRL_1
 0x3002

	)

295 
	#RH_RF24_PROPERTY_MATCH_VALUE_2
 0x3003

	)

296 
	#RH_RF24_PROPERTY_MATCH_MASK_2
 0x3004

	)

297 
	#RH_RF24_PROPERTY_MATCH_CTRL_2
 0x3005

	)

298 
	#RH_RF24_PROPERTY_MATCH_VALUE_3
 0x3006

	)

299 
	#RH_RF24_PROPERTY_MATCH_MASK_3
 0x3007

	)

300 
	#RH_RF24_PROPERTY_MATCH_CTRL_3
 0x3008

	)

301 
	#RH_RF24_PROPERTY_MATCH_VALUE_4
 0x3009

	)

302 
	#RH_RF24_PROPERTY_MATCH_MASK_4
 0x300a

	)

303 
	#RH_RF24_PROPERTY_MATCH_CTRL_4
 0x300b

	)

304 
	#RH_RF24_PROPERTY_FREQ_CONTROL_INTE
 0x4000

	)

305 
	#RH_RF24_PROPERTY_FREQ_CONTROL_FRAC_2
 0x4001

	)

306 
	#RH_RF24_PROPERTY_FREQ_CONTROL_FRAC_1
 0x4002

	)

307 
	#RH_RF24_PROPERTY_FREQ_CONTROL_FRAC_0
 0x4003

	)

308 
	#RH_RF24_PROPERTY_FREQ_CONTROL_CHANNEL_STEP_SIZE_1
 0x4004

	)

309 
	#RH_RF24_PROPERTY_FREQ_CONTROL_CHANNEL_STEP_SIZE_0
 0x4005

	)

310 
	#RH_RF24_PROPERTY_FREQ_CONTROL_VCOCNT_RX_ADJ
 0x4007

	)

311 
	#RH_RF24_PROPERTY_RX_HOP_CONTROL
 0x5000

	)

312 
	#RH_RF24_PROPERTY_RX_HOP_TABLE_SIZE
 0x5001

	)

313 
	#RH_RF24_PROPERTY_RX_HOP_TABLE_ENTRY_0
 0x5002

	)

316 
	#RH_RF24_GPIO_NO_CHANGE
 0

	)

317 
	#RH_RF24_GPIO_DISABLED
 1

	)

318 
	#RH_RF24_GPIO_LOW
 2

	)

319 
	#RH_RF24_GPIO_HIGH
 3

	)

320 
	#RH_RF24_GPIO_INPUT
 4

	)

321 
	#RH_RF24_GPIO_32_KHZ_CLOCK
 5

	)

322 
	#RH_RF24_GPIO_BOOT_CLOCK
 6

	)

323 
	#RH_RF24_GPIO_DIVIDED_MCU_CLOCK
 7

	)

324 
	#RH_RF24_GPIO_CTS
 8

	)

325 
	#RH_RF24_GPIO_INV_CTS
 9

	)

326 
	#RH_RF24_GPIO_HIGH_ON_CMD_OVERLAP
 10

	)

327 
	#RH_RF24_GPIO_SPI_DATA_OUT
 11

	)

328 
	#RH_RF24_GPIO_HIGH_AFTER_RESET
 12

	)

329 
	#RH_RF24_GPIO_HIGH_AFTER_CALIBRATION
 13

	)

330 
	#RH_RF24_GPIO_HIGH_AFTER_WUT
 14

	)

331 
	#RH_RF24_GPIO_UNUSED_0
 15

	)

332 
	#RH_RF24_GPIO_TX_DATA_CLOCK
 16

	)

333 
	#RH_RF24_GPIO_RX_DATA_CLOCK
 17

	)

334 
	#RH_RF24_GPIO_UNUSED_1
 18

	)

335 
	#RH_RF24_GPIO_TX_DATA
 19

	)

336 
	#RH_RF24_GPIO_RX_DATA
 20

	)

337 
	#RH_RF24_GPIO_RX_RAW_DATA
 21

	)

338 
	#RH_RF24_GPIO_ANTENNA_1_SWITCH
 22

	)

339 
	#RH_RF24_GPIO_ANTENNA_2_SWITCH
 23

	)

340 
	#RH_RF24_GPIO_VALID_PREAMBLE
 24

	)

341 
	#RH_RF24_GPIO_INVALID_PREAMBLE
 25

	)

342 
	#RH_RF24_GPIO_SYNC_DETECTED
 26

	)

343 
	#RH_RF24_GPIO_RSSI_ABOVE_CAT
 27

	)

344 
	#RH_RF24_GPIO_TX_STATE
 32

	)

345 
	#RH_RF24_GPIO_RX_STATE
 33

	)

346 
	#RH_RF24_GPIO_RX_FIFO_ALMOST_FULL
 34

	)

347 
	#RH_RF24_GPIO_TX_FIFO_ALMOST_EMPTY
 35

	)

348 
	#RH_RF24_GPIO_BATT_LOW
 36

	)

349 
	#RH_RF24_GPIO_RSSI_ABOVE_CAT_LOW
 37

	)

350 
	#RH_RF24_GPIO_HOP
 38

	)

351 
	#RH_RF24_GPIO_HOP_TABLE_WRAPPED
 39

	)

354 
	#RH_RF24_INT_STATUS_CHIP_INT_STATUS
 0x04

	)

355 
	#RH_RF24_INT_STATUS_MODEM_INT_STATUS
 0x02

	)

356 
	#RH_RF24_INT_STATUS_PH_INT_STATUS
 0x01

	)

357 
	#RH_RF24_INT_STATUS_FILTER_MATCH
 0x80

	)

358 
	#RH_RF24_INT_STATUS_FILTER_MISS
 0x40

	)

359 
	#RH_RF24_INT_STATUS_PACKET_SENT
 0x20

	)

360 
	#RH_RF24_INT_STATUS_PACKET_RX
 0x10

	)

361 
	#RH_RF24_INT_STATUS_CRC_ERROR
 0x08

	)

362 
	#RH_RF24_INT_STATUS_TX_FIFO_ALMOST_EMPTY
 0x02

	)

363 
	#RH_RF24_INT_STATUS_RX_FIFO_ALMOST_FULL
 0x01

	)

364 
	#RH_RF24_INT_STATUS_INVALID_SYNC
 0x20

	)

365 
	#RH_RF24_INT_STATUS_RSSI_JUMP
 0x10

	)

366 
	#RH_RF24_INT_STATUS_RSSI
 0x08

	)

367 
	#RH_RF24_INT_STATUS_INVALID_PREAMBLE
 0x04

	)

368 
	#RH_RF24_INT_STATUS_PREAMBLE_DETECT
 0x02

	)

369 
	#RH_RF24_INT_STATUS_SYNC_DETECT
 0x01

	)

370 
	#RH_RF24_INT_STATUS_CAL
 0x40

	)

371 
	#RH_RF24_INT_STATUS_FIFO_UNDERFLOW_OVERFLOW_ERROR
 0x20

	)

372 
	#RH_RF24_INT_STATUS_STATE_CHANGE
 0x10

	)

373 
	#RH_RF24_INT_STATUS_CMD_ERROR
 0x08

	)

374 
	#RH_RF24_INT_STATUS_CHIP_READY
 0x04

	)

375 
	#RH_RF24_INT_STATUS_LOW_BATT
 0x02

	)

376 
	#RH_RF24_INT_STATUS_WUT
 0x01

	)

379 
	#RH_RF24_CLK_CFG_DIVIDED_CLK_EN
 0x40

	)

380 
	#RH_RF24_CLK_CFG_DIVIDED_CLK_SEL_30
 0x30

	)

381 
	#RH_RF24_CLK_CFG_DIVIDED_CLK_SEL_15
 0x28

	)

382 
	#RH_RF24_CLK_CFG_DIVIDED_CLK_SEL_10
 0x20

	)

383 
	#RH_RF24_CLK_CFG_DIVIDED_CLK_SEL_7_5
 0x18

	)

384 
	#RH_RF24_CLK_CFG_DIVIDED_CLK_SEL_3
 0x10

	)

385 
	#RH_RF24_CLK_CFG_DIVIDED_CLK_SEL_2
 0x08

	)

386 
	#RH_RF24_CLK_CFG_DIVIDED_CLK_SEL_1
 0x00

	)

387 
	#RH_RF24_CLK_CFG_CLK_32K_SEL_EXTERNAL
 0x02

	)

388 
	#RH_RF24_CLK_CFG_CLK_32K_SEL_RC
 0x01

	)

389 
	#RH_RF24_CLK_CFG_CLK_32K_SEL_DISABLED
 0x00

	)

395 
	#RH_RF24_FRR_MODE_DISABLED
 0

	)

396 
	#RH_RF24_FRR_MODE_GLOBAL_STATUS
 1

	)

397 
	#RH_RF24_FRR_MODE_GLOBAL_INTERRUPT_PENDING
 2

	)

398 
	#RH_RF24_FRR_MODE_PACKET_HANDLER_STATUS
 3

	)

399 
	#RH_RF24_FRR_MODE_PACKET_HANDLER_INTERRUPT_PENDING
 4

	)

400 
	#RH_RF24_FRR_MODE_MODEM_STATUS
 5

	)

401 
	#RH_RF24_FRR_MODE_MODEM_INTERRUPT_PENDING
 6

	)

402 
	#RH_RF24_FRR_MODE_CHIP_STATUS
 7

	)

403 
	#RH_RF24_FRR_MODE_CHIP_INTERRUPT_PENDING
 8

	)

404 
	#RH_RF24_FRR_MODE_CURRENT_STATE
 9

	)

405 
	#RH_RF24_FRR_MODE_LATCHED_RSSI
 10

	)

408 
	#RH_RF24_CHIP_INT_STATUS_EN
 0x04

	)

409 
	#RH_RF24_MODEM_INT_STATUS_EN
 0x02

	)

410 
	#RH_RF24_PH_INT_STATUS_EN
 0x01

	)

413 
	#RH_RF24_PREAMBLE_FIRST_1
 0x20

	)

414 
	#RH_RF24_PREAMBLE_FIRST_0
 0x00

	)

415 
	#RH_RF24_PREAMBLE_LENGTH_NIBBLES
 0x00

	)

416 
	#RH_RF24_PREAMBLE_LENGTH_BYTES
 0x10

	)

417 
	#RH_RF24_PREAMBLE_MAN_CONST
 0x08

	)

418 
	#RH_RF24_PREAMBLE_MAN_ENABLE
 0x02

	)

419 
	#RH_RF24_PREAMBLE_NON_STANDARD
 0x00

	)

420 
	#RH_RF24_PREAMBLE_STANDARD_1010
 0x01

	)

421 
	#RH_RF24_PREAMBLE_STANDARD_0101
 0x02

	)

424 
	#RH_RF24_SYNC_CONFIG_SKIP_TX
 0x80

	)

425 
	#RH_RF24_SYNC_CONFIG_RX_ERRORS_MASK
 0x70

	)

426 
	#RH_RF24_SYNC_CONFIG_4FSK
 0x08

	)

427 
	#RH_RF24_SYNC_CONFIG_MANCH
 0x04

	)

428 
	#RH_RF24_SYNC_CONFIG_LENGTH_MASK
 0x03

	)

431 
	#RH_RF24_CRC_SEED_ALL_0S
 0x00

	)

432 
	#RH_RF24_CRC_SEED_ALL_1S
 0x80

	)

433 
	#RH_RF24_CRC_MASK
 0x0f

	)

434 
	#RH_RF24_CRC_NONE
 0x00

	)

435 
	#RH_RF24_CRC_ITU_T
 0x01

	)

436 
	#RH_RF24_CRC_IEC_16
 0x02

	)

437 
	#RH_RF24_CRC_BIACHEVA
 0x03

	)

438 
	#RH_RF24_CRC_16_IBM
 0x04

	)

439 
	#RH_RF24_CRC_CCITT
 0x05

	)

440 
	#RH_RF24_CRC_KOOPMAN
 0x06

	)

441 
	#RH_RF24_CRC_IEEE_802_3
 0x07

	)

442 
	#RH_RF24_CRC_CASTAGNOLI
 0x08

	)

445 
	#RH_RF24_PH_FIELD_SPLIT
 0x80

	)

446 
	#RH_RF24_PH_RX_DISABLE
 0x40

	)

447 
	#RH_RF24_4FSK_EN
 0x20

	)

448 
	#RH_RF24_RX_MULTI_PKT
 0x10

	)

449 
	#RH_RF24_MANCH_POL
 0x08

	)

450 
	#RH_RF24_CRC_INVERT
 0x04

	)

451 
	#RH_RF24_CRC_ENDIAN
 0x02

	)

452 
	#RH_RF24_BIT_ORDER
 0x01

	)

459 
	#RH_RF24_FIELD_CONFIG_4FSK
 0x10

	)

460 
	#RH_RF24_FIELD_CONFIG_WHITEN
 0x02

	)

461 
	#RH_RF24_FIELD_CONFIG_MANCH
 0x01

	)

468 
	#RH_RF24_FIELD_CONFIG_CRC_START
 0x80

	)

469 
	#RH_RF24_FIELD_CONFIG_SEND_CRC
 0x20

	)

470 
	#RH_RF24_FIELD_CONFIG_CHECK_CRC
 0x08

	)

471 
	#RH_RF24_FIELD_CONFIG_CRC_ENABLE
 0x02

	)

477 
	#RH_RF24_TX_DIRECT_MODE_TYPE_SYNCHRONOUS
 0x00

	)

478 
	#RH_RF24_TX_DIRECT_MODE_TYPE_ASYNCHRONOUS
 0x80

	)

479 
	#RH_RF24_TX_DIRECT_MODE_GPIO0
 0x00

	)

480 
	#RH_RF24_TX_DIRECT_MODE_GPIO1
 0x20

	)

481 
	#RH_RF24_TX_DIRECT_MODE_GPIO2
 0x40

	)

482 
	#RH_RF24_TX_DIRECT_MODE_GPIO3
 0x60

	)

483 
	#RH_RF24_MOD_SOURCE_PACKET_HANDLER
 0x00

	)

484 
	#RH_RF24_MOD_SOURCE_DIRECT_MODE
 0x08

	)

485 
	#RH_RF24_MOD_SOURCE_RANDOM_GENERATOR
 0x10

	)

486 
	#RH_RF24_MOD_TYPE_CW
 0x00

	)

487 
	#RH_RF24_MOD_TYPE_OOK
 0x01

	)

488 
	#RH_RF24_MOD_TYPE_2FSK
 0x02

	)

489 
	#RH_RF24_MOD_TYPE_2GFSK
 0x03

	)

490 
	#RH_RF24_MOD_TYPE_4FSK
 0x04

	)

491 
	#RH_RF24_MOD_TYPE_4GFSK
 0x05

	)

494 
	#RH_RF24_PA_MODE_1_GROUP
 0x04

	)

495 
	#RH_RF24_PA_MODE_2_GROUPS
 0x08

	)

496 
	#RH_RF24_PA_MODE_CLASS_E
 0x00

	)

497 
	#RH_RF24_PA_MODE_SWITCH_CURRENT
 0x01

	)

685 ˛as†
	cRH_RF24
 : 
public
 
RHSPIDrivî


687 
public
:

698 
uöt8_t
 
¥›_2000
;

699 
uöt8_t
 
	m¥›_2003
;

700 
uöt8_t
 
	m¥›_2004
;

701 
uöt8_t
 
	m¥›_2005
;

702 
uöt8_t
 
	m¥›_2006
;

703 
uöt8_t
 
	m¥›_2007
;

704 
uöt8_t
 
	m¥›_2008
;

705 
uöt8_t
 
	m¥›_2009
;

706 
uöt8_t
 
	m¥›_200a
;

707 
uöt8_t
 
	m¥›_200b
;

708 
uöt8_t
 
	m¥›_200c
;

709 
uöt8_t
 
	m¥›_2018
;

710 
uöt8_t
 
	m¥›_201e
;

711 
uöt8_t
 
	m¥›_201f
;

712 
uöt8_t
 
	m¥›_2022
;

713 
uöt8_t
 
	m¥›_2023
;

714 
uöt8_t
 
	m¥›_2024
;

715 
uöt8_t
 
	m¥›_2025
;

716 
uöt8_t
 
	m¥›_2026
;

717 
uöt8_t
 
	m¥›_2027
;

718 
uöt8_t
 
	m¥›_2028
;

719 
uöt8_t
 
	m¥›_2029
;

720 
uöt8_t
 
	m¥›_202d
;

721 
uöt8_t
 
	m¥›_202e
;

722 
uöt8_t
 
	m¥›_202f
;

723 
uöt8_t
 
	m¥›_2030
;

724 
uöt8_t
 
	m¥›_2031
;

725 
uöt8_t
 
	m¥›_2035
;

726 
uöt8_t
 
	m¥›_2038
;

727 
uöt8_t
 
	m¥›_2039
;

728 
uöt8_t
 
	m¥›_203a
;

729 
uöt8_t
 
	m¥›_203b
;

730 
uöt8_t
 
	m¥›_203c
;

731 
uöt8_t
 
	m¥›_203d
;

732 
uöt8_t
 
	m¥›_203e
;

733 
uöt8_t
 
	m¥›_203f
;

734 
uöt8_t
 
	m¥›_2040
;

735 
uöt8_t
 
	m¥›_2043
;

736 
uöt8_t
 
	m¥›_2045
;

737 
uöt8_t
 
	m¥›_2046
;

738 
uöt8_t
 
	m¥›_2047
;

739 
uöt8_t
 
	m¥›_204e
;

740 
uöt8_t
 
	m¥›_2100
;

741 
uöt8_t
 
	m¥›_2101
;

742 
uöt8_t
 
	m¥›_2102
;

743 
uöt8_t
 
	m¥›_2103
;

744 
uöt8_t
 
	m¥›_2104
;

745 
uöt8_t
 
	m¥›_2105
;

746 
uöt8_t
 
	m¥›_2106
;

747 
uöt8_t
 
	m¥›_2107
;

748 
uöt8_t
 
	m¥›_2108
;

749 
uöt8_t
 
	m¥›_2109
;

750 
uöt8_t
 
	m¥›_210a
;

751 
uöt8_t
 
	m¥›_210b
;

752 
uöt8_t
 
	m¥›_210c
;

753 
uöt8_t
 
	m¥›_210d
;

754 
uöt8_t
 
	m¥›_210e
;

755 
uöt8_t
 
	m¥›_210f
;

756 
uöt8_t
 
	m¥›_2110
;

757 
uöt8_t
 
	m¥›_2111
;

758 
uöt8_t
 
	m¥›_2112
;

759 
uöt8_t
 
	m¥›_2113
;

760 
uöt8_t
 
	m¥›_2114
;

761 
uöt8_t
 
	m¥›_2115
;

762 
uöt8_t
 
	m¥›_2116
;

763 
uöt8_t
 
	m¥›_2117
;

764 
uöt8_t
 
	m¥›_2118
;

765 
uöt8_t
 
	m¥›_2119
;

766 
uöt8_t
 
	m¥›_211a
;

767 
uöt8_t
 
	m¥›_211b
;

768 
uöt8_t
 
	m¥›_211c
;

769 
uöt8_t
 
	m¥›_211d
;

770 
uöt8_t
 
	m¥›_211e
;

771 
uöt8_t
 
	m¥›_211f
;

772 
uöt8_t
 
	m¥›_2120
;

773 
uöt8_t
 
	m¥›_2121
;

774 
uöt8_t
 
	m¥›_2122
;

775 
uöt8_t
 
	m¥›_2123
;

776 
uöt8_t
 
	m¥›_2203
;

777 
uöt8_t
 
	m¥›_2300
;

778 
uöt8_t
 
	m¥›_2301
;

779 
uöt8_t
 
	m¥›_2303
;

780 
uöt8_t
 
	m¥›_2304
;

781 
uöt8_t
 
	m¥›_2305
;

782 } 
	tModemC⁄fig
;

795 
	gFSK_Rb0_5Fd1
 = 0,

796 
	gFSK_Rb5Fd10
,

797 
	gFSK_Rb50Fd100
,

798 
	gFSK_Rb150Fd300
,

800 
	gGFSK_Rb0_5Fd1
,

801 
	gGFSK_Rb5Fd10
,

802 
	gGFSK_Rb50Fd100
,

803 
	gGFSK_Rb150Fd300
,

806 
	gOOK_Rb5Bw30
,

807 
	gOOK_Rb10Bw40
,

811 } 
	tModemC⁄figChoi˚
;

818 
	gCRC_NONE
 = 0,

819 
	gCRC_ITU_T
,

820 
	gCRC_IEC_16
,

821 
	gCRC_Bücheva
,

822 
	gCRC_16_IBM
,

823 
	gCRC_CCITT
,

824 
	gCRC_Ko›m™
,

825 
	gCRC_IEEE_802_3
,

826 
	gCRC_Ca°agnﬁi
,

827 } 
	tCRCPﬁynomül
;

832 
uöt8_t
 
	gcmd
;

833 
uöt8_t
 
	gª∂yLí
;

834 } 
	tComm™dInfo
;

855 
RH_RF24
(
uöt8_t
 
¶aveSñe˘Pö
 = 
SS
, uöt8_à
öãºu±Pö
 = 2, uöt8_à
sdnPö
 = 9, 
RHGíîicSPI
& 
•i
 = 
h¨dw¨e_•i
);

867 
boﬁ
 
öô
();

873 
£tIdÀMode
(
uöt8_t
 
idÀMode
);

892 
boﬁ
 
£tFªquícy
(
˚¡ª
, 
afcPuŒInR™ge
 = 0.05);

901 
£tModemRegi°îs
(c⁄° 
ModemC⁄fig
* 
c⁄fig
);

910 
boﬁ
 
£tModemC⁄fig
(
ModemC⁄figChoi˚
 
ödex
);

916 
boﬁ
 
avaûabÀ
();

927 
boﬁ
 
ªcv
(
uöt8_t
* 
buf
, uöt8_t* 
Àn
);

935 
boﬁ
 
£nd
(c⁄° 
uöt8_t
* 
d©a
, uöt8_à
Àn
);

939 
uöt8_t
 
maxMesßgeLígth
();

946 
£tPªambÀLígth
(
uöt16_t
 
byãs
);

955 
£tSyncW‹ds
(c⁄° 
uöt8_t
* 
syncW‹ds
 = 
NULL
, uöt8_à
Àn
 = 0);

961 
boﬁ
 
£tCRCPﬁynomül
(
CRCPﬁynomül
 
pﬁynomül
);

965 
£tModeIdÀ
();

969 
£tModeRx
();

973 
£tModeTx
();

983 
£tTxPowî
(
uöt8_t
 
powî
);

989 
boﬁ
 
¥ötRegi°îs
();

1002 
boﬁ
 
comm™d
(
uöt8_t
 
cmd
, c⁄° uöt8_t* 
wrôe_buf
 = 0, uöt8_à
wrôe_Àn
 = 0, uöt8_t* 
ªad_buf
 = 0, uöt8_à
ªad_Àn
 = 0);

1012 
boﬁ
 
£t_¥›îtõs
(
uöt16_t
 
fú°Pr›îty
, c⁄° 
uöt8_t
* 
vÆues
, uöt8_à
cou¡
);

1022 
boﬁ
 
gë_¥›îtõs
(
uöt16_t
 
fú°Pr›îty
, 
uöt8_t
* 
vÆues
, uöt8_à
cou¡
);

1027 
gë_ãm≥øtuª
();

1032 
gë_b©ãry_vﬁège
();

1038 
gë_gpio_vﬁège
(
uöt8_t
 
gpio
);

1045 
uöt8_t
 
‰r_ªad
(uöt8_à
ªg
);

1052 
vútuÆ
 
boﬁ
 
¶ìp
();

1059 
uöt16_t
 
	$devi˚Ty≥
(Ë{ 
_devi˚Ty≥
;
	}
};

1061 
	g¥Ÿe˘ed
:

1065 
h™dÀI¡îru±
();

1069 
boﬁ
 
˛órRxFifo
();

1072 
˛órBuf„r
();

1076 
£ndNextFøgmít
();

1080 
ªadNextFøgmít
();

1086 
boﬁ
 
wrôeTxFifo
(
uöt8_t
 *
d©a
, uöt8_à
Àn
);

1091 
vÆid©eRxBuf
();

1094 
powî_⁄_ª£t
();

1100 
boﬁ
 
c⁄figuª
(c⁄° 
uöt8_t
* 
comm™ds
);

1103 
boﬁ
 
cmd_˛ór_Æl_öãºu±s
();

1105 
	g¥iv©e
:

1108 
i§0
();

1111 
i§1
();

1114 
i§2
();

1117 
RH_RF24
* 
	g_devi˚F‹I¡îru±
[];

1120 
uöt8_t
 
	g_öãºu±Cou¡
;

1123 
uöt8_t
 
	g_öãºu±Pö
;

1127 
uöt8_t
 
	g_myI¡îru±Index
;

1130 
uöt8_t
 
	g_sdnPö
;

1133 
uöt8_t
 
	g_idÀMode
;

1136 
uöt16_t
 
	g_devi˚Ty≥
;

1139 
öt8_t
 
	g_powî
;

1142 vﬁ©ûê
uöt8_t
 
	g_bufLí
;

1145 
uöt8_t
 
	g_buf
[
RH_RF24_MAX_PAYLOAD_LEN
];

1148 vﬁ©ûê
boﬁ
 
	g_rxBufVÆid
;

1151 vﬁ©ûê
uöt8_t
 
	g_txBufSítIndex
;

1154 
uöt32_t
 
	g_œ°PªambÀTime
;

	@RH_RF69.cpp

6 
	~<RH_RF69.h
>

11 
RH_RF69
* 
	gRH_RF69
::
_devi˚F‹I¡îru±
[
RH_RF69_NUM_INTERRUPTS
] = {0, 0, 0};

12 
uöt8_t
 
	gRH_RF69
::
_öãºu±Cou¡
 = 0;

21 
	#CONFIG_FSK
 (
RH_RF69_DATAMODUL_DATAMODE_PACKET
 | 
RH_RF69_DATAMODUL_MODULATIONTYPE_FSK
 | 
RH_RF69_DATAMODUL_MODULATIONSHAPING_FSK_NONE
)

	)

22 
	#CONFIG_GFSK
 (
RH_RF69_DATAMODUL_DATAMODE_PACKET
 | 
RH_RF69_DATAMODUL_MODULATIONTYPE_FSK
 | 
RH_RF69_DATAMODUL_MODULATIONSHAPING_FSK_BT1_0
)

	)

23 
	#CONFIG_OOK
 (
RH_RF69_DATAMODUL_DATAMODE_PACKET
 | 
RH_RF69_DATAMODUL_MODULATIONTYPE_OOK
 | 
RH_RF69_DATAMODUL_MODULATIONSHAPING_OOK_NONE
)

	)

26 
	#CONFIG_NOWHITE
 (
RH_RF69_PACKETCONFIG1_PACKETFORMAT_VARIABLE
 | 
RH_RF69_PACKETCONFIG1_DCFREE_NONE
 | 
RH_RF69_PACKETCONFIG1_CRC_ON
 | 
RH_RF69_PACKETCONFIG1_ADDRESSFILTERING_NONE
)

	)

27 
	#CONFIG_WHITE
 (
RH_RF69_PACKETCONFIG1_PACKETFORMAT_VARIABLE
 | 
RH_RF69_PACKETCONFIG1_DCFREE_WHITENING
 | 
RH_RF69_PACKETCONFIG1_CRC_ON
 | 
RH_RF69_PACKETCONFIG1_ADDRESSFILTERING_NONE
)

	)

28 
	#CONFIG_MANCHESTER
 (
RH_RF69_PACKETCONFIG1_PACKETFORMAT_VARIABLE
 | 
RH_RF69_PACKETCONFIG1_DCFREE_MANCHESTER
 | 
RH_RF69_PACKETCONFIG1_CRC_ON
 | 
RH_RF69_PACKETCONFIG1_ADDRESSFILTERING_NONE
)

	)

29 
PROGMEM
 c⁄° 
	gRH_RF69
::
ModemC⁄fig
 
MODEM_CONFIG_TABLE
[] =

35 { 
CONFIG_FSK
, 0x3e, 0x80, 0x00, 0x52, 0xf4, 0xf4, 
CONFIG_WHITE
},

36 { 
CONFIG_FSK
, 0x34, 0x15, 0x00, 0x4f, 0xf4, 0xf4, 
CONFIG_WHITE
},

37 { 
CONFIG_FSK
, 0x1a, 0x0b, 0x00, 0x9d, 0xf4, 0xf4, 
CONFIG_WHITE
},

39 { 
CONFIG_FSK
, 0x0d, 0x05, 0x01, 0x3b, 0xf4, 0xf4, 
CONFIG_WHITE
},

40 { 
CONFIG_FSK
, 0x06, 0x83, 0x02, 0x75, 0xf3, 0xf3, 
CONFIG_WHITE
},

41 { 
CONFIG_FSK
, 0x03, 0x41, 0x04, 0xó, 0xf2, 0xf2, 
CONFIG_WHITE
},

43 { 
CONFIG_FSK
, 0x02, 0x2c, 0x07, 0x´, 0xe2, 0xe2, 
CONFIG_WHITE
},

44 { 
CONFIG_FSK
, 0x01, 0x00, 0x08, 0x00, 0xe1, 0xe1, 
CONFIG_WHITE
},

45 { 
CONFIG_FSK
, 0x00, 0x80, 0x10, 0x00, 0xe0, 0xe0, 
CONFIG_WHITE
},

46 { 
CONFIG_FSK
, 0x02, 0x40, 0x03, 0x33, 0x42, 0x42, 
CONFIG_WHITE
},

51 { 
CONFIG_GFSK
, 0x3e, 0x80, 0x00, 0x52, 0xf4, 0xf5, 
CONFIG_WHITE
},

52 { 
CONFIG_GFSK
, 0x34, 0x15, 0x00, 0x4f, 0xf4, 0xf4, 
CONFIG_WHITE
},

53 { 
CONFIG_GFSK
, 0x1a, 0x0b, 0x00, 0x9d, 0xf4, 0xf4, 
CONFIG_WHITE
},

55 { 
CONFIG_GFSK
, 0x0d, 0x05, 0x01, 0x3b, 0xf4, 0xf4, 
CONFIG_WHITE
},

56 { 
CONFIG_GFSK
, 0x06, 0x83, 0x02, 0x75, 0xf3, 0xf3, 
CONFIG_WHITE
},

57 { 
CONFIG_GFSK
, 0x03, 0x41, 0x04, 0xó, 0xf2, 0xf2, 
CONFIG_WHITE
},

59 { 
CONFIG_GFSK
, 0x02, 0x2c, 0x07, 0x´, 0xe2, 0xe2, 
CONFIG_WHITE
},

60 { 
CONFIG_GFSK
, 0x01, 0x00, 0x08, 0x00, 0xe1, 0xe1, 
CONFIG_WHITE
},

61 { 
CONFIG_GFSK
, 0x00, 0x80, 0x10, 0x00, 0xe0, 0xe0, 
CONFIG_WHITE
},

62 { 
CONFIG_GFSK
, 0x02, 0x40, 0x03, 0x33, 0x42, 0x42, 
CONFIG_WHITE
},

73 { 
CONFIG_OOK
, 0x7d, 0x00, 0x00, 0x10, 0x88, 0x88, 
CONFIG_WHITE
},

74 { 
CONFIG_OOK
, 0x68, 0x2b, 0x00, 0x10, 0xf1, 0xf1, 
CONFIG_WHITE
},

75 { 
CONFIG_OOK
, 0x34, 0x15, 0x00, 0x10, 0xf5, 0xf5, 
CONFIG_WHITE
},

76 { 
CONFIG_OOK
, 0x1a, 0x0b, 0x00, 0x10, 0xf4, 0xf4, 
CONFIG_WHITE
},

77 { 
CONFIG_OOK
, 0x0d, 0x05, 0x00, 0x10, 0xf3, 0xf3, 
CONFIG_WHITE
},

78 { 
CONFIG_OOK
, 0x06, 0x83, 0x00, 0x10, 0xf2, 0xf2, 
CONFIG_WHITE
},

79 { 
CONFIG_OOK
, 0x03, 0xe8, 0x00, 0x10, 0xe2, 0xe2, 
CONFIG_WHITE
},

86 
	gRH_RF69
::
	$RH_RF69
(
uöt8_t
 
¶aveSñe˘Pö
, uöt8_à
öãºu±Pö
, 
RHGíîicSPI
& 
•i
)

88 
	$RHSPIDrivî
(
¶aveSñe˘Pö
, 
•i
)

90 
_öãºu±Pö
 = 
öãºu±Pö
;

91 
_idÀMode
 = 
RH_RF69_OPMODE_MODE_STDBY
;

92 
_myI¡îru±Index
 = 0xff;

93 
	`£tHódîFœgs
(
RH_RF69_FLAG_REQACK
, 0xff);

94 
ACK_RECEIVED
 = 0;

95 
ACK_REQUESTED
 = 0;

96 
	}
}

98 
	gRH_RF69
::
	$£tIdÀMode
(
uöt8_t
 
idÀMode
)

100 
_idÀMode
 = 
idÀMode
;

101 
	}
}

103 
boﬁ
 
	gRH_RF69
::
	$öô
()

105 i‡(!
RHSPIDrivî
::
	`öô
())

106  
Ál£
;

109 
öãºu±Numbî
 = 
	`digôÆPöToI¡îru±
(
_öãºu±Pö
);

110 i‡(
öãºu±Numbî
 =
NOT_AN_INTERRUPT
)

111  
Ál£
;

112 #ifde‡
RH_ATTACHINTERRUPT_TAKES_PIN_NUMBER


113 
öãºu±Numbî
 = 
_öãºu±Pö
;

119 
_devi˚Ty≥
 = 
	`•iRód
(
RH_RF69_REG_10_VERSION
);

120 i‡(
_devi˚Ty≥
 == 00 ||

121 
_devi˚Ty≥
 == 0xff)

122  
Ál£
;

127 
	`pöMode
(
_öãºu±Pö
, 
INPUT
);

135 i‡(
_myI¡îru±Index
 == 0xff)

138 i‡(
_öãºu±Cou¡
 <
RH_RF69_NUM_INTERRUPTS
)

139 
_myI¡îru±Index
 = 
_öãºu±Cou¡
++;

141  
Ál£
;

143 
_devi˚F‹I¡îru±
[
_myI¡îru±Index
] = 
this
;

144 i‡(
_myI¡îru±Index
 == 0)

145 
	`©èchI¡îru±
(
öãºu±Numbî
, 
i§0
, 
RISING
);

146 i‡(
_myI¡îru±Index
 == 1)

147 
	`©èchI¡îru±
(
öãºu±Numbî
, 
i§1
, 
RISING
);

148 i‡(
_myI¡îru±Index
 == 2)

149 
	`©èchI¡îru±
(
öãºu±Numbî
, 
i§2
, 
RISING
);

151  
Ál£
;

153 
	`£tModeIdÀ
();

164 
	`•iWrôe
(
RH_RF69_REG_3C_FIFOTHRESH
, 
RH_RF69_FIFOTHRESH_TXSTARTCONDITION_NOTEMPTY
 | 0x0f);

172 
	`•iWrôe
(
RH_RF69_REG_6F_TESTDAGC
, 
RH_RF69_TESTDAGC_CONTINUOUSDAGC_IMPROVED_LOWBETAOFF
);

174 
	`•iWrôe
(
RH_RF69_REG_5A_TESTPA1
, 
RH_RF69_TESTPA1_NORMAL
);

175 
	`•iWrôe
(
RH_RF69_REG_5C_TESTPA2
, 
RH_RF69_TESTPA2_NORMAL
);

179 
uöt8_t
 
syncw‹ds
[] = { 0x2d, 0xd4 };

180 
	`£tSyncW‹ds
(
syncw‹ds
, (syncwords));

182 
	`£tModemC⁄fig
(
GFSK_Rb250Fd250
);

185 
	`£tPªambÀLígth
(4);

187 
	`£tFªquícy
(915.0);

189 
	`£tEn¸y±i⁄Key
(
NULL
);

191 
	`£tTxPowî
(13);

193  
åue
;

194 
	}
}

200 
	gRH_RF69
::
	$h™dÀI¡îru±
()

203 
uöt8_t
 
úqÊags2
 = 
	`•iRód
(
RH_RF69_REG_28_IRQFLAGS2
);

204 i‡(
_mode
 =
RHModeTx
 && (
úqÊags2
 & 
RH_RF69_IRQFLAGS2_PACKETSENT
))

207 
	`£tModeIdÀ
();

208 
_txGood
++;

213 i‡(
_mode
 =
RHModeRx
 && (
úqÊags2
 & 
RH_RF69_IRQFLAGS2_PAYLOADREADY
))

216 
_œ°Rssi
 = -((
öt8_t
)(
	`•iRód
(
RH_RF69_REG_24_RSSIVALUE
) >> 1));

217 
_œ°PªambÀTime
 = 
	`mûlis
();

219 
	`£tModeIdÀ
();

221 
	`ªadFifo
();

224 
	}
}

230 
	gRH_RF69
::
	$ªadFifo
()

232 
ATOMIC_BLOCK_START
;

233 
	`digôÆWrôe
(
_¶aveSñe˘Pö
, 
LOW
);

234 
_•i
.
	`å™s„r
(
RH_RF69_REG_00_FIFO
);

235 
uöt8_t
 
∑ylﬂdÀn
 = 
_•i
.
	`å™s„r
(0);

236 i‡(
∑ylﬂdÀn
 <
RH_RF69_MAX_ENCRYPTABLE_PAYLOAD_LEN
 &&ÖaylﬂdÀ¿>
RH_RF69_HEADER_LEN
)

238 
_rxHódîTo
 = 
_•i
.
	`å™s„r
(0);

240 i‡(
_¥omiscuous
 ||

241 
_rxHódîTo
 =
_thisAddªss
 ||

242 
_rxHódîTo
 =
RH_BROADCAST_ADDRESS
)

245 
_rxHódîFrom
 = 
_•i
.
	`å™s„r
(0);

247 
_rxHódîFœgs
 = 
_•i
.
	`å™s„r
(0);

248 
ACK_RECEIVED
 = 
_rxHódîFœgs
 & 
RH_RF69_FLAG_SENDACK
;

249 
ACK_REQUESTED
 = 
_rxHódîFœgs
 & 
RH_RF69_FLAG_REQACK
;

251 
_bufLí
 = 0; _bufLí < (
∑ylﬂdÀn
 - 
RH_RF69_HEADER_LEN
); _bufLen++)

252 
_buf
[
_bufLí
] = 
_•i
.
	`å™s„r
(0);

253 
_rxGood
++;

254 
_rxBufVÆid
 = 
åue
;

257 
	`digôÆWrôe
(
_¶aveSñe˘Pö
, 
HIGH
);

258 
ATOMIC_BLOCK_END
;

260 
	}
}

265 
	gRH_RF69
::
	$i§0
()

267 i‡(
_devi˚F‹I¡îru±
[0])

268 
_devi˚F‹I¡îru±
[0]->
	`h™dÀI¡îru±
();

269 
	}
}

270 
	gRH_RF69
::
	$i§1
()

272 i‡(
_devi˚F‹I¡îru±
[1])

273 
_devi˚F‹I¡îru±
[1]->
	`h™dÀI¡îru±
();

274 
	}
}

275 
	gRH_RF69
::
	$i§2
()

277 i‡(
_devi˚F‹I¡îru±
[2])

278 
_devi˚F‹I¡îru±
[2]->
	`h™dÀI¡îru±
();

279 
	}
}

281 
öt8_t
 
	gRH_RF69
::
	$ãm≥øtuªRód
()

285 
	`•iWrôe
(
RH_RF69_REG_4E_TEMP1
, 
RH_RF69_TEMP1_TEMPMEASSTART
);

286 
	`•iRód
(
RH_RF69_REG_4E_TEMP1
Ë& 
RH_RF69_TEMP1_TEMPMEASRUNNING
)

288  166 - 
	`•iRód
(
RH_RF69_REG_4F_TEMP2
);

289 
	}
}

291 
boﬁ
 
	gRH_RF69
::
	$£tFªquícy
(
˚¡ª
, 
afcPuŒInR™ge
)

294 
uöt32_t
 
‰f
 = (uöt32_t)((
˚¡ª
 * 1000000.0Ë/ 
RH_RF69_FSTEP
);

295 
	`•iWrôe
(
RH_RF69_REG_07_FRFMSB
, (
‰f
 >> 16) & 0xff);

296 
	`•iWrôe
(
RH_RF69_REG_08_FRFMID
, (
‰f
 >> 8) & 0xff);

297 
	`•iWrôe
(
RH_RF69_REG_09_FRFLSB
, 
‰f
 & 0xff);

300  
åue
;

301 
	}
}

303 
öt8_t
 
	gRH_RF69
::
	$rssiRód
()

308 
	`•iWrôe
(
RH_RF69_REG_23_RSSICONFIG
, 
RH_RF69_RSSICONFIG_RSSISTART
);

309 !(
	`•iRód
(
RH_RF69_REG_23_RSSICONFIG
Ë& 
RH_RF69_RSSICONFIG_RSSIDONE
))

312  -((
öt8_t
)(
	`•iRód
(
RH_RF69_REG_24_RSSIVALUE
) >> 1));

313 
	}
}

315 
	gRH_RF69
::
	$£tOpMode
(
uöt8_t
 
mode
)

317 
uöt8_t
 
›mode
 = 
	`•iRód
(
RH_RF69_REG_01_OPMODE
);

318 
›mode
 &~
RH_RF69_OPMODE_MODE
;

319 
›mode
 |(
mode
 & 
RH_RF69_OPMODE_MODE
);

320 
	`•iWrôe
(
RH_RF69_REG_01_OPMODE
, 
›mode
);

323 !(
	`•iRód
(
RH_RF69_REG_27_IRQFLAGS1
Ë& 
RH_RF69_IRQFLAGS1_MODEREADY
))

325 
	}
}

327 
	gRH_RF69
::
	$£tModeIdÀ
()

329 i‡(
_mode
 !
RHModeIdÀ
)

331 i‡(
_powî
 >= 18)

334 
	`•iWrôe
(
RH_RF69_REG_5A_TESTPA1
, 
RH_RF69_TESTPA1_NORMAL
);

335 
	`•iWrôe
(
RH_RF69_REG_5C_TESTPA2
, 
RH_RF69_TESTPA2_NORMAL
);

337 
	`£tOpMode
(
_idÀMode
);

338 
_mode
 = 
RHModeIdÀ
;

340 
	}
}

342 
boﬁ
 
	gRH_RF69
::
	$¶ìp
()

344 i‡(
_mode
 !
RHModeSÀï
)

346 
	`•iWrôe
(
RH_RF69_REG_01_OPMODE
, 
RH_RF69_OPMODE_MODE_SLEEP
);

347 
_mode
 = 
RHModeSÀï
;

349  
åue
;

350 
	}
}

352 
	gRH_RF69
::
	$£tModeRx
()

354 i‡(
_mode
 !
RHModeRx
)

356 i‡(
_powî
 >= 18)

359 
	`•iWrôe
(
RH_RF69_REG_5A_TESTPA1
, 
RH_RF69_TESTPA1_NORMAL
);

360 
	`•iWrôe
(
RH_RF69_REG_5C_TESTPA2
, 
RH_RF69_TESTPA2_NORMAL
);

362 
	`•iWrôe
(
RH_RF69_REG_25_DIOMAPPING1
, 
RH_RF69_DIOMAPPING1_DIO0MAPPING_01
);

363 
	`£tOpMode
(
RH_RF69_OPMODE_MODE_RX
);

364 
_mode
 = 
RHModeRx
;

366 
	}
}

368 
	gRH_RF69
::
	$£tModeTx
()

370 i‡(
_mode
 !
RHModeTx
)

372 i‡(
_powî
 >= 18)

376 
	`•iWrôe
(
RH_RF69_REG_5A_TESTPA1
, 
RH_RF69_TESTPA1_BOOST
);

377 
	`•iWrôe
(
RH_RF69_REG_5C_TESTPA2
, 
RH_RF69_TESTPA2_BOOST
);

379 
	`•iWrôe
(
RH_RF69_REG_25_DIOMAPPING1
, 
RH_RF69_DIOMAPPING1_DIO0MAPPING_00
);

380 
	`£tOpMode
(
RH_RF69_OPMODE_MODE_TX
);

381 
_mode
 = 
RHModeTx
;

383 
	}
}

385 
	gRH_RF69
::
	$£tTxPowî
(
öt8_t
 
powî
, 
boﬁ
 
ishighpowîmoduÀ
)

387 
_powî
 = 
powî
;

388 
uöt8_t
 
∑Àvñ
;

390 i‡(
ishighpowîmoduÀ
)

392 i‡(
_powî
 < -2)

393 
_powî
 = -2;

394 i‡(
_powî
 <= 13)

398 
∑Àvñ
 = 
RH_RF69_PALEVEL_PA1ON
 | ((
_powî
 + 18) &

399 
RH_RF69_PALEVEL_OUTPUTPOWER
);

401 i‡(
_powî
 >= 18)

406 
∑Àvñ
 = 
RH_RF69_PALEVEL_PA1ON


407 | 
RH_RF69_PALEVEL_PA2ON


408 | ((
_powî
 + 11Ë& 
RH_RF69_PALEVEL_OUTPUTPOWER
);

414 
∑Àvñ
 = 
RH_RF69_PALEVEL_PA1ON


415 | 
RH_RF69_PALEVEL_PA2ON


416 | ((
_powî
 + 14Ë& 
RH_RF69_PALEVEL_OUTPUTPOWER
);

421 i‡(
_powî
 < -18) _power = -18;

422 i‡(
_powî
 > 13) _power = 13;

423 
∑Àvñ
 = 
RH_RF69_PALEVEL_PA0ON


424 | ((
_powî
 + 18Ë& 
RH_RF69_PALEVEL_OUTPUTPOWER
);

426 
	`•iWrôe
(
RH_RF69_REG_11_PALEVEL
, 
∑Àvñ
);

427 
	}
}

430 
	gRH_RF69
::
	$£tModemRegi°îs
(c⁄° 
ModemC⁄fig
* 
c⁄fig
)

432 
	`•iBur°Wrôe
(
RH_RF69_REG_02_DATAMODUL
, &
c⁄fig
->
ªg_02
, 5);

433 
	`•iBur°Wrôe
(
RH_RF69_REG_19_RXBW
, &
c⁄fig
->
ªg_19
, 2);

434 
	`•iWrôe
(
RH_RF69_REG_37_PACKETCONFIG1
, 
c⁄fig
->
ªg_37
);

435 
	}
}

439 
boﬁ
 
	gRH_RF69
::
	$£tModemC⁄fig
(
ModemC⁄figChoi˚
 
ödex
)

441 i‡(
ödex
 > (sig√d )((
MODEM_CONFIG_TABLE
Ë/ (
ModemC⁄fig
)))

442  
Ál£
;

444 
ModemC⁄fig
 
cfg
;

445 
	`mem˝y_P
(&
cfg
, &
MODEM_CONFIG_TABLE
[
ödex
], (
RH_RF69
::
ModemC⁄fig
));

446 
	`£tModemRegi°îs
(&
cfg
);

448  
åue
;

449 
	}
}

451 
	gRH_RF69
::
	$£tPªambÀLígth
(
uöt16_t
 
byãs
)

453 
	`•iWrôe
(
RH_RF69_REG_2C_PREAMBLEMSB
, 
byãs
 >> 8);

454 
	`•iWrôe
(
RH_RF69_REG_2D_PREAMBLELSB
, 
byãs
 & 0xff);

455 
	}
}

457 
	gRH_RF69
::
	$£tSyncW‹ds
(c⁄° 
uöt8_t
* 
syncW‹ds
, uöt8_à
Àn
)

459 
uöt8_t
 
syncc⁄fig
 = 
	`•iRód
(
RH_RF69_REG_2E_SYNCCONFIG
);

460 i‡(
syncW‹ds
 && 
Àn
 &&Üen <= 4)

462 
	`•iBur°Wrôe
(
RH_RF69_REG_2F_SYNCVALUE1
, 
syncW‹ds
, 
Àn
);

463 
syncc⁄fig
 |
RH_RF69_SYNCCONFIG_SYNCON
;

466 
syncc⁄fig
 &~
RH_RF69_SYNCCONFIG_SYNCON
;

467 
syncc⁄fig
 &~
RH_RF69_SYNCCONFIG_SYNCSIZE
;

468 
syncc⁄fig
 |(
Àn
-1) << 3;

469 
	`•iWrôe
(
RH_RF69_REG_2E_SYNCCONFIG
, 
syncc⁄fig
);

470 
	}
}

472 
	gRH_RF69
::
	$£tEn¸y±i⁄Key
(
uöt8_t
* 
key
)

474 i‡(
key
)

476 
	`•iBur°Wrôe
(
RH_RF69_REG_3E_AESKEY1
, 
key
, 16);

477 
	`•iWrôe
(
RH_RF69_REG_3D_PACKETCONFIG2
, 
	`•iRód
(RH_RF69_REG_3D_PACKETCONFIG2Ë| 
RH_RF69_PACKETCONFIG2_AESON
);

481 
	`•iWrôe
(
RH_RF69_REG_3D_PACKETCONFIG2
, 
	`•iRód
(RH_RF69_REG_3D_PACKETCONFIG2Ë& ~
RH_RF69_PACKETCONFIG2_AESON
);

483 
	}
}

485 
boﬁ
 
	gRH_RF69
::
	$avaûabÀ
()

487 i‡(
_mode
 =
RHModeTx
)

488  
Ál£
;

489 
	`£tModeRx
();

490  
_rxBufVÆid
;

491 
	}
}

493 
boﬁ
 
	gRH_RF69
::
	$ªcv
(
uöt8_t
* 
buf
, uöt8_t* 
Àn
)

495 i‡(!
	`avaûabÀ
())

496  
Ál£
;

498 i‡(
buf
 && 
Àn
)

500 
ATOMIC_BLOCK_START
;

501 i‡(*
Àn
 > 
_bufLí
)

502 *
Àn
 = 
_bufLí
;

503 
	`mem˝y
(
buf
, 
_buf
, *
Àn
);

504 
ATOMIC_BLOCK_END
;

506 
_rxBufVÆid
 = 
Ál£
;

508  
åue
;

509 
	}
}

511 
boﬁ
 
	gRH_RF69
::
	$√wSíd
(
uöt8_t
 
toAddªss
, c⁄° uöt8_t* 
d©a
, uöt8_à
Àn
)

513 i‡(
Àn
 > 
RH_RF69_MAX_MESSAGE_LEN
)

514  
Ál£
;

518 
	`£tModeIdÀ
();

520 i‡(!
	`waôCAD
())

521  
Ál£
;

523 
ATOMIC_BLOCK_START
;

524 
	`digôÆWrôe
(
_¶aveSñe˘Pö
, 
LOW
);

525 
_•i
.
	`å™s„r
(
RH_RF69_REG_00_FIFO
 | 
RH_RF69_SPI_WRITE_MASK
);

526 
_•i
.
	`å™s„r
(
Àn
 + 
RH_RF69_HEADER_LEN
);

528 
_•i
.
	`å™s„r
(
toAddªss
);

529 
_•i
.
	`å™s„r
(
_thisAddªss
);

531 
_•i
.
	`å™s„r
(
_txHódîFœgs
);

533 
Àn
--)

534 
_•i
.
	`å™s„r
(*
d©a
++);

535 
	`digôÆWrôe
(
_¶aveSñe˘Pö
, 
HIGH
);

536 
ATOMIC_BLOCK_END
;

538 
	`£tModeTx
();

539 
	`dñay
(1000);

540 
	`£tModeIdÀ
();

541  
åue
;

542 
	}
}

544 
uöt8_t
 
	gRH_RF69
::
	$maxMesßgeLígth
()

546  
RH_RF69_MAX_MESSAGE_LEN
;

547 
	}
}

549 
boﬁ
 
	gRH_RF69
::
	$¥ötRegi°î
(
uöt8_t
 
ªg
)

551 #ifde‡
RH_HAVE_SERIAL


552 
Sîül
.
	`¥öt
(
ªg
, 
HEX
);

553 
Sîül
.
	`¥öt
(" ");

554 
Sîül
.
	`¥öén
(
	`•iRód
(
ªg
), 
HEX
);

556  
åue
;

557 
	}
}

559 
boﬁ
 
	gRH_RF69
::
	$¥ötRegi°îs
()

561 
uöt8_t
 
i
;

562 
i
 = 0; i < 0x50; i++)

563 
	`¥ötRegi°î
(
i
);

565 
	`¥ötRegi°î
(
RH_RF69_REG_58_TESTLNA
);

566 
	`¥ötRegi°î
(
RH_RF69_REG_6F_TESTDAGC
);

567 
	`¥ötRegi°î
(
RH_RF69_REG_71_TESTAFC
);

569  
åue
;

570 
	}
}

572 
boﬁ
 
	gRH_RF69
::
	$ACKRe˚ived
(
uöt8_t
 
‰omNodeID
)

574 
uöt8_t
 
buf
[
	`maxMesßgeLígth
()];

575 
uöt8_t
 
Àn
;

576 i‡(
	`ªcv
(
buf
, &
Àn
))

577  (
	`hódîFrom
(Ë=
‰omNodeID
 || fromNodeID =
RH_BROADCAST_ADDRESS
Ë&& 
ACK_RECEIVED
;

578  
Ál£
;

579 
	}
}

581 
boﬁ
 
	gRH_RF69
::
	$ACKReque°ed
()

583  
ACK_REQUESTED
 && (
	`hódîFrom
(Ë!
RH_BROADCAST_ADDRESS
);

584 
	}
}

586 
	gRH_RF69
::
	$£ndACK
(c⁄° 
uöt8_t
 *
buf„r
, uöt8_à
buf„rSize
)

588 
	`£tHódîFœgs
(
RH_RF69_FLAG_SENDACK
, 0xff);

589 
	`√wSíd
(
	`hódîTo
(), 
buf„r
, 
buf„rSize
);

590 
ACK_REQUESTED
 = 0;

591 
	`£tHódîFœgs
(
RH_RF69_FLAG_REQACK
, 0xff);

592 
	}
}

594 
boﬁ
 
	gRH_RF69
::
	$£ndWôhRëry
(
uöt8_t
 
toAddªss
, c⁄° uöt8_t* 
buf„r
, uöt8_à
buf„rSize
, uöt8_à
ªåõs
, uöt8_à
ªåyWaôTime
) {

595 
uöt32_t
 
£¡Time
;

596 
uöt8_t
 
i
 = 0; i <
ªåõs
; i++)

598 
	`√wSíd
(
toAddªss
, 
buf„r
, 
buf„rSize
);

599 
£¡Time
 = 
	`mûlis
();

600 
	`mûlis
(Ë- 
£¡Time
 < 
ªåyWaôTime
)

602 i‡(
	`ACKRe˚ived
(
toAddªss
))

605  
åue
;

610  
Ál£
;

611 
	}
}

	@RH_RF69.h

9 #i‚de‡
RH_RF69_h


10 
	#RH_RF69_h


	)

12 
	~<RHGíîicSPI.h
>

13 
	~<RHSPIDrivî.h
>

16 
	#RH_RF69_FXOSC
 32000000.0

	)

19 
	#RH_RF69_FSTEP
 (
RH_RF69_FXOSC
 / 524288)

	)

23 
	#RH_RF69_NUM_INTERRUPTS
 3

	)

26 
	#RH_RF69_SPI_WRITE_MASK
 0x80

	)

29 
	#RH_RF69_FIFO_SIZE
 66

	)

32 
	#RH_RF69_MAX_ENCRYPTABLE_PAYLOAD_LEN
 64

	)

38 
	#RH_RF69_HEADER_LEN
 3

	)

46 #i‚de‡
RH_RF69_MAX_MESSAGE_LEN


47 
	#RH_RF69_MAX_MESSAGE_LEN
 (
RH_RF69_MAX_ENCRYPTABLE_PAYLOAD_LEN
 - 
RH_RF69_HEADER_LEN
)

	)

51 
	#RH_RF69_MODE_IDLE
 0

	)

52 
	#RH_RF69_MODE_RX
 1

	)

53 
	#RH_RF69_MODE_TX
 2

	)

56 
	#RH_RF69_DEFAULT_NODE_ADDRESS
 0

	)

59 
	#RH_RF69_FLAG_SENDACK
 0x80

	)

60 
	#RH_RF69_FLAG_REQACK
 0x40

	)

66 #ifde‡
RFM69_HW


67 
	#RH_RF69_DEFAULT_HIGHPOWER
 
åue


	)

69 
	#RH_RF69_DEFAULT_HIGHPOWER
 
Ál£


	)

73 
	#RH_RF69_REG_00_FIFO
 0x00

	)

74 
	#RH_RF69_REG_01_OPMODE
 0x01

	)

75 
	#RH_RF69_REG_02_DATAMODUL
 0x02

	)

76 
	#RH_RF69_REG_03_BITRATEMSB
 0x03

	)

77 
	#RH_RF69_REG_04_BITRATELSB
 0x04

	)

78 
	#RH_RF69_REG_05_FDEVMSB
 0x05

	)

79 
	#RH_RF69_REG_06_FDEVLSB
 0x06

	)

80 
	#RH_RF69_REG_07_FRFMSB
 0x07

	)

81 
	#RH_RF69_REG_08_FRFMID
 0x08

	)

82 
	#RH_RF69_REG_09_FRFLSB
 0x09

	)

83 
	#RH_RF69_REG_0A_OSC1
 0x0a

	)

84 
	#RH_RF69_REG_0B_AFCCTRL
 0x0b

	)

85 
	#RH_RF69_REG_0C_RESERVED
 0x0c

	)

86 
	#RH_RF69_REG_0D_LISTEN1
 0x0d

	)

87 
	#RH_RF69_REG_0E_LISTEN2
 0x0e

	)

88 
	#RH_RF69_REG_0F_LISTEN3
 0x0f

	)

89 
	#RH_RF69_REG_10_VERSION
 0x10

	)

90 
	#RH_RF69_REG_11_PALEVEL
 0x11

	)

91 
	#RH_RF69_REG_12_PARAMP
 0x12

	)

92 
	#RH_RF69_REG_13_OCP
 0x13

	)

93 
	#RH_RF69_REG_14_RESERVED
 0x14

	)

94 
	#RH_RF69_REG_15_RESERVED
 0x15

	)

95 
	#RH_RF69_REG_16_RESERVED
 0x16

	)

96 
	#RH_RF69_REG_17_RESERVED
 0x17

	)

97 
	#RH_RF69_REG_18_LNA
 0x18

	)

98 
	#RH_RF69_REG_19_RXBW
 0x19

	)

99 
	#RH_RF69_REG_1A_AFCBW
 0x1a

	)

100 
	#RH_RF69_REG_1B_OOKPEAK
 0x1b

	)

101 
	#RH_RF69_REG_1C_OOKAVG
 0x1c

	)

102 
	#RH_RF69_REG_1D_OOKFIX
 0x1d

	)

103 
	#RH_RF69_REG_1E_AFCFEI
 0x1e

	)

104 
	#RH_RF69_REG_1F_AFCMSB
 0x1f

	)

105 
	#RH_RF69_REG_20_AFCLSB
 0x20

	)

106 
	#RH_RF69_REG_21_FEIMSB
 0x21

	)

107 
	#RH_RF69_REG_22_FEILSB
 0x22

	)

108 
	#RH_RF69_REG_23_RSSICONFIG
 0x23

	)

109 
	#RH_RF69_REG_24_RSSIVALUE
 0x24

	)

110 
	#RH_RF69_REG_25_DIOMAPPING1
 0x25

	)

111 
	#RH_RF69_REG_26_DIOMAPPING2
 0x26

	)

112 
	#RH_RF69_REG_27_IRQFLAGS1
 0x27

	)

113 
	#RH_RF69_REG_28_IRQFLAGS2
 0x28

	)

114 
	#RH_RF69_REG_29_RSSITHRESH
 0x29

	)

115 
	#RH_RF69_REG_2A_RXTIMEOUT1
 0x2a

	)

116 
	#RH_RF69_REG_2B_RXTIMEOUT2
 0x2b

	)

117 
	#RH_RF69_REG_2C_PREAMBLEMSB
 0x2c

	)

118 
	#RH_RF69_REG_2D_PREAMBLELSB
 0x2d

	)

119 
	#RH_RF69_REG_2E_SYNCCONFIG
 0x2e

	)

120 
	#RH_RF69_REG_2F_SYNCVALUE1
 0x2f

	)

122 
	#RH_RF69_REG_37_PACKETCONFIG1
 0x37

	)

123 
	#RH_RF69_REG_38_PAYLOADLENGTH
 0x38

	)

124 
	#RH_RF69_REG_39_NODEADRS
 0x39

	)

125 
	#RH_RF69_REG_3A_BROADCASTADRS
 0x3a

	)

126 
	#RH_RF69_REG_3B_AUTOMODES
 0x3b

	)

127 
	#RH_RF69_REG_3C_FIFOTHRESH
 0x3c

	)

128 
	#RH_RF69_REG_3D_PACKETCONFIG2
 0x3d

	)

129 
	#RH_RF69_REG_3E_AESKEY1
 0x3e

	)

131 
	#RH_RF69_REG_4E_TEMP1
 0x4e

	)

132 
	#RH_RF69_REG_4F_TEMP2
 0x4f

	)

133 
	#RH_RF69_REG_58_TESTLNA
 0x58

	)

134 
	#RH_RF69_REG_5A_TESTPA1
 0x5a

	)

135 
	#RH_RF69_REG_5C_TESTPA2
 0x5c

	)

136 
	#RH_RF69_REG_6F_TESTDAGC
 0x6f

	)

137 
	#RH_RF69_REG_71_TESTAFC
 0x71

	)

143 
	#RH_RF69_OPMODE_SEQUENCEROFF
 0x80

	)

144 
	#RH_RF69_OPMODE_LISTENON
 0x40

	)

145 
	#RH_RF69_OPMODE_LISTENABORT
 0x20

	)

146 
	#RH_RF69_OPMODE_MODE
 0x1c

	)

147 
	#RH_RF69_OPMODE_MODE_SLEEP
 0x00

	)

148 
	#RH_RF69_OPMODE_MODE_STDBY
 0x04

	)

149 
	#RH_RF69_OPMODE_MODE_FS
 0x08

	)

150 
	#RH_RF69_OPMODE_MODE_TX
 0x0c

	)

151 
	#RH_RF69_OPMODE_MODE_RX
 0x10

	)

154 
	#RH_RF69_DATAMODUL_DATAMODE
 0x60

	)

155 
	#RH_RF69_DATAMODUL_DATAMODE_PACKET
 0x00

	)

156 
	#RH_RF69_DATAMODUL_DATAMODE_CONT_WITH_SYNC
 0x40

	)

157 
	#RH_RF69_DATAMODUL_DATAMODE_CONT_WITHOUT_SYNC
 0x60

	)

158 
	#RH_RF69_DATAMODUL_MODULATIONTYPE
 0x18

	)

159 
	#RH_RF69_DATAMODUL_MODULATIONTYPE_FSK
 0x00

	)

160 
	#RH_RF69_DATAMODUL_MODULATIONTYPE_OOK
 0x08

	)

161 
	#RH_RF69_DATAMODUL_MODULATIONSHAPING
 0x03

	)

162 
	#RH_RF69_DATAMODUL_MODULATIONSHAPING_FSK_NONE
 0x00

	)

163 
	#RH_RF69_DATAMODUL_MODULATIONSHAPING_FSK_BT1_0
 0x01

	)

164 
	#RH_RF69_DATAMODUL_MODULATIONSHAPING_FSK_BT0_5
 0x02

	)

165 
	#RH_RF69_DATAMODUL_MODULATIONSHAPING_FSK_BT0_3
 0x03

	)

166 
	#RH_RF69_DATAMODUL_MODULATIONSHAPING_OOK_NONE
 0x00

	)

167 
	#RH_RF69_DATAMODUL_MODULATIONSHAPING_OOK_BR
 0x01

	)

168 
	#RH_RF69_DATAMODUL_MODULATIONSHAPING_OOK_2BR
 0x02

	)

171 
	#RH_RF69_PALEVEL_PA0ON
 0x80

	)

172 
	#RH_RF69_PALEVEL_PA1ON
 0x40

	)

173 
	#RH_RF69_PALEVEL_PA2ON
 0x20

	)

174 
	#RH_RF69_PALEVEL_OUTPUTPOWER
 0x1f

	)

177 
	#RH_RF69_RSSICONFIG_RSSIDONE
 0x02

	)

178 
	#RH_RF69_RSSICONFIG_RSSISTART
 0x01

	)

181 
	#RH_RF69_DIOMAPPING1_DIO0MAPPING
 0xc0

	)

182 
	#RH_RF69_DIOMAPPING1_DIO0MAPPING_00
 0x00

	)

183 
	#RH_RF69_DIOMAPPING1_DIO0MAPPING_01
 0x40

	)

184 
	#RH_RF69_DIOMAPPING1_DIO0MAPPING_10
 0x80

	)

185 
	#RH_RF69_DIOMAPPING1_DIO0MAPPING_11
 0xc0

	)

187 
	#RH_RF69_DIOMAPPING1_DIO1MAPPING
 0x30

	)

188 
	#RH_RF69_DIOMAPPING1_DIO1MAPPING_00
 0x00

	)

189 
	#RH_RF69_DIOMAPPING1_DIO1MAPPING_01
 0x10

	)

190 
	#RH_RF69_DIOMAPPING1_DIO1MAPPING_10
 0x20

	)

191 
	#RH_RF69_DIOMAPPING1_DIO1MAPPING_11
 0x30

	)

193 
	#RH_RF69_DIOMAPPING1_DIO2MAPPING
 0x0c

	)

194 
	#RH_RF69_DIOMAPPING1_DIO2MAPPING_00
 0x00

	)

195 
	#RH_RF69_DIOMAPPING1_DIO2MAPPING_01
 0x04

	)

196 
	#RH_RF69_DIOMAPPING1_DIO2MAPPING_10
 0x08

	)

197 
	#RH_RF69_DIOMAPPING1_DIO2MAPPING_11
 0x0c

	)

199 
	#RH_RF69_DIOMAPPING1_DIO3MAPPING
 0x03

	)

200 
	#RH_RF69_DIOMAPPING1_DIO3MAPPING_00
 0x00

	)

201 
	#RH_RF69_DIOMAPPING1_DIO3MAPPING_01
 0x01

	)

202 
	#RH_RF69_DIOMAPPING1_DIO3MAPPING_10
 0x02

	)

203 
	#RH_RF69_DIOMAPPING1_DIO3MAPPING_11
 0x03

	)

206 
	#RH_RF69_DIOMAPPING2_DIO4MAPPING
 0xc0

	)

207 
	#RH_RF69_DIOMAPPING2_DIO4MAPPING_00
 0x00

	)

208 
	#RH_RF69_DIOMAPPING2_DIO4MAPPING_01
 0x40

	)

209 
	#RH_RF69_DIOMAPPING2_DIO4MAPPING_10
 0x80

	)

210 
	#RH_RF69_DIOMAPPING2_DIO4MAPPING_11
 0xc0

	)

212 
	#RH_RF69_DIOMAPPING2_DIO5MAPPING
 0x30

	)

213 
	#RH_RF69_DIOMAPPING2_DIO5MAPPING_00
 0x00

	)

214 
	#RH_RF69_DIOMAPPING2_DIO5MAPPING_01
 0x10

	)

215 
	#RH_RF69_DIOMAPPING2_DIO5MAPPING_10
 0x20

	)

216 
	#RH_RF69_DIOMAPPING2_DIO5MAPPING_11
 0x30

	)

218 
	#RH_RF69_DIOMAPPING2_CLKOUT
 0x07

	)

219 
	#RH_RF69_DIOMAPPING2_CLKOUT_FXOSC_
 0x00

	)

220 
	#RH_RF69_DIOMAPPING2_CLKOUT_FXOSC_2
 0x01

	)

221 
	#RH_RF69_DIOMAPPING2_CLKOUT_FXOSC_4
 0x02

	)

222 
	#RH_RF69_DIOMAPPING2_CLKOUT_FXOSC_8
 0x03

	)

223 
	#RH_RF69_DIOMAPPING2_CLKOUT_FXOSC_16
 0x04

	)

224 
	#RH_RF69_DIOMAPPING2_CLKOUT_FXOSC_32
 0x05

	)

225 
	#RH_RF69_DIOMAPPING2_CLKOUT_FXOSC_RC
 0x06

	)

226 
	#RH_RF69_DIOMAPPING2_CLKOUT_FXOSC_OFF
 0x07

	)

229 
	#RH_RF69_IRQFLAGS1_MODEREADY
 0x80

	)

230 
	#RH_RF69_IRQFLAGS1_RXREADY
 0x40

	)

231 
	#RH_RF69_IRQFLAGS1_TXREADY
 0x20

	)

232 
	#RH_RF69_IRQFLAGS1_PLLLOCK
 0x10

	)

233 
	#RH_RF69_IRQFLAGS1_RSSI
 0x08

	)

234 
	#RH_RF69_IRQFLAGS1_TIMEOUT
 0x04

	)

235 
	#RH_RF69_IRQFLAGS1_AUTOMODE
 0x02

	)

236 
	#RH_RF69_IRQFLAGS1_SYNADDRESSMATCH
 0x01

	)

239 
	#RH_RF69_IRQFLAGS2_FIFOFULL
 0x80

	)

240 
	#RH_RF69_IRQFLAGS2_FIFONOTEMPTY
 0x40

	)

241 
	#RH_RF69_IRQFLAGS2_FIFOLEVEL
 0x20

	)

242 
	#RH_RF69_IRQFLAGS2_FIFOOVERRUN
 0x10

	)

243 
	#RH_RF69_IRQFLAGS2_PACKETSENT
 0x08

	)

244 
	#RH_RF69_IRQFLAGS2_PAYLOADREADY
 0x04

	)

245 
	#RH_RF69_IRQFLAGS2_CRCOK
 0x02

	)

248 
	#RH_RF69_SYNCCONFIG_SYNCON
 0x80

	)

249 
	#RH_RF69_SYNCCONFIG_FIFOFILLCONDITION_MANUAL
 0x40

	)

250 
	#RH_RF69_SYNCCONFIG_SYNCSIZE
 0x38

	)

251 
	#RH_RF69_SYNCCONFIG_SYNCSIZE_1
 0x00

	)

252 
	#RH_RF69_SYNCCONFIG_SYNCSIZE_2
 0x08

	)

253 
	#RH_RF69_SYNCCONFIG_SYNCSIZE_3
 0x10

	)

254 
	#RH_RF69_SYNCCONFIG_SYNCSIZE_4
 0x18

	)

255 
	#RH_RF69_SYNCCONFIG_SYNCSIZE_5
 0x20

	)

256 
	#RH_RF69_SYNCCONFIG_SYNCSIZE_6
 0x28

	)

257 
	#RH_RF69_SYNCCONFIG_SYNCSIZE_7
 0x30

	)

258 
	#RH_RF69_SYNCCONFIG_SYNCSIZE_8
 0x38

	)

259 
	#RH_RF69_SYNCCONFIG_SYNCSIZE_SYNCTOL
 0x07

	)

262 
	#RH_RF69_PACKETCONFIG1_PACKETFORMAT_VARIABLE
 0x80

	)

263 
	#RH_RF69_PACKETCONFIG1_DCFREE
 0x60

	)

264 
	#RH_RF69_PACKETCONFIG1_DCFREE_NONE
 0x00

	)

265 
	#RH_RF69_PACKETCONFIG1_DCFREE_MANCHESTER
 0x20

	)

266 
	#RH_RF69_PACKETCONFIG1_DCFREE_WHITENING
 0x40

	)

267 
	#RH_RF69_PACKETCONFIG1_DCFREE_RESERVED
 0x60

	)

268 
	#RH_RF69_PACKETCONFIG1_CRC_ON
 0x10

	)

269 
	#RH_RF69_PACKETCONFIG1_CRCAUTOCLEAROFF
 0x08

	)

270 
	#RH_RF69_PACKETCONFIG1_ADDRESSFILTERING
 0x06

	)

271 
	#RH_RF69_PACKETCONFIG1_ADDRESSFILTERING_NONE
 0x00

	)

272 
	#RH_RF69_PACKETCONFIG1_ADDRESSFILTERING_NODE
 0x02

	)

273 
	#RH_RF69_PACKETCONFIG1_ADDRESSFILTERING_NODE_BC
 0x04

	)

274 
	#RH_RF69_PACKETCONFIG1_ADDRESSFILTERING_RESERVED
 0x06

	)

277 
	#RH_RF69_FIFOTHRESH_TXSTARTCONDITION_NOTEMPTY
 0x80

	)

278 
	#RH_RF69_FIFOTHRESH_FIFOTHRESHOLD
 0x7f

	)

281 
	#RH_RF69_PACKETCONFIG2_INTERPACKETRXDELAY
 0xf0

	)

282 
	#RH_RF69_PACKETCONFIG2_RESTARTRX
 0x04

	)

283 
	#RH_RF69_PACKETCONFIG2_AUTORXRESTARTON
 0x02

	)

284 
	#RH_RF69_PACKETCONFIG2_AESON
 0x01

	)

287 
	#RH_RF69_TEMP1_TEMPMEASSTART
 0x08

	)

288 
	#RH_RF69_TEMP1_TEMPMEASRUNNING
 0x04

	)

291 
	#RH_RF69_TESTPA1_NORMAL
 0x55

	)

292 
	#RH_RF69_TESTPA1_BOOST
 0x5d

	)

295 
	#RH_RF69_TESTPA2_NORMAL
 0x70

	)

296 
	#RH_RF69_TESTPA2_BOOST
 0x7c

	)

299 
	#RH_RF69_TESTDAGC_CONTINUOUSDAGC_NORMAL
 0x00

	)

300 
	#RH_RF69_TESTDAGC_CONTINUOUSDAGC_IMPROVED_LOWBETAON
 0x20

	)

301 
	#RH_RF69_TESTDAGC_CONTINUOUSDAGC_IMPROVED_LOWBETAOFF
 0x30

	)

304 
	#RH_RF69_HAVE_SERIAL


	)

305 vﬁ©ûê
uöt8_t
 
	gACK_REQUESTED
;

306 vﬁ©ûê
uöt8_t
 
	gACK_RECEIVED
;

675 ˛as†
	cRH_RF69
 : 
public
 
RHSPIDrivî


677 
public
:

688 
uöt8_t
 
ªg_02
;

689 
uöt8_t
 
	mªg_03
;

690 
uöt8_t
 
	mªg_04
;

691 
uöt8_t
 
	mªg_05
;

692 
uöt8_t
 
	mªg_06
;

693 
uöt8_t
 
	mªg_19
;

694 
uöt8_t
 
	mªg_1a
;

695 
uöt8_t
 
	mªg_37
;

696 } 
	tModemC⁄fig
;

708 
	gFSK_Rb2Fd5
 = 0,

709 
	gFSK_Rb2_4Fd4_8
,

710 
	gFSK_Rb4_8Fd9_6
,

711 
	gFSK_Rb9_6Fd19_2
,

712 
	gFSK_Rb19_2Fd38_4
,

713 
	gFSK_Rb38_4Fd76_8
,

714 
	gFSK_Rb57_6Fd120
,

715 
	gFSK_Rb125Fd125
,

716 
	gFSK_Rb250Fd250
,

717 
	gFSK_Rb55555Fd50
,

719 
	gGFSK_Rb2Fd5
,

720 
	gGFSK_Rb2_4Fd4_8
,

721 
	gGFSK_Rb4_8Fd9_6
,

722 
	gGFSK_Rb9_6Fd19_2
,

723 
	gGFSK_Rb19_2Fd38_4
,

724 
	gGFSK_Rb38_4Fd76_8
,

725 
	gGFSK_Rb57_6Fd120
,

726 
	gGFSK_Rb125Fd125
,

727 
	gGFSK_Rb250Fd250
,

728 
	gGFSK_Rb55555Fd50
,

730 
	gOOK_Rb1Bw1
,

731 
	gOOK_Rb1_2Bw75
,

732 
	gOOK_Rb2_4Bw4_8
,

733 
	gOOK_Rb4_8Bw9_6
,

734 
	gOOK_Rb9_6Bw19_2
,

735 
	gOOK_Rb19_2Bw38_4
,

736 
	gOOK_Rb32Bw64
,

739 } 
	tModemC⁄figChoi˚
;

760 
RH_RF69
(
uöt8_t
 
¶aveSñe˘Pö
 = 
SS
, uöt8_à
öãºu±Pö
 = 2, 
RHGíîicSPI
& 
•i
 = 
h¨dw¨e_•i
);

771 
boﬁ
 
öô
();

778 
öt8_t
 
ãm≥øtuªRód
();

786 
boﬁ
 
£tFªquícy
(
˚¡ª
, 
afcPuŒInR™ge
 = 0.05);

793 
öt8_t
 
rssiRód
();

799 
£tOpMode
(
uöt8_t
 
mode
);

803 
£tModeIdÀ
();

807 
£tModeRx
();

811 
£tModeTx
();

827 
£tTxPowî
(
öt8_t
 
powî
, 
boﬁ
 
ishighpowîmoduÀ
 = 
RH_RF69_DEFAULT_HIGHPOWER
);

833 
£tModemRegi°îs
(c⁄° 
ModemC⁄fig
* 
c⁄fig
);

839 
boﬁ
 
£tModemC⁄fig
(
ModemC⁄figChoi˚
 
ödex
);

845 
boﬁ
 
avaûabÀ
();

856 
boﬁ
 
ªcv
(
uöt8_t
* 
buf
, uöt8_t* 
Àn
);

864 
boﬁ
 
√wSíd
(
uöt8_t
 
toAddªss
, c⁄° uöt8_t* 
d©a
, uöt8_à
Àn
);

872 
£tPªambÀLígth
(
uöt16_t
 
byãs
);

883 
£tSyncW‹ds
(c⁄° 
uöt8_t
* 
syncW‹ds
 = 
NULL
, uöt8_à
Àn
 = 0);

890 
£tEn¸y±i⁄Key
(
uöt8_t
* 
key
 = 
NULL
);

894 
uöt32_t
 
gëLa°PªambÀTime
();

898 
uöt8_t
 
maxMesßgeLígth
();

904 
boﬁ
 
¥ötRegi°î
(
uöt8_t
 
ªg
);

910 
boﬁ
 
¥ötRegi°îs
();

919 
£tIdÀMode
(
uöt8_t
 
idÀMode
);

926 
vútuÆ
 
boﬁ
 
¶ìp
();

933 
uöt16_t
 
	$devi˚Ty≥
(Ë{ 
_devi˚Ty≥
;
	}
};

935 
boﬁ
 
ACKRe˚ived
(
uöt8_t
 
‰omNodeID
);

936 
boﬁ
 
ACKReque°ed
();

937 
£ndACK
(c⁄° 
uöt8_t
* 
buf„r
 = 0, uöt8_à
buf„rSize
=0);

938 
boﬁ
 
£ndWôhRëry
(
uöt8_t
 
toAddªss
, c⁄° uöt8_t* 
buf„r
, uöt8_à
buf„rSize
, uöt8_à
ªåõs
=2, uöt8_à
ªåyWaôTime
=40);

940 
	g¥Ÿe˘ed
:

944 
h™dÀI¡îru±
();

948 
ªadFifo
();

950 
	g¥Ÿe˘ed
:

952 
i§0
();

955 
i§1
();

958 
i§2
();

961 
RH_RF69
* 
	g_devi˚F‹I¡îru±
[];

964 
uöt8_t
 
	g_öãºu±Cou¡
;

967 
uöt8_t
 
	g_öãºu±Pö
;

971 
uöt8_t
 
	g_myI¡îru±Index
;

974 
uöt8_t
 
	g_idÀMode
;

977 
uöt8_t
 
	g_devi˚Ty≥
;

980 
öt8_t
 
	g_powî
;

983 vﬁ©ûê
uöt8_t
 
	g_bufLí
;

986 
uöt8_t
 
	g_buf
[
RH_RF69_MAX_MESSAGE_LEN
];

989 vﬁ©ûê
boﬁ
 
	g_rxBufVÆid
;

992 
uöt32_t
 
	g_œ°PªambÀTime
;

	@RH_RF95.cpp

6 
	~<RH_RF95.h
>

11 
RH_RF95
* 
	gRH_RF95
::
_devi˚F‹I¡îru±
[
RH_RF95_NUM_INTERRUPTS
] = {0, 0, 0};

12 
uöt8_t
 
	gRH_RF95
::
_öãºu±Cou¡
 = 0;

16 
PROGMEM
 c⁄° 
	gRH_RF95
::
ModemC⁄fig
 
MODEM_CONFIG_TABLE
[] =

26 
	gRH_RF95
::
	$RH_RF95
(
uöt8_t
 
¶aveSñe˘Pö
, uöt8_à
öãºu±Pö
, 
RHGíîicSPI
& 
•i
)

28 
	`RHSPIDrivî
(
¶aveSñe˘Pö
, 
•i
),

29 
	$_rxBufVÆid
(0)

31 
_öãºu±Pö
 = 
öãºu±Pö
;

32 
_myI¡îru±Index
 = 0xff;

33 
	}
}

35 
boﬁ
 
	gRH_RF95
::
	$öô
()

37 i‡(!
RHSPIDrivî
::
	`öô
())

38  
Ál£
;

41 
öãºu±Numbî
 = 
	`digôÆPöToI¡îru±
(
_öãºu±Pö
);

42 i‡(
öãºu±Numbî
 =
NOT_AN_INTERRUPT
)

43  
Ál£
;

44 #ifde‡
RH_ATTACHINTERRUPT_TAKES_PIN_NUMBER


45 
öãºu±Numbî
 = 
_öãºu±Pö
;

51 
	`•iWrôe
(
RH_RF95_REG_01_OP_MODE
, 
RH_RF95_MODE_SLEEP
 | 
RH_RF95_LONG_RANGE_MODE
);

52 
	`dñay
(10);

54 i‡(
	`•iRód
(
RH_RF95_REG_01_OP_MODE
Ë!(
RH_RF95_MODE_SLEEP
 | 
RH_RF95_LONG_RANGE_MODE
))

56 
Sîül
.
	`¥öén
(
	`•iRód
(
RH_RF95_REG_01_OP_MODE
), 
HEX
);

57  
Ál£
;

63 
	`pöMode
(
_öãºu±Pö
, 
INPUT
);

71 i‡(
_myI¡îru±Index
 == 0xff)

74 i‡(
_öãºu±Cou¡
 <
RH_RF95_NUM_INTERRUPTS
)

75 
_myI¡îru±Index
 = 
_öãºu±Cou¡
++;

77  
Ál£
;

79 
_devi˚F‹I¡îru±
[
_myI¡îru±Index
] = 
this
;

80 i‡(
_myI¡îru±Index
 == 0)

81 
	`©èchI¡îru±
(
öãºu±Numbî
, 
i§0
, 
RISING
);

82 i‡(
_myI¡îru±Index
 == 1)

83 
	`©èchI¡îru±
(
öãºu±Numbî
, 
i§1
, 
RISING
);

84 i‡(
_myI¡îru±Index
 == 2)

85 
	`©èchI¡îru±
(
öãºu±Numbî
, 
i§2
, 
RISING
);

87  
Ál£
;

92 
	`•iWrôe
(
RH_RF95_REG_0E_FIFO_TX_BASE_ADDR
, 0);

93 
	`•iWrôe
(
RH_RF95_REG_0F_FIFO_RX_BASE_ADDR
, 0);

101 
	`£tModeIdÀ
();

105 
	`£tModemC⁄fig
(
Bw125Cr45Sf128
);

107 
	`£tPªambÀLígth
(8);

109 
	`£tFªquícy
(434.0);

111 
	`£tTxPowî
(13);

113  
åue
;

114 
	}
}

121 
	gRH_RF95
::
	$h™dÀI¡îru±
()

124 
uöt8_t
 
úq_Êags
 = 
	`•iRód
(
RH_RF95_REG_12_IRQ_FLAGS
);

125 i‡(
_mode
 =
RHModeRx
 && 
úq_Êags
 & (
RH_RF95_RX_TIMEOUT
 | 
RH_RF95_PAYLOAD_CRC_ERROR
))

127 
_rxBad
++;

129 i‡(
_mode
 =
RHModeRx
 && 
úq_Êags
 & 
RH_RF95_RX_DONE
)

132 
uöt8_t
 
Àn
 = 
	`•iRód
(
RH_RF95_REG_13_RX_NB_BYTES
);

135 
	`•iWrôe
(
RH_RF95_REG_0D_FIFO_ADDR_PTR
, 
	`•iRód
(
RH_RF95_REG_10_FIFO_RX_CURRENT_ADDR
));

136 
	`•iBur°Ród
(
RH_RF95_REG_00_FIFO
, 
_buf
, 
Àn
);

137 
_bufLí
 = 
Àn
;

138 
	`•iWrôe
(
RH_RF95_REG_12_IRQ_FLAGS
, 0xff);

142 
_œ°SNR
 = (
öt8_t
)
	`•iRód
(
RH_RF95_REG_19_PKT_SNR_VALUE
) / 4;

147 
_œ°Rssi
 = 
	`•iRód
(
RH_RF95_REG_1A_PKT_RSSI_VALUE
);

149 i‡(
_œ°SNR
 < 0)

150 
_œ°Rssi
 = _œ°Rssò+ 
_œ°SNR
;

152 
_œ°Rssi
 = ()_lastRssi * 16 / 15;

153 i‡(
_usögHFp‹t
)

154 
_œ°Rssi
 -= 157;

156 
_œ°Rssi
 -= 164;

159 
	`vÆid©eRxBuf
();

160 i‡(
_rxBufVÆid
)

161 
	`£tModeIdÀ
();

163 i‡(
_mode
 =
RHModeTx
 && 
úq_Êags
 & 
RH_RF95_TX_DONE
)

165 
_txGood
++;

166 
	`£tModeIdÀ
();

168 i‡(
_mode
 =
RHModeCad
 && 
úq_Êags
 & 
RH_RF95_CAD_DONE
)

170 
_ˇd
 = 
úq_Êags
 & 
RH_RF95_CAD_DETECTED
;

171 
	`£tModeIdÀ
();

174 
	`•iWrôe
(
RH_RF95_REG_12_IRQ_FLAGS
, 0xff);

175 
	}
}

180 
	gRH_RF95
::
	$i§0
()

182 i‡(
_devi˚F‹I¡îru±
[0])

183 
_devi˚F‹I¡îru±
[0]->
	`h™dÀI¡îru±
();

184 
	}
}

185 
	gRH_RF95
::
	$i§1
()

187 i‡(
_devi˚F‹I¡îru±
[1])

188 
_devi˚F‹I¡îru±
[1]->
	`h™dÀI¡îru±
();

189 
	}
}

190 
	gRH_RF95
::
	$i§2
()

192 i‡(
_devi˚F‹I¡îru±
[2])

193 
_devi˚F‹I¡îru±
[2]->
	`h™dÀI¡îru±
();

194 
	}
}

197 
	gRH_RF95
::
	$vÆid©eRxBuf
()

199 i‡(
_bufLí
 < 4)

202 
_rxHódîTo
 = 
_buf
[0];

203 
_rxHódîFrom
 = 
_buf
[1];

204 
_rxHódîId
 = 
_buf
[2];

205 
_rxHódîFœgs
 = 
_buf
[3];

206 i‡(
_¥omiscuous
 ||

207 
_rxHódîTo
 =
_thisAddªss
 ||

208 
_rxHódîTo
 =
RH_BROADCAST_ADDRESS
)

210 
_rxGood
++;

211 
_rxBufVÆid
 = 
åue
;

213 
	}
}

215 
boﬁ
 
	gRH_RF95
::
	$avaûabÀ
()

217 i‡(
_mode
 =
RHModeTx
)

218  
Ál£
;

219 
	`£tModeRx
();

220  
_rxBufVÆid
;

221 
	}
}

223 
	gRH_RF95
::
	$˛órRxBuf
()

225 
ATOMIC_BLOCK_START
;

226 
_rxBufVÆid
 = 
Ál£
;

227 
_bufLí
 = 0;

228 
ATOMIC_BLOCK_END
;

229 
	}
}

231 
boﬁ
 
	gRH_RF95
::
	$ªcv
(
uöt8_t
* 
buf
, uöt8_t* 
Àn
)

233 i‡(!
	`avaûabÀ
())

234  
Ál£
;

235 i‡(
buf
 && 
Àn
)

237 
ATOMIC_BLOCK_START
;

239 i‡(*
Àn
 > 
_bufLí
-
RH_RF95_HEADER_LEN
)

240 *
Àn
 = 
_bufLí
-
RH_RF95_HEADER_LEN
;

241 
	`mem˝y
(
buf
, 
_buf
+
RH_RF95_HEADER_LEN
, *
Àn
);

242 
ATOMIC_BLOCK_END
;

244 
	`˛órRxBuf
();

245  
åue
;

246 
	}
}

248 
boﬁ
 
	gRH_RF95
::
	$£nd
(c⁄° 
uöt8_t
* 
d©a
, uöt8_à
Àn
)

250 i‡(
Àn
 > 
RH_RF95_MAX_MESSAGE_LEN
)

251  
Ál£
;

253 
	`waôPackëSít
();

254 
	`£tModeIdÀ
();

256 i‡(!
	`waôCAD
())

257  
Ál£
;

260 
	`•iWrôe
(
RH_RF95_REG_0D_FIFO_ADDR_PTR
, 0);

262 
	`•iWrôe
(
RH_RF95_REG_00_FIFO
, 
_txHódîTo
);

263 
	`•iWrôe
(
RH_RF95_REG_00_FIFO
, 
_txHódîFrom
);

264 
	`•iWrôe
(
RH_RF95_REG_00_FIFO
, 
_txHódîId
);

265 
	`•iWrôe
(
RH_RF95_REG_00_FIFO
, 
_txHódîFœgs
);

267 
	`•iBur°Wrôe
(
RH_RF95_REG_00_FIFO
, 
d©a
, 
Àn
);

268 
	`•iWrôe
(
RH_RF95_REG_22_PAYLOAD_LENGTH
, 
Àn
 + 
RH_RF95_HEADER_LEN
);

270 
	`£tModeTx
();

272  
åue
;

273 
	}
}

275 
boﬁ
 
	gRH_RF95
::
	$¥ötRegi°îs
()

277 #ifde‡
RH_HAVE_SERIAL


278 
uöt8_t
 
ªgi°îs
[] = { 0x01, 0x06, 0x07, 0x08, 0x09, 0x0a, 0x0b, 0x0c, 0x0d, 0x0e, 0x0f, 0x10, 0x11, 0x12, 0x13, 0x014, 0x15, 0x16, 0x17, 0x18, 0x19, 0x1a, 0x1b, 0x1c, 0x1d, 0x1e, 0x1f, 0x20, 0x21, 0x22, 0x23, 0x24, 0x25, 0x26, 0x27};

280 
uöt8_t
 
i
;

281 
i
 = 0; i < (
ªgi°îs
); i++)

283 
Sîül
.
	`¥öt
(
ªgi°îs
[
i
], 
HEX
);

284 
Sîül
.
	`¥öt
(": ");

285 
Sîül
.
	`¥öén
(
	`•iRód
(
ªgi°îs
[
i
]), 
HEX
);

288  
åue
;

289 
	}
}

291 
uöt8_t
 
	gRH_RF95
::
	$maxMesßgeLígth
()

293  
RH_RF95_MAX_MESSAGE_LEN
;

294 
	}
}

296 
boﬁ
 
	gRH_RF95
::
	$£tFªquícy
(
˚¡ª
)

299 
uöt32_t
 
‰f
 = (
˚¡ª
 * 1000000.0Ë/ 
RH_RF95_FSTEP
;

300 
	`•iWrôe
(
RH_RF95_REG_06_FRF_MSB
, (
‰f
 >> 16) & 0xff);

301 
	`•iWrôe
(
RH_RF95_REG_07_FRF_MID
, (
‰f
 >> 8) & 0xff);

302 
	`•iWrôe
(
RH_RF95_REG_08_FRF_LSB
, 
‰f
 & 0xff);

303 
_usögHFp‹t
 = (
˚¡ª
 >= 779.0);

305  
åue
;

306 
	}
}

308 
	gRH_RF95
::
	$£tModeIdÀ
()

310 i‡(
_mode
 !
RHModeIdÀ
)

312 
	`•iWrôe
(
RH_RF95_REG_01_OP_MODE
, 
RH_RF95_MODE_STDBY
);

313 
_mode
 = 
RHModeIdÀ
;

315 
	}
}

317 
boﬁ
 
	gRH_RF95
::
	$¶ìp
()

319 i‡(
_mode
 !
RHModeSÀï
)

321 
	`•iWrôe
(
RH_RF95_REG_01_OP_MODE
, 
RH_RF95_MODE_SLEEP
);

322 
_mode
 = 
RHModeSÀï
;

324  
åue
;

325 
	}
}

327 
	gRH_RF95
::
	$£tModeRx
()

329 i‡(
_mode
 !
RHModeRx
)

331 
	`•iWrôe
(
RH_RF95_REG_01_OP_MODE
, 
RH_RF95_MODE_RXCONTINUOUS
);

332 
	`•iWrôe
(
RH_RF95_REG_40_DIO_MAPPING1
, 0x00);

333 
_mode
 = 
RHModeRx
;

335 
	}
}

337 
	gRH_RF95
::
	$£tModeTx
()

339 i‡(
_mode
 !
RHModeTx
)

341 
	`•iWrôe
(
RH_RF95_REG_01_OP_MODE
, 
RH_RF95_MODE_TX
);

342 
	`•iWrôe
(
RH_RF95_REG_40_DIO_MAPPING1
, 0x40);

343 
_mode
 = 
RHModeTx
;

345 
	}
}

347 
	gRH_RF95
::
	$£tTxPowî
(
öt8_t
 
powî
, 
boﬁ
 
u£RFO
)

351 i‡(
u£RFO
)

353 i‡(
powî
 > 14)

354 
powî
 = 14;

355 i‡(
powî
 < -1)

356 
powî
 = -1;

357 
	`•iWrôe
(
RH_RF95_REG_09_PA_CONFIG
, 
RH_RF95_MAX_POWER
 | (
powî
 + 1));

361 i‡(
powî
 > 23)

362 
powî
 = 23;

363 i‡(
powî
 < 5)

364 
powî
 = 5;

369 i‡(
powî
 > 20)

371 
	`•iWrôe
(
RH_RF95_REG_4D_PA_DAC
, 
RH_RF95_PA_DAC_ENABLE
);

372 
powî
 -= 3;

376 
	`•iWrôe
(
RH_RF95_REG_4D_PA_DAC
, 
RH_RF95_PA_DAC_DISABLE
);

385 
	`•iWrôe
(
RH_RF95_REG_09_PA_CONFIG
, 
RH_RF95_PA_SELECT
 | (
powî
-5));

387 
	}
}

390 
	gRH_RF95
::
	$£tModemRegi°îs
(c⁄° 
ModemC⁄fig
* 
c⁄fig
)

392 
	`•iWrôe
(
RH_RF95_REG_1D_MODEM_CONFIG1
, 
c⁄fig
->
ªg_1d
);

393 
	`•iWrôe
(
RH_RF95_REG_1E_MODEM_CONFIG2
, 
c⁄fig
->
ªg_1e
);

394 
	`•iWrôe
(
RH_RF95_REG_26_MODEM_CONFIG3
, 
c⁄fig
->
ªg_26
);

395 
	}
}

399 
boﬁ
 
	gRH_RF95
::
	$£tModemC⁄fig
(
ModemC⁄figChoi˚
 
ödex
)

401 i‡(
ödex
 > (sig√d )((
MODEM_CONFIG_TABLE
Ë/ (
ModemC⁄fig
)))

402  
Ál£
;

404 
ModemC⁄fig
 
cfg
;

405 
	`mem˝y_P
(&
cfg
, &
MODEM_CONFIG_TABLE
[
ödex
], (
RH_RF95
::
ModemC⁄fig
));

406 
	`£tModemRegi°îs
(&
cfg
);

408  
åue
;

409 
	}
}

411 
	gRH_RF95
::
	$£tPªambÀLígth
(
uöt16_t
 
byãs
)

413 
	`•iWrôe
(
RH_RF95_REG_20_PREAMBLE_MSB
, 
byãs
 >> 8);

414 
	`•iWrôe
(
RH_RF95_REG_21_PREAMBLE_LSB
, 
byãs
 & 0xff);

415 
	}
}

417 
boﬁ
 
	gRH_RF95
::
	$isCh™√lA˘ive
()

420 i‡(
_mode
 !
RHModeCad
)

422 
	`•iWrôe
(
RH_RF95_REG_01_OP_MODE
, 
RH_RF95_MODE_CAD
);

423 
	`•iWrôe
(
RH_RF95_REG_40_DIO_MAPPING1
, 0x80);

424 
_mode
 = 
RHModeCad
;

427 
_mode
 =
RHModeCad
)

428 
YIELD
;

430  
_ˇd
;

431 
	}
}

433 
	gRH_RF95
::
	$íabÀTCXO
()

435 (
	`•iRód
(
RH_RF95_REG_4B_TCXO
Ë& 
RH_RF95_TCXO_TCXO_INPUT_ON
) != RH_RF95_TCXO_TCXO_INPUT_ON)

437 
	`¶ìp
();

438 
	`•iWrôe
(
RH_RF95_REG_4B_TCXO
, (
	`•iRód
(RH_RF95_REG_4B_TCXOË| 
RH_RF95_TCXO_TCXO_INPUT_ON
));

440 
	}
}

444 
	gRH_RF95
::
	$‰equícyEº‹
()

446 
öt32_t
 
‰eqîr‹
 = 0;

449 
‰eqîr‹
 = 
	`•iRód
(
RH_RF95_REG_28_FEI_MSB
) << 16;

450 
‰eqîr‹
 |
	`•iRód
(
RH_RF95_REG_29_FEI_MID
) << 8;

451 
‰eqîr‹
 |
	`•iRód
(
RH_RF95_REG_2A_FEI_LSB
);

453 i‡(
‰eqîr‹
 & 0x80000)

454 
‰eqîr‹
 |= 0xfff00000;

456 
îr‹
 = 0;

457 
bw_èb
[] = {7.8, 10.4, 15.6, 20.8, 31.25, 41.7, 62.5, 125, 250, 500};

458 
uöt8_t
 
bwödex
 = 
	`•iRód
(
RH_RF95_REG_1D_MODEM_CONFIG1
) >> 4;

459 i‡(
bwödex
 < ((
bw_èb
) / ()))

460 
îr‹
 = ()
‰eqîr‹
 * 
bw_èb
[
bwödex
] * (()(1L << 24Ë/ ()
RH_RF95_FXOSC
 / 500.0);

463  
îr‹
;

464 
	}
}

466 
	gRH_RF95
::
	$œ°SNR
()

468  
_œ°SNR
;

469 
	}
}

	@RH_RF95.h

12 #i‚de‡
RH_RF95_h


13 
	#RH_RF95_h


	)

15 
	~<RHSPIDrivî.h
>

19 
	#RH_RF95_NUM_INTERRUPTS
 3

	)

22 
	#RH_RF95_FIFO_SIZE
 255

	)

26 
	#RH_RF95_MAX_PAYLOAD_LEN
 
RH_RF95_FIFO_SIZE


	)

30 
	#RH_RF95_HEADER_LEN
 4

	)

35 #i‚de‡
RH_RF95_MAX_MESSAGE_LEN


36 
	#RH_RF95_MAX_MESSAGE_LEN
 (
RH_RF95_MAX_PAYLOAD_LEN
 - 
RH_RF95_HEADER_LEN
)

	)

40 
	#RH_RF95_FXOSC
 32000000.0

	)

43 
	#RH_RF95_FSTEP
 (
RH_RF95_FXOSC
 / 524288)

	)

47 
	#RH_RF95_REG_00_FIFO
 0x00

	)

48 
	#RH_RF95_REG_01_OP_MODE
 0x01

	)

49 
	#RH_RF95_REG_02_RESERVED
 0x02

	)

50 
	#RH_RF95_REG_03_RESERVED
 0x03

	)

51 
	#RH_RF95_REG_04_RESERVED
 0x04

	)

52 
	#RH_RF95_REG_05_RESERVED
 0x05

	)

53 
	#RH_RF95_REG_06_FRF_MSB
 0x06

	)

54 
	#RH_RF95_REG_07_FRF_MID
 0x07

	)

55 
	#RH_RF95_REG_08_FRF_LSB
 0x08

	)

56 
	#RH_RF95_REG_09_PA_CONFIG
 0x09

	)

57 
	#RH_RF95_REG_0A_PA_RAMP
 0x0a

	)

58 
	#RH_RF95_REG_0B_OCP
 0x0b

	)

59 
	#RH_RF95_REG_0C_LNA
 0x0c

	)

60 
	#RH_RF95_REG_0D_FIFO_ADDR_PTR
 0x0d

	)

61 
	#RH_RF95_REG_0E_FIFO_TX_BASE_ADDR
 0x0e

	)

62 
	#RH_RF95_REG_0F_FIFO_RX_BASE_ADDR
 0x0f

	)

63 
	#RH_RF95_REG_10_FIFO_RX_CURRENT_ADDR
 0x10

	)

64 
	#RH_RF95_REG_11_IRQ_FLAGS_MASK
 0x11

	)

65 
	#RH_RF95_REG_12_IRQ_FLAGS
 0x12

	)

66 
	#RH_RF95_REG_13_RX_NB_BYTES
 0x13

	)

67 
	#RH_RF95_REG_14_RX_HEADER_CNT_VALUE_MSB
 0x14

	)

68 
	#RH_RF95_REG_15_RX_HEADER_CNT_VALUE_LSB
 0x15

	)

69 
	#RH_RF95_REG_16_RX_PACKET_CNT_VALUE_MSB
 0x16

	)

70 
	#RH_RF95_REG_17_RX_PACKET_CNT_VALUE_LSB
 0x17

	)

71 
	#RH_RF95_REG_18_MODEM_STAT
 0x18

	)

72 
	#RH_RF95_REG_19_PKT_SNR_VALUE
 0x19

	)

73 
	#RH_RF95_REG_1A_PKT_RSSI_VALUE
 0x1a

	)

74 
	#RH_RF95_REG_1B_RSSI_VALUE
 0x1b

	)

75 
	#RH_RF95_REG_1C_HOP_CHANNEL
 0x1c

	)

76 
	#RH_RF95_REG_1D_MODEM_CONFIG1
 0x1d

	)

77 
	#RH_RF95_REG_1E_MODEM_CONFIG2
 0x1e

	)

78 
	#RH_RF95_REG_1F_SYMB_TIMEOUT_LSB
 0x1f

	)

79 
	#RH_RF95_REG_20_PREAMBLE_MSB
 0x20

	)

80 
	#RH_RF95_REG_21_PREAMBLE_LSB
 0x21

	)

81 
	#RH_RF95_REG_22_PAYLOAD_LENGTH
 0x22

	)

82 
	#RH_RF95_REG_23_MAX_PAYLOAD_LENGTH
 0x23

	)

83 
	#RH_RF95_REG_24_HOP_PERIOD
 0x24

	)

84 
	#RH_RF95_REG_25_FIFO_RX_BYTE_ADDR
 0x25

	)

85 
	#RH_RF95_REG_26_MODEM_CONFIG3
 0x26

	)

87 
	#RH_RF95_REG_27_PPM_CORRECTION
 0x27

	)

88 
	#RH_RF95_REG_28_FEI_MSB
 0x28

	)

89 
	#RH_RF95_REG_29_FEI_MID
 0x29

	)

90 
	#RH_RF95_REG_2A_FEI_LSB
 0x2a

	)

91 
	#RH_RF95_REG_2C_RSSI_WIDEBAND
 0x2c

	)

92 
	#RH_RF95_REG_31_DETECT_OPTIMIZ
 0x31

	)

93 
	#RH_RF95_REG_33_INVERT_IQ
 0x33

	)

94 
	#RH_RF95_REG_37_DETECTION_THRESHOLD
 0x37

	)

95 
	#RH_RF95_REG_39_SYNC_WORD
 0x39

	)

97 
	#RH_RF95_REG_40_DIO_MAPPING1
 0x40

	)

98 
	#RH_RF95_REG_41_DIO_MAPPING2
 0x41

	)

99 
	#RH_RF95_REG_42_VERSION
 0x42

	)

101 
	#RH_RF95_REG_4B_TCXO
 0x4b

	)

102 
	#RH_RF95_REG_4D_PA_DAC
 0x4d

	)

103 
	#RH_RF95_REG_5B_FORMER_TEMP
 0x5b

	)

104 
	#RH_RF95_REG_61_AGC_REF
 0x61

	)

105 
	#RH_RF95_REG_62_AGC_THRESH1
 0x62

	)

106 
	#RH_RF95_REG_63_AGC_THRESH2
 0x63

	)

107 
	#RH_RF95_REG_64_AGC_THRESH3
 0x64

	)

110 
	#RH_RF95_LONG_RANGE_MODE
 0x80

	)

111 
	#RH_RF95_ACCESS_SHARED_REG
 0x40

	)

112 
	#RH_RF95_LOW_FREQUENCY_MODE
 0x08

	)

113 
	#RH_RF95_MODE
 0x07

	)

114 
	#RH_RF95_MODE_SLEEP
 0x00

	)

115 
	#RH_RF95_MODE_STDBY
 0x01

	)

116 
	#RH_RF95_MODE_FSTX
 0x02

	)

117 
	#RH_RF95_MODE_TX
 0x03

	)

118 
	#RH_RF95_MODE_FSRX
 0x04

	)

119 
	#RH_RF95_MODE_RXCONTINUOUS
 0x05

	)

120 
	#RH_RF95_MODE_RXSINGLE
 0x06

	)

121 
	#RH_RF95_MODE_CAD
 0x07

	)

124 
	#RH_RF95_PA_SELECT
 0x80

	)

125 
	#RH_RF95_MAX_POWER
 0x70

	)

126 
	#RH_RF95_OUTPUT_POWER
 0x0f

	)

129 
	#RH_RF95_LOW_PN_TX_PLL_OFF
 0x10

	)

130 
	#RH_RF95_PA_RAMP
 0x0f

	)

131 
	#RH_RF95_PA_RAMP_3_4MS
 0x00

	)

132 
	#RH_RF95_PA_RAMP_2MS
 0x01

	)

133 
	#RH_RF95_PA_RAMP_1MS
 0x02

	)

134 
	#RH_RF95_PA_RAMP_500US
 0x03

	)

135 
	#RH_RF95_PA_RAMP_250US
 0x0

	)

136 
	#RH_RF95_PA_RAMP_125US
 0x05

	)

137 
	#RH_RF95_PA_RAMP_100US
 0x06

	)

138 
	#RH_RF95_PA_RAMP_62US
 0x07

	)

139 
	#RH_RF95_PA_RAMP_50US
 0x08

	)

140 
	#RH_RF95_PA_RAMP_40US
 0x09

	)

141 
	#RH_RF95_PA_RAMP_31US
 0x0a

	)

142 
	#RH_RF95_PA_RAMP_25US
 0x0b

	)

143 
	#RH_RF95_PA_RAMP_20US
 0x0c

	)

144 
	#RH_RF95_PA_RAMP_15US
 0x0d

	)

145 
	#RH_RF95_PA_RAMP_12US
 0x0e

	)

146 
	#RH_RF95_PA_RAMP_10US
 0x0f

	)

149 
	#RH_RF95_OCP_ON
 0x20

	)

150 
	#RH_RF95_OCP_TRIM
 0x1f

	)

153 
	#RH_RF95_LNA_GAIN
 0xe0

	)

154 
	#RH_RF95_LNA_GAIN_G1
 0x20

	)

155 
	#RH_RF95_LNA_GAIN_G2
 0x40

	)

156 
	#RH_RF95_LNA_GAIN_G3
 0x60

	)

157 
	#RH_RF95_LNA_GAIN_G4
 0x80

	)

158 
	#RH_RF95_LNA_GAIN_G5
 0xa0

	)

159 
	#RH_RF95_LNA_GAIN_G6
 0xc0

	)

160 
	#RH_RF95_LNA_BOOST_LF
 0x18

	)

161 
	#RH_RF95_LNA_BOOST_LF_DEFAULT
 0x00

	)

162 
	#RH_RF95_LNA_BOOST_HF
 0x03

	)

163 
	#RH_RF95_LNA_BOOST_HF_DEFAULT
 0x00

	)

164 
	#RH_RF95_LNA_BOOST_HF_150PC
 0x11

	)

167 
	#RH_RF95_RX_TIMEOUT_MASK
 0x80

	)

168 
	#RH_RF95_RX_DONE_MASK
 0x40

	)

169 
	#RH_RF95_PAYLOAD_CRC_ERROR_MASK
 0x20

	)

170 
	#RH_RF95_VALID_HEADER_MASK
 0x10

	)

171 
	#RH_RF95_TX_DONE_MASK
 0x08

	)

172 
	#RH_RF95_CAD_DONE_MASK
 0x04

	)

173 
	#RH_RF95_FHSS_CHANGE_CHANNEL_MASK
 0x02

	)

174 
	#RH_RF95_CAD_DETECTED_MASK
 0x01

	)

177 
	#RH_RF95_RX_TIMEOUT
 0x80

	)

178 
	#RH_RF95_RX_DONE
 0x40

	)

179 
	#RH_RF95_PAYLOAD_CRC_ERROR
 0x20

	)

180 
	#RH_RF95_VALID_HEADER
 0x10

	)

181 
	#RH_RF95_TX_DONE
 0x08

	)

182 
	#RH_RF95_CAD_DONE
 0x04

	)

183 
	#RH_RF95_FHSS_CHANGE_CHANNEL
 0x02

	)

184 
	#RH_RF95_CAD_DETECTED
 0x01

	)

187 
	#RH_RF95_RX_CODING_RATE
 0xe0

	)

188 
	#RH_RF95_MODEM_STATUS_CLEAR
 0x10

	)

189 
	#RH_RF95_MODEM_STATUS_HEADER_INFO_VALID
 0x08

	)

190 
	#RH_RF95_MODEM_STATUS_RX_ONGOING
 0x04

	)

191 
	#RH_RF95_MODEM_STATUS_SIGNAL_SYNCHRONIZED
 0x02

	)

192 
	#RH_RF95_MODEM_STATUS_SIGNAL_DETECTED
 0x01

	)

195 
	#RH_RF95_PLL_TIMEOUT
 0x80

	)

196 
	#RH_RF95_RX_PAYLOAD_CRC_IS_ON
 0x40

	)

197 
	#RH_RF95_FHSS_PRESENT_CHANNEL
 0x3f

	)

200 
	#RH_RF95_BW
 0xf0

	)

202 
	#RH_RF95_BW_7_8KHZ
 0x00

	)

203 
	#RH_RF95_BW_10_4KHZ
 0x10

	)

204 
	#RH_RF95_BW_15_6KHZ
 0x20

	)

205 
	#RH_RF95_BW_20_8KHZ
 0x30

	)

206 
	#RH_RF95_BW_31_25KHZ
 0x40

	)

207 
	#RH_RF95_BW_41_7KHZ
 0x50

	)

208 
	#RH_RF95_BW_62_5KHZ
 0x60

	)

209 
	#RH_RF95_BW_125KHZ
 0x70

	)

210 
	#RH_RF95_BW_250KHZ
 0x80

	)

211 
	#RH_RF95_BW_500KHZ
 0x90

	)

212 
	#RH_RF95_CODING_RATE
 0x0e

	)

213 
	#RH_RF95_CODING_RATE_4_5
 0x02

	)

214 
	#RH_RF95_CODING_RATE_4_6
 0x04

	)

215 
	#RH_RF95_CODING_RATE_4_7
 0x06

	)

216 
	#RH_RF95_CODING_RATE_4_8
 0x08

	)

217 
	#RH_RF95_IMPLICIT_HEADER_MODE_ON
 0x01

	)

220 
	#RH_RF95_SPREADING_FACTOR
 0xf0

	)

221 
	#RH_RF95_SPREADING_FACTOR_64CPS
 0x60

	)

222 
	#RH_RF95_SPREADING_FACTOR_128CPS
 0x70

	)

223 
	#RH_RF95_SPREADING_FACTOR_256CPS
 0x80

	)

224 
	#RH_RF95_SPREADING_FACTOR_512CPS
 0x90

	)

225 
	#RH_RF95_SPREADING_FACTOR_1024CPS
 0xa0

	)

226 
	#RH_RF95_SPREADING_FACTOR_2048CPS
 0xb0

	)

227 
	#RH_RF95_SPREADING_FACTOR_4096CPS
 0xc0

	)

228 
	#RH_RF95_TX_CONTINUOUS_MOE
 0x08

	)

230 
	#RH_RF95_PAYLOAD_CRC_ON
 0x04

	)

231 
	#RH_RF95_SYM_TIMEOUT_MSB
 0x03

	)

234 
	#RH_RF95_TCXO_TCXO_INPUT_ON
 0x10

	)

237 
	#RH_RF95_PA_DAC_DISABLE
 0x04

	)

238 
	#RH_RF95_PA_DAC_ENABLE
 0x07

	)

547 ˛as†
	cRH_RF95
 : 
public
 
RHSPIDrivî


549 
public
:

559 
uöt8_t
 
ªg_1d
;

560 
uöt8_t
 
	mªg_1e
;

561 
uöt8_t
 
	mªg_26
;

562 } 
	tModemC⁄fig
;

579 
	gBw125Cr45Sf128
 = 0,

580 
	gBw500Cr45Sf128
,

581 
	gBw31_25Cr48Sf512
,

582 
	gBw125Cr48Sf4096
,

583 } 
	tModemC⁄figChoi˚
;

604 
RH_RF95
(
uöt8_t
 
¶aveSñe˘Pö
 = 
SS
, uöt8_à
öãºu±Pö
 = 2, 
RHGíîicSPI
& 
•i
 = 
h¨dw¨e_•i
);

609 
vútuÆ
 
boﬁ
 
öô
();

615 
boﬁ
 
¥ötRegi°îs
();

621 
£tModemRegi°îs
(c⁄° 
ModemC⁄fig
* 
c⁄fig
);

627 
boﬁ
 
£tModemC⁄fig
(
ModemC⁄figChoi˚
 
ödex
);

635 
vútuÆ
 
boﬁ
 
avaûabÀ
();

646 
vútuÆ
 
boﬁ
 
ªcv
(
uöt8_t
* 
buf
, uöt8_t* 
Àn
);

658 
vútuÆ
 
boﬁ
 
£nd
(c⁄° 
uöt8_t
* 
d©a
, uöt8_à
Àn
);

666 
£tPªambÀLígth
(
uöt16_t
 
byãs
);

671 
vútuÆ
 
uöt8_t
 
maxMesßgeLígth
();

678 
boﬁ
 
£tFªquícy
(
˚¡ª
);

682 
£tModeIdÀ
();

686 
£tModeRx
();

690 
£tModeTx
();

711 
£tTxPowî
(
öt8_t
 
powî
, 
boﬁ
 
u£RFO
 = 
Ál£
);

718 
vútuÆ
 
boﬁ
 
¶ìp
();

727 
vútuÆ
 
boﬁ
 
isCh™√lA˘ive
();

736 
íabÀTCXO
();

747 
‰equícyEº‹
();

752 
œ°SNR
();

754 
	g¥Ÿe˘ed
:

758 
h™dÀI¡îru±
();

761 
vÆid©eRxBuf
();

764 
˛órRxBuf
();

766 
	g¥iv©e
:

768 
i§0
();

771 
i§1
();

774 
i§2
();

777 
RH_RF95
* 
	g_devi˚F‹I¡îru±
[];

780 
uöt8_t
 
	g_öãºu±Cou¡
;

783 
uöt8_t
 
	g_öãºu±Pö
;

787 
uöt8_t
 
	g_myI¡îru±Index
;

790 vﬁ©ûê
uöt8_t
 
	g_bufLí
;

793 
uöt8_t
 
	g_buf
[
RH_RF95_MAX_PAYLOAD_LEN
];

796 vﬁ©ûê
boﬁ
 
	g_rxBufVÆid
;

799 
boﬁ
 
	g_usögHFp‹t
;

802 
öt8_t
 
	g_œ°SNR
;

	@RH_Serial.cpp

6 
	~<RH_Sîül.h
>

7 #i‡(
RH_PLATFORM
 =
RH_PLATFORM_STM32F2
)

9 
	~<H¨dw¨eSîül.h
>

11 
	~<RHCRC.h
>

13 
	gRH_Sîül
::
	$RH_Sîül
(
H¨dw¨eSîül
& 
£rül
)

15 
	`_£rül
(
£rül
),

16 
	$_rxSèã
(
RxSèãInôülisög
)

18 
	}
}

20 
	gH¨dw¨eSîül
& 
	gRH_Sîül
::
	$£rül
()

22  
_£rül
;

23 
	}
}

25 
boﬁ
 
	gRH_Sîül
::
	$öô
()

27 i‡(!
RHGíîicDrivî
::
	`öô
())

28  
Ál£
;

29 
_rxSèã
 = 
RxSèãIdÀ
;

30  
åue
;

31 
	}
}

34 
boﬁ
 
	gRH_Sîül
::
	$avaûabÀ
()

36 !
_rxBufVÆid
 &&
_£rül
.
	`avaûabÀ
())

37 
	`h™dÀRx
(
_£rül
.
	`ªad
());

38  
_rxBufVÆid
;

39 
	}
}

41 
	gRH_Sîül
::
	$waôAvaûabÀ
()

43 #i‡(
RH_PLATFORM
 =
RH_PLATFORM_UNIX
)

45 !
	`avaûabÀ
())

46 
_£rül
.
	`waôAvaûabÀ
();

48 
RHGíîicDrivî
::
	`waôAvaûabÀ
();

50 
	}
}

52 
boﬁ
 
	gRH_Sîül
::
	$waôAvaûabÀTimeout
(
uöt16_t
 
timeout
)

54 #i‡(
RH_PLATFORM
 =
RH_PLATFORM_UNIX
)

56 
°¨âime
 = 
	`mûlis
();

57 (
	`mûlis
(Ë- 
°¨âime
Ë< 
timeout
)

59 
_£rül
.
	`waôAvaûabÀTimeout
(
timeout
 - (
	`mûlis
(Ë- 
°¨âime
));

60 i‡(
	`avaûabÀ
())

61  
åue
;

62 
YIELD
;

64  
Ál£
;

66  
RHGíîicDrivî
::
	`waôAvaûabÀTimeout
(
timeout
);

68 
	}
}

70 
	gRH_Sîül
::
	$h™dÀRx
(
uöt8_t
 
ch
)

73 
_rxSèã
)

75 
RxSèãIdÀ
:

77 i‡(
ch
 =
DLE
)

78 
_rxSèã
 = 
RxSèãDLE
;

82 
RxSèãDLE
:

84 i‡(
ch
 =
STX
)

86 
	`˛órRxBuf
();

87 
_rxSèã
 = 
RxSèãD©a
;

90 
_rxSèã
 = 
RxSèãIdÀ
;

94 
RxSèãD©a
:

96 i‡(
ch
 =
DLE
)

97 
_rxSèã
 = 
RxSèãEsˇ≥
;

99 
	`≠≥ndRxBuf
(
ch
);

103 
RxSèãEsˇ≥
:

105 i‡(
ch
 =
ETX
)

108 
_rxFcs
 = 
	`RH¸c_ccôt_upd©e
(_rxFcs, 
DLE
);

109 
_rxFcs
 = 
	`RH¸c_ccôt_upd©e
(_rxFcs, 
ETX
);

110 
_rxSèã
 = 
RxSèãWaôFCS1
;

112 i‡(
ch
 =
DLE
)

114 
	`≠≥ndRxBuf
(
ch
);

115 
_rxSèã
 = 
RxSèãD©a
;

118 
_rxSèã
 = 
RxSèãIdÀ
;

122 
RxSèãWaôFCS1
:

124 
_rxRecdFcs
 = 
ch
 << 8;

125 
_rxSèã
 = 
RxSèãWaôFCS2
;

129 
RxSèãWaôFCS2
:

131 
_rxRecdFcs
 |
ch
;

132 
_rxSèã
 = 
RxSèãIdÀ
;

133 
	`vÆid©eRxBuf
();

140 
	}
}

142 
	gRH_Sîül
::
	$˛órRxBuf
()

144 
_rxBufVÆid
 = 
Ál£
;

145 
_rxFcs
 = 0xffff;

146 
_rxBufLí
 = 0;

147 
	}
}

149 
	gRH_Sîül
::
	$≠≥ndRxBuf
(
uöt8_t
 
ch
)

151 i‡(
_rxBufLí
 < 
RH_SERIAL_MAX_PAYLOAD_LEN
)

154 
_rxBuf
[
_rxBufLí
++] = 
ch
;

155 
_rxFcs
 = 
	`RH¸c_ccôt_upd©e
(_rxFcs, 
ch
);

159 
	}
}

162 
	gRH_Sîül
::
	$vÆid©eRxBuf
()

164 i‡(
_rxRecdFcs
 !
_rxFcs
)

166 
_rxBad
++;

171 
_rxHódîTo
 = 
_rxBuf
[0];

172 
_rxHódîFrom
 = 
_rxBuf
[1];

173 
_rxHódîId
 = 
_rxBuf
[2];

174 
_rxHódîFœgs
 = 
_rxBuf
[3];

175 i‡(
_¥omiscuous
 ||

176 
_rxHódîTo
 =
_thisAddªss
 ||

177 
_rxHódîTo
 =
RH_BROADCAST_ADDRESS
)

179 
_rxGood
++;

180 
_rxBufVÆid
 = 
åue
;

182 
	}
}

184 
boﬁ
 
	gRH_Sîül
::
	$ªcv
(
uöt8_t
* 
buf
, uöt8_t* 
Àn
)

186 i‡(!
	`avaûabÀ
())

187  
Ál£
;

189 i‡(
buf
 && 
Àn
)

192 i‡(*
Àn
 > 
_rxBufLí
-
RH_SERIAL_HEADER_LEN
)

193 *
Àn
 = 
_rxBufLí
-
RH_SERIAL_HEADER_LEN
;

194 
	`mem˝y
(
buf
, 
_rxBuf
+
RH_SERIAL_HEADER_LEN
, *
Àn
);

196 
	`˛órRxBuf
();

197  
åue
;

198 
	}
}

201 
boﬁ
 
	gRH_Sîül
::
	$£nd
(c⁄° 
uöt8_t
* 
d©a
, uöt8_à
Àn
)

203 i‡(!
	`waôCAD
())

204  
Ál£
;

206 
_txFcs
 = 0xffff;

207 
_£rül
.
	`wrôe
(
DLE
);

208 
_£rül
.
	`wrôe
(
STX
);

210 
	`txD©a
(
_txHódîTo
);

211 
	`txD©a
(
_txHódîFrom
);

212 
	`txD©a
(
_txHódîId
);

213 
	`txD©a
(
_txHódîFœgs
);

215 
Àn
--)

216 
	`txD©a
(*
d©a
++);

218 
_£rül
.
	`wrôe
(
DLE
);

219 
_txFcs
 = 
	`RH¸c_ccôt_upd©e
(_txFcs, 
DLE
);

220 
_£rül
.
	`wrôe
(
ETX
);

221 
_txFcs
 = 
	`RH¸c_ccôt_upd©e
(_txFcs, 
ETX
);

224 
_£rül
.
	`wrôe
((
_txFcs
 >> 8) & 0xff);

225 
_£rül
.
	`wrôe
(
_txFcs
 & 0xff);

226  
åue
;

227 
	}
}

229 
	gRH_Sîül
::
	$txD©a
(
uöt8_t
 
ch
)

231 i‡(
ch
 =
DLE
)

232 
_£rül
.
	`wrôe
(
DLE
);

233 
_£rül
.
	`wrôe
(
ch
);

234 
_txFcs
 = 
	`RH¸c_ccôt_upd©e
(_txFcs, 
ch
);

235 
	}
}

237 
uöt8_t
 
	gRH_Sîül
::
	$maxMesßgeLígth
()

239  
RH_SERIAL_MAX_MESSAGE_LEN
;

240 
	}
}

	@RH_Serial.h

9 #i‚de‡
RH_Sîül_h


10 
	#RH_Sîül_h


	)

12 
	~<RHGíîicDrivî.h
>

15 
	#STX
 0x02

	)

16 
	#ETX
 0x03

	)

17 
	#DLE
 0x10

	)

18 
	#SYN
 0x16

	)

21 
	#RH_SERIAL_MAX_PAYLOAD_LEN
 64

	)

25 
	#RH_SERIAL_HEADER_LEN
 4

	)

32 #i‚de‡
RH_SERIAL_MAX_MESSAGE_LEN


33 
	#RH_SERIAL_MAX_MESSAGE_LEN
 (
RH_SERIAL_MAX_PAYLOAD_LEN
 - 
RH_SERIAL_HEADER_LEN
)

	)

36 #i‡(
RH_PLATFORM
 =
RH_PLATFORM_STM32F2
)

37 
	#H¨dw¨eSîül
 
USARTSîül


	)

40 
˛ass
 
	gH¨dw¨eSîül
;

141 ˛as†
	cRH_Sîül
 : 
public
 
RHGíîicDrivî


143 
public
:

148 
RH_Sîül
(
H¨dw¨eSîül
& 
£rül
);

152 
	mH¨dw¨eSîül
& 
£rül
();

157 
vútuÆ
 
boﬁ
 
öô
();

162 
vútuÆ
 
boﬁ
 
avaûabÀ
();

166 
vútuÆ
 
waôAvaûabÀ
();

172 
vútuÆ
 
boﬁ
 
waôAvaûabÀTimeout
(
uöt16_t
 
timeout
);

182 
vútuÆ
 
boﬁ
 
ªcv
(
uöt8_t
* 
buf
, uöt8_t* 
Àn
);

190 
vútuÆ
 
boﬁ
 
£nd
(c⁄° 
uöt8_t
* 
d©a
, uöt8_à
Àn
);

195 
vútuÆ
 
uöt8_t
 
maxMesßgeLígth
();

198 
	m¥Ÿe˘ed
:

202 
RxSèãInôülisög
 = 0,

203 
	mRxSèãIdÀ
,

204 
	mRxSèãDLE
,

205 
	mRxSèãD©a
,

206 
	mRxSèãEsˇ≥
,

207 
	mRxSèãWaôFCS1
,

208 
	mRxSèãWaôFCS2


209 } 
	tRxSèã
;

213 
h™dÀRx
(
uöt8_t
 
ch
);

216 
˛órRxBuf
();

219 
≠≥ndRxBuf
(
uöt8_t
 
ch
);

223 
vÆid©eRxBuf
();

227 
txD©a
(
uöt8_t
 
ch
);

230 
	gH¨dw¨eSîül
& 
	g_£rül
;

233 
RxSèã
 
	g_rxSèã
;

236 
uöt16_t
 
	g_rxFcs
;

239 
uöt16_t
 
	g_rxRecdFcs
;

242 
uöt8_t
 
	g_rxBuf
[
RH_SERIAL_MAX_PAYLOAD_LEN
];

245 
uöt8_t
 
	g_rxBufLí
;

248 
boﬁ
 
	g_rxBufVÆid
;

251 
uöt16_t
 
	g_txFcs
;

	@RH_TCP.cpp

6 
	~<RadioHód.h
>

9 #i‡(
RH_PLATFORM
 =
RH_PLATFORM_UNIX
)

11 
	~<RH_TCP.h
>

12 
	~<sys/ty≥s.h
>

13 
	~<î∫o.h
>

14 
	~<sys/sockë.h
>

15 
	~<√töë/ö.h
>

16 
	~<¨∑/öë.h
>

17 
	~<uni°d.h
>

18 
	~<sys/io˘l.h
>

19 
	~<√tdb.h
>

20 
	~<°rög
>

22 
	gRH_TCP
::
	$RH_TCP
(c⁄° * 
£rvî
)

23 : 
	`_£rvî
(
£rvî
),

24 
	`_rxBufLí
(0),

25 
	`_rxBufVÆid
(
Ál£
),

26 
	`_sockë
(-1)

28 
	}
}

30 
boﬁ
 
	gRH_TCP
::
	$öô
()

32 i‡(!
	`c⁄√˘ToSîvî
())

33  
Ál£
;

34  
	`£ndThisAddªss
(
_thisAddªss
);

35 
	}
}

37 
boﬁ
 
	gRH_TCP
::
	$c⁄√˘ToSîvî
()

39 
addröfo
 
höts
;

40 
addröfo
 *
ªsu…
, *
Ω
;

41 
sfd
, 
s
;

42 
sockaddr_°‹age
 
≥î_addr
;

43 
sockÀn_t
 
≥î_addr_Àn
;

45 
	`mem£t
(&
höts
, 0, (
addröfo
));

46 
höts
.
ai_Ámûy
 = 
AF_UNSPEC
;

47 
höts
.
ai_sockty≥
 = 
SOCK_STREAM
;

48 
höts
.
ai_Êags
 = 
AI_PASSIVE
;

49 
höts
.
ai_¥Ÿocﬁ
 = 0;

50 
höts
.
ai_ˇn⁄«me
 = 
NULL
;

51 
höts
.
ai_addr
 = 
NULL
;

52 
höts
.
ai_√xt
 = 
NULL
;

54 
°d
::
°rög
 
	`£rvî
(
_£rvî
);

55 
°d
::
°rög
 
	`p‹t
("4000");

56 
size_t
 
ödexOfSï¨©‹
 = 
£rvî
.
	`föd_fú°_of
(':');

57 i‡(
ödexOfSï¨©‹
 !
°d
::
°rög
::
≈os
)

59 
p‹t
 = 
£rvî
.
	`sub°r
(
ödexOfSï¨©‹
+1);

60 
£rvî
.
	`îa£
(
ödexOfSï¨©‹
);

63 
s
 = 
	`gëaddröfo
(
£rvî
.
	`c_°r
(), 
p‹t
.c_°r(), &
höts
, &
ªsu…
);

64 i‡(
s
 != 0)

66 
	`Ârötf
(
°dîr
, "RH_TCP::c⁄√˘ gëaddröfÿÁûed: %s\n", 
	`gai_°ªº‹
(
s
));

67  
Ál£
;

75 
Ω
 = 
ªsu…
;Ñ∞!
NULL
;Ñ∞Ω->
ai_√xt
)

77 
_sockë
 = 
	`sockë
(
Ω
->
ai_Ámûy
,Ñp->
ai_sockty≥
,Ñp->
ai_¥Ÿocﬁ
);

78 i‡(
_sockë
 == -1)

81 i‡(
	`c⁄√˘
(
_sockë
, 
Ω
->
ai_addr
,Ñp->
ai_addæí
) == 0)

84 
	`˛o£
(
_sockë
);

87 i‡(
Ω
 =
NULL
)

89 
	`Ârötf
(
°dîr
, "RH_TCP::c⁄√˘ couldÇŸ c⁄√˘Åÿ%s\n", 
_£rvî
);

90  
Ál£
;

93 
	`‰ìaddröfo
(
ªsu…
);

96 
⁄
 = 1;

97 
rc
 = 
	`io˘l
(
_sockë
, 
FIONBIO
, (*)&
⁄
);

98 i‡(
rc
 < 0)

100 
	`Ârötf
(
°dîr
,"RH_TCP::öô faûedÅÿ£àsockëÇ⁄-blockög: %s\n", 
	`°ªº‹
(
î∫o
));

101 
	`˛o£
(
_sockë
);

102 
_sockë
 = -1;

103  
Ál£
;

105  
åue
;

106 
	}
}

108 
	gRH_TCP
::
	$˛órRxBuf
()

110 
_rxBufVÆid
 = 
Ál£
;

111 
_rxBufLí
 = 0;

112 
	}
}

114 
	gRH_TCP
::
	$checkF‹Evíts
()

116 
	#RH_TCP_SOCKETBUF_LEN
 500

	)

117 
uöt8_t
 
sockëBuf
[
RH_TCP_SOCKETBUF_LEN
];

118 
uöt16_t
 
sockëBufLí
 = 0;

121 
ssize_t
 
cou¡
 = 
	`ªad
(
_sockë
, 
sockëBuf
 + 
sockëBufLí
, (socketBuf) - socketBufLen);

122 i‡(
cou¡
 < 0)

124 i‡(
î∫o
 !
EAGAIN
)

126 
	`Ârötf
(
°dîr
,"RH_TCP::checkF‹Evít†ªadÉº‹: %s\n", 
	`°ªº‹
(
î∫o
));

127 
	`exô
(1);

130 i‡(
cou¡
 == 0)

133 
	`Ârötf
(
°dîr
,"RH_TCP::checkForEvents unexpectedÉnd of file onÑead\n");

134 
	`exô
(1);

138 
sockëBufLí
 +
cou¡
;

139 
sockëBufLí
 >= 5)

141 
RHT˝Ty≥Mesßge
* 
mesßge
 = ((RHT˝Ty≥Mesßge*)
sockëBuf
);

142 
uöt32_t
 
Àn
 = 
	`¡ohl
(
mesßge
->
Àngth
);

143 
uöt32_t
 
mesßgeLí
 = 
Àn
 + (
mesßge
->
Àngth
);

144 i‡(
Àn
 > (
sockëBuf
Ë- (
mesßge
->
Àngth
))

147 
	`Ârötf
(
°dîr
, "RH_TCP::checkF‹Evít†ªadÑidiculou†Àngth: %d. C‹ru± mesßgê°ªam? Ab‹tög\n", 
Àn
);

148 
	`exô
(1);

150 i‡(
sockëBufLí
 >
Àn
 + (
mesßge
->
Àngth
))

153 i‡(
mesßge
->
ty≥
 =
RH_TCP_MESSAGE_TYPE_PACKET
 && 
Àn
 >= 5)

157 
RHT˝Packë
* 
∑ckë
 = ((RHT˝Packë*)
sockëBuf
);

158 
_rxHódîTo
 = 
∑ckë
->
to
;

159 
_rxHódîFrom
 = 
∑ckë
->
‰om
;

160 
_rxHódîId
 = 
∑ckë
->
id
;

161 
_rxHódîFœgs
 = 
∑ckë
->
Êags
;

162 
uöt32_t
 
∑ylﬂdLí
 = 
Àn
 - 5;

163 i‡(
∑ylﬂdLí
 <(
_rxBuf
))

166 
	`mem˝y
(
_rxBuf
, 
∑ckë
->
∑ylﬂd
, 
∑ylﬂdLí
);

167 
_rxBufLí
 = 
∑ylﬂdLí
;

168 
_rxBufFuŒ
 = 
åue
;

174 
	`mem˝y
(
sockëBuf
, sockëBu‡+ 
mesßgeLí
, (socketBuf) - messageLen);

175 
sockëBufLí
 -
mesßgeLí
;

179 
	}
}

181 
	gRH_TCP
::
	$vÆid©eRxBuf
()

184 i‡(
_¥omiscuous
 ||

185 
_rxHódîTo
 =
_thisAddªss
 ||

186 
_rxHódîTo
 =
RH_BROADCAST_ADDRESS
)

188 
_rxGood
++;

189 
_rxBufVÆid
 = 
åue
;

191 
	}
}

193 
boﬁ
 
	gRH_TCP
::
	$avaûabÀ
()

195 i‡(
_sockë
 < 0)

196  
Ál£
;

197 
	`checkF‹Evíts
();

198 i‡(
_rxBufFuŒ
)

200 
	`vÆid©eRxBuf
();

201 
_rxBufFuŒ

Ál£
;

203  
_rxBufVÆid
;

204 
	}
}

207 
	gRH_TCP
::
	$waôAvaûabÀ
()

209 
	`waôAvaûabÀTimeout
(0);

210 
	}
}

213 
boﬁ
 
	gRH_TCP
::
	$waôAvaûabÀTimeout
(
uöt16_t
 
timeout
)

215 
max_fd
;

216 
fd_£t
 
öput
;

217 
ªsu…
;

219 
	`FD_ZERO
(&
öput
);

220 
	`FD_SET
(
_sockë
, &
öput
);

221 
max_fd
 = 
_sockë
 + 1;

223 i‡(
timeout
)

225 
timevÆ
 
timî
;

227 
timî
.
tv_£c
 = 
timeout
 / 1000;

228 
timî
.
tv_u£c
 = (
timeout
 % 1000) * 1000;

229 
ªsu…
 = 
	`£À˘
(
max_fd
, &
öput
, 
NULL
, NULL, &
timî
);

233 
ªsu…
 = 
	`£À˘
(
max_fd
, &
öput
, 
NULL
, NULL, NULL);

235 i‡(
ªsu…
 < 0)

236 
	`Ârötf
(
°dîr
, "RH_TCP::waôAvaûabÀTimeout: sñe˘ faûed %s\n", 
	`°ªº‹
(
î∫o
));

237  
ªsu…
 > 0;

238 
	}
}

240 
boﬁ
 
	gRH_TCP
::
	$ªcv
(
uöt8_t
* 
buf
, uöt8_t* 
Àn
)

242 i‡(!
	`avaûabÀ
())

243  
Ál£
;

245 i‡(
buf
 && 
Àn
)

247 i‡(*
Àn
 > 
_rxBufLí
)

248 *
Àn
 = 
_rxBufLí
;

249 
	`mem˝y
(
buf
, 
_rxBuf
, *
Àn
);

251 
	`˛órRxBuf
();

252  
åue
;

253 
	}
}

255 
boﬁ
 
	gRH_TCP
::
	$£nd
(c⁄° 
uöt8_t
* 
d©a
, uöt8_à
Àn
)

257 i‡(!
	`waôCAD
())

258  
Ál£
;

260 
boﬁ
 
ªt
 = 
	`£ndPackë
(
d©a
, 
Àn
);

261 
	`dñay
(10);

262  
ªt
;

263 
	}
}

265 
uöt8_t
 
	gRH_TCP
::
	$maxMesßgeLígth
()

267  
RH_TCP_MAX_MESSAGE_LEN
;

268 
	}
}

270 
	gRH_TCP
::
	$£tThisAddªss
(
uöt8_t
 
addªss
)

272 
RHGíîicDrivî
::
	`£tThisAddªss
(
addªss
);

273 
	`£ndThisAddªss
(
_thisAddªss
);

274 
	}
}

276 
boﬁ
 
	gRH_TCP
::
	$£ndThisAddªss
(
uöt8_t
 
thisAddªss
)

278 i‡(
_sockë
 < 0)

279  
Ál£
;

280 
RHT˝ThisAddªss
 
m
;

281 
m
.
Àngth
 = 
	`ht⁄l
(2);

282 
m
.
ty≥
 = 
RH_TCP_MESSAGE_TYPE_THISADDRESS
;

283 
m
.
thisAddªss
 =ÅhisAddress;

284 
ssize_t
 
£¡
 = 
	`wrôe
(
_sockë
, &
m
, (m));

285  
£¡
 > 0;

286 
	}
}

288 
boﬁ
 
	gRH_TCP
::
	$£ndPackë
(c⁄° 
uöt8_t
* 
d©a
, uöt8_à
Àn
)

290 i‡(
_sockë
 < 0)

291  
Ál£
;

292 
RHT˝Packë
 
m
;

293 
m
.
Àngth
 = 
	`ht⁄l
(
Àn
 + 4);

294 
m
.
ty≥
 = 
RH_TCP_MESSAGE_TYPE_PACKET
;

295 
m
.
to
 = 
_txHódîTo
;

296 
m
.
‰om
 = 
_txHódîFrom
;

297 
m
.
id
 = 
_txHódîId
;

298 
m
.
Êags
 = 
_txHódîFœgs
;

299 
	`mem˝y
(
m
.
∑ylﬂd
, 
d©a
, 
Àn
);

300 
ssize_t
 
£¡
 = 
	`wrôe
(
_sockë
, &
m
, 
Àn
 + 8);

301  
£¡
 > 0;

302 
	}
}

	@RH_TCP.h

5 #i‚de‡
RH_TCP_h


6 
	#RH_TCP_h


	)

8 
	~<RHGíîicDrivî.h
>

9 
	~<RHT˝PrŸocﬁ.h
>

67 ˛as†
	cRH_TCP
 : 
public
 
RHGíîicDrivî


69 
public
:

75 
RH_TCP
(c⁄° * 
£rvî
 = "localhost:4000");

80 
vútuÆ
 
boﬁ
 
öô
();

88 
vútuÆ
 
boﬁ
 
avaûabÀ
();

92 
vútuÆ
 
waôAvaûabÀ
();

99 
vútuÆ
 
boﬁ
 
waôAvaûabÀTimeout
(
uöt16_t
 
timeout
);

110 
vútuÆ
 
boﬁ
 
ªcv
(
uöt8_t
* 
buf
, uöt8_t* 
Àn
);

119 
vútuÆ
 
boﬁ
 
£nd
(c⁄° 
uöt8_t
* 
d©a
, uöt8_à
Àn
);

124 
vútuÆ
 
uöt8_t
 
maxMesßgeLígth
();

135 
£tThisAddªss
(
uöt8_t
 
addªss
);

137 
	m¥Ÿe˘ed
:

139 
¥iv©e
:

142 
boﬁ
 
c⁄√˘ToSîvî
();

145 
checkF‹Evíts
();

148 
˛órRxBuf
();

154 
boﬁ
 
£ndThisAddªss
(
uöt8_t
 
thisAddªss
);

161 
boﬁ
 
£ndPackë
(c⁄° 
uöt8_t
* 
d©a
, uöt8_à
Àn
);

165 c⁄° * 
	m_£rvî
;

168 
	m_sockë
;

171 
uöt8_t
 
	m_rxBuf
[
RH_TCP_MAX_PAYLOAD_LEN
 + 5];

172 
uöt16_t
 
	m_rxBufLí
;

173 
boﬁ
 
	m_rxBufVÆid
;

176 
vÆid©eRxBuf
();

180 vﬁ©ûê
boﬁ
 
	m_rxBufFuŒ
;

	@RadioHead.h

740 #i‚de‡
RadioHód_h


741 
	#RadioHód_h


	)

744 
	#RH_VERSION_MAJOR
 1

	)

745 
	#RH_VERSION_MINOR
 74

	)

748 
	#RH_PLATFORM_ARDUINO
 1

	)

749 
	#RH_PLATFORM_MSP430
 2

	)

750 
	#RH_PLATFORM_STM32
 3

	)

751 
	#RH_PLATFORM_GENERIC_AVR8
 4

	)

752 
	#RH_PLATFORM_UNO32
 5

	)

753 
	#RH_PLATFORM_UNIX
 6

	)

754 
	#RH_PLATFORM_STM32STD
 7

	)

755 
	#RH_PLATFORM_STM32F4_HAL
 8

	)

756 
	#RH_PLATFORM_RASPI
 9

	)

758 
	#RH_PLATFORM_NRF51
 10

	)

759 
	#RH_PLATFORM_ESP8266
 11

	)

760 
	#RH_PLATFORM_STM32F2
 12

	)

761 
	#RH_PLATFORM_CHIPKIT_CORE
 13

	)

762 
	#RH_PLATFORM_ESP32
 14

	)

766 #i‚de‡
RH_PLATFORM


767 #i‡(
MPIDE
>=150 && 
deföed
(
ARDUINO
))

769 
	#RH_PLATFORM
 
RH_PLATFORM_CHIPKIT_CORE


	)

770 #ñi‡
deföed
(
MPIDE
)

772 
	#RH_PLATFORM
 
RH_PLATFORM_UNO32


	)

773 #ñi‡
deföed
(
NRF51
Ë|| deföed(
NRF52
)

774 
	#RH_PLATFORM
 
RH_PLATFORM_NRF51


	)

775 #ñi‡
deföed
(
ESP8266
)

776 
	#RH_PLATFORM
 
RH_PLATFORM_ESP8266


	)

777 #ñi‡
deföed
(
ESP32
)

778 
	#RH_PLATFORM
 
RH_PLATFORM_ESP32


	)

779 #ñi‡
deföed
(
ARDUINO
)

780 
	#RH_PLATFORM
 
RH_PLATFORM_ARDUINO


	)

781 #ñi‡
deföed
(
__MSP430G2452__
Ë|| deföed(
__MSP430G2553__
)

782 
	#RH_PLATFORM
 
RH_PLATFORM_MSP430


	)

783 #ñi‡
deföed
(
MCU_STM32F103RE
)

784 
	#RH_PLATFORM
 
RH_PLATFORM_STM32


	)

785 #ñi‡
deföed
(
STM32F2XX
)

786 
	#RH_PLATFORM
 
RH_PLATFORM_STM32F2


	)

787 #ñi‡
deföed
(
USE_STDPERIPH_DRIVER
)

788 
	#RH_PLATFORM
 
RH_PLATFORM_STM32STD


	)

789 #ñi‡
deföed
(
RASPBERRY_PI
)

790 
	#RH_PLATFORM
 
RH_PLATFORM_RASPI


	)

791 #ñi‡
deföed
(
__unix__
)

792 
	#RH_PLATFORM
 
RH_PLATFORM_UNIX


	)

793 #ñi‡
deföed
(
__APPLE__
)

794 
	#RH_PLATFORM
 
RH_PLATFORM_UNIX


	)

796 #îr‹ 
Pœtf‹m
 
nŸ
 
deföed
!

800 #i‡
deföed
(
__AVR_ATtöy84__
Ë|| deföed(
__AVR_ATtöy85__
Ë|| deföed(
__AVR_ATtöy24__
Ë|| deföed(
__AVR_ATtöy44__
Ë|| deföed(
__AVR_ATtöy45__
Ë|| deföed(
__AVR_ATtöyX4__
Ë|| deföed(
__AVR_ATtöyX5__
Ë|| deföed(
__AVR_ATtöy2313__
Ë|| deföed(
__AVR_ATtöy4313__
Ë|| deföed(
__AVR_ATtöyX313__
)

801 
	#RH_PLATFORM_ATTINY


	)

806 #i‡(
RH_PLATFORM
 =
RH_PLATFORM_ARDUINO
)

807 #i‡(
ARDUINO
 >= 100)

808 
	~<Arduöo.h
>

810 
	~<wúög.h
>

812 #ifde‡
RH_PLATFORM_ATTINY


813 #w¨nög 
Arduöo
 
TöyC‹e
 
d€s
 
nŸ
 
suµ‹t
 
h¨dw¨e
 
SPI
. 
U£
 
so·w¨e
 SPI 
ö°ód
.

815 
	~<SPI.h
>

816 
	#RH_HAVE_HARDWARE_SPI


	)

817 
	#RH_HAVE_SERIAL


	)

820 #ñi‡(
RH_PLATFORM
 =
RH_PLATFORM_ESP8266
)

821 
	~<Arduöo.h
>

822 
	~<SPI.h
>

823 
	#RH_HAVE_HARDWARE_SPI


	)

824 
	#RH_HAVE_SERIAL


	)

825 #ñi‡(
RH_PLATFORM
 =
RH_PLATFORM_ESP32
)

826 
	~<Arduöo.h
>

827 
	~<SPI.h
>

828 
	#RH_HAVE_HARDWARE_SPI


	)

829 
	#RH_HAVE_SERIAL


	)

831 #ñi‡(
RH_PLATFORM
 =
RH_PLATFORM_MSP430
)

832 
	~"Àgacym•430.h
"

833 
	~"E√rgü.h
"

834 
	~<SPI.h
>

835 
	#RH_HAVE_HARDWARE_SPI


	)

836 
	#RH_HAVE_SERIAL


	)

838 #ñi‡(
RH_PLATFORM
 =
RH_PLATFORM_UNO32
 || RH_PLATFORM =
RH_PLATFORM_CHIPKIT_CORE
)

839 
	~<WProgøm.h
>

840 
	~<°rög.h
>

841 
	~<SPI.h
>

842 
	#RH_HAVE_HARDWARE_SPI


	)

843 
	#mem˝y_P
 
mem˝y


	)

844 
	#RH_HAVE_SERIAL


	)

846 #ñi‡(
RH_PLATFORM
 =
RH_PLATFORM_STM32
)

847 
	~<STM32ArduöoCom∑t/wúish.h
>

848 
	~<°döt.h
>

849 
	~<°rög.h
>

850 
	~<STM32ArduöoCom∑t/H¨dw¨eSPI.h
>

851 
	#RH_HAVE_HARDWARE_SPI


	)

853 
	#MAPLE_TIMER
 1

	)

854 
	#PROGMEM


	)

855 
	#mem˝y_P
 
mem˝y


	)

856 
	#Sîül
 
SîülUSB


	)

857 
	#RH_HAVE_SERIAL


	)

859 #ñi‡(
RH_PLATFORM
 =
RH_PLATFORM_STM32F2
)

860 
	~<°m32f2xx.h
>

861 
	~<≠∂iˇti⁄.h
>

862 
	~<m©h.h
>

863 
	#RH_HAVE_SERIAL


	)

864 
	#RH_HAVE_HARDWARE_SPI


	)

866 #ñi‡(
RH_PLATFORM
 =
RH_PLATFORM_STM32STD
)

867 
	~<°m32f4xx.h
>

868 
	~<wúish.h
>

869 
	~<°döt.h
>

870 
	~<°rög.h
>

871 
	~<m©h.h
>

872 
	~<H¨dw¨eSPI.h
>

873 
	#RH_HAVE_HARDWARE_SPI


	)

874 
	#Sîül
 
SîülUSB


	)

875 
	#RH_HAVE_SERIAL


	)

877 #ñi‡(
RH_PLATFORM
 =
RH_PLATFORM_GENERIC_AVR8
)

878 
	~<avr/io.h
>

879 
	~<avr/öãºu±.h
>

880 
	~<utû/dñay.h
>

881 
	~<°rög.h
>

882 
	~<°dboﬁ.h
>

883 
	#RH_HAVE_HARDWARE_SPI


	)

884 
	~<SPI.h
>

888 #ñi‡(
RH_PLATFORM
 =
RH_PLATFORM_STM32F4_HAL
)

889 
	~<ArduöoW‹k¨ounds.h
>

890 
	~<°m32f4xx.h
>

891 
	~<°döt.h
>

892 
	~<°rög.h
>

893 
	~<m©h.h
>

894 
	#RH_HAVE_HARDWARE_SPI


895 

	)

896 #ñi‡(
RH_PLATFORM
 =
RH_PLATFORM_RASPI
)

897 
	#RH_HAVE_HARDWARE_SPI


	)

898 
	#RH_HAVE_SERIAL


	)

899 
	#PROGMEM


	)

900 
	~<RHutû/RasPi.h
>

901 
	~<°rög.h
>

903 
	#SS
 8

	)

905 #ñi‡(
RH_PLATFORM
 =
RH_PLATFORM_NRF51
)

906 
	#RH_HAVE_SERIAL


	)

907 
	#PROGMEM


	)

908 
	~<Arduöo.h
>

910 #ñi‡(
RH_PLATFORM
 =
RH_PLATFORM_UNIX
)

912 
	~<RHutû/simuœt‹.h
>

913 
	#RH_HAVE_SERIAL


	)

914 
	~<√töë/ö.h
>

917 #îr‹ 
Pœtf‹m
 
unknown
!

922 #i‡(
RH_PLATFORM
 =
RH_PLATFORM_ARDUINO
)

923 #i‡
deföed
(
__¨m__
)

924 
	~<RHutû/©omic.h
>

926 
	~<utû/©omic.h
>

928 
	#ATOMIC_BLOCK_START
 
	`ATOMIC_BLOCK
(
ATOMIC_RESTORESTATE
Ë{

	)

929 
	#ATOMIC_BLOCK_END
 }

	)

930 #ñi‡(
RH_PLATFORM
 =
RH_PLATFORM_CHIPKIT_CORE
)

932 
	#ATOMIC_BLOCK_START
 
__°©us
 = 
	`dißbÀI¡îru±s
(); {

	)

933 
	#ATOMIC_BLOCK_END
 } 
	`ª°‹eI¡îru±s
(
__°©us
);

	)

934 #ñi‡(
RH_PLATFORM
 =
RH_PLATFORM_UNO32
)

936 
	~<≥rùhîÆ/öt.h
>

937 
	#ATOMIC_BLOCK_START
 
__°©us
 = 
	`INTDißbÀI¡îru±s
(); {

	)

938 
	#ATOMIC_BLOCK_END
 } 
	`INTRe°‹eI¡îru±s
(
__°©us
);

	)

939 #ñi‡(
RH_PLATFORM
 =
RH_PLATFORM_STM32F2
)

940 
	#ATOMIC_BLOCK_START
 { 
__¥ev
 = 
	`HAL_dißbÀ_úq
();

	)

941 
	#ATOMIC_BLOCK_END
 
	`HAL_íabÀ_úq
(
__¥ev
); }

	)

942 #ñi‡(
RH_PLATFORM
 =
RH_PLATFORM_ESP8266
)

944 
	#ATOMIC_BLOCK_START
 { 
uöt32_t
 
__ßvedPS
 = 
	`xt_rsû
(15);

	)

945 
	#ATOMIC_BLOCK_END
 
	`xt_w§_ps
(
__ßvedPS
);}

	)

948 
	#ATOMIC_BLOCK_START


	)

949 
	#ATOMIC_BLOCK_END


	)

956 #i‡(
RH_PLATFORM
 =
RH_PLATFORM_ARDUINO
 && 
ARDUINO
 >155 && !
deföed
(
RH_PLATFORM_ATTINY
)Ë|| (
TEENSYDUINO
 && deföed(
__MK20DX128__
))

957 
	#YIELD
 
	`yõld
();

	)

958 #ñi‡(
RH_PLATFORM
 =
RH_PLATFORM_ESP8266
)

960 
	#YIELD
 
	`yõld
();

	)

962 
	#YIELD


	)

968 #i‚de‡
NOT_AN_INTERRUPT


969 
	#NOT_AN_INTERRUPT
 -1

	)

971 #i‚de‡
digôÆPöToI¡îru±


972 #i‡(
RH_PLATFORM
 =
RH_PLATFORM_ARDUINO
Ë&& !
deföed
(
__¨m__
)

974 #i‡
deföed
(
__AVR_ATmega1280__
Ë|| deföed(
__AVR_ATmega2560__
)

977 
	#digôÆPöToI¡îru±
(
p
Ë(’Ë=2 ? 0 : (’Ë=3 ? 1 : (’Ë>18 && (pË<21 ? 23 - (pË: 
NOT_AN_INTERRUPT
)))

	)

979 #ñi‡
deföed
(
__AVR_ATmega1284__
Ë|| deföed(
__AVR_ATmega1284P__
)

982 
	#digôÆPöToI¡îru±
(
p
Ë(’Ë=10 ? 0 : (’Ë=11 ? 1 : (’Ë=2 ? 2 : 
NOT_AN_INTERRUPT
)))

	)

984 #ñi‡
deföed
(
__AVR_ATmega32U4__
)

987 
	#digôÆPöToI¡îru±
(
p
Ë(’Ë=0 ? 2 : (’Ë=1 ? 3 : (’Ë=2 ? 1 : (’Ë=3 ? 0 : (’Ë=7 ? 4 : 
NOT_AN_INTERRUPT
)))))

	)

993 
	#digôÆPöToI¡îru±
(
p
Ë(’Ë=2 ? 0 : (’Ë=3 ? 1 : 
NOT_AN_INTERRUPT
))

	)

997 #ñi‡(
RH_PLATFORM
 =
RH_PLATFORM_UNO32
Ë|| (RH_PLATFORM =
RH_PLATFORM_CHIPKIT_CORE
)

999 
	#digôÆPöToI¡îru±
(
p
Ë(’Ë=38 ? 0 : (’Ë=2 ? 1 : (’Ë=7 ? 2 : (’Ë=8 ? 3 : (’Ë=735 ? 4 : 
NOT_AN_INTERRUPT
)))))

	)

1003 
	#digôÆPöToI¡îru±
(
p
Ë’)

	)

1008 #i‡(
RH_PLATFORM
 =
RH_PLATFORM_ARDUINO
Ë&& 
deföed
 (
__¨m__
Ë&& (deföed(
ARDUINO_ARCH_SAMD
Ë|| deföed(
ARDUINO_SAM_DUE
))

1009 
	#RH_ATTACHINTERRUPT_TAKES_PIN_NUMBER


	)

1013 #i‚de‡
SS


1014 
	#SS
 10

	)

1018 #unde‡
abs


1019 #unde‡
round


1024 #i‡
RH_PLATFORM
 !
RH_PLATFORM_UNIX
 && !
deföed
(
ht⁄s
)

1027 #i‡ 
__BYTE_ORDER__
 =
__ORDER_LITTLE_ENDIAN__


1029 
	#ht⁄s
(
x
Ë–((x)<<8Ë| (((x)>>8)&0xFFË)

	)

1030 
	#¡ohs
(
x
Ë
	`ht⁄s
(x)

	)

1031 
	#ht⁄l
(
x
) ( ((x)<<24 & 0xFF000000UL) | \

1032 ((
x
)<< 8 & 0x00FF0000UL) | \

1033 ((
x
)>> 8 & 0x0000FF00UL) | \

1034 ((
x
)>>24 & 0x000000FFULË)

	)

1035 
	#¡ohl
(
x
Ë
	`ht⁄l
(x)

	)

1037 #ñi‡
__BYTE_ORDER__
 =
__ORDER_BIG_ENDIAN__


1039 
	#ht⁄s
(
x
Ë(x)

	)

1040 
	#¡ohs
(
x
Ë(x)

	)

1041 
	#ht⁄l
(
x
Ë(x)

	)

1042 
	#¡ohl
(
x
Ë(x)

	)

1050 
	#RH_BROADCAST_ADDRESS
 0xff

	)

	@radio_config_Si4460.h

14 #i‚de‡
RADIO_CONFIG_H_


15 
	#RADIO_CONFIG_H_


	)

33 
	#RADIO_CONFIGURATION_DATA_RADIO_XO_FREQ
 {30000000L}

	)

34 
	#RADIO_CONFIGURATION_DATA_CHANNEL_NUMBER
 {0x00}

	)

35 
	#RADIO_CONFIGURATION_DATA_RADIO_PACKET_LENGTH
 {0x07}

	)

36 
	#RADIO_CONFIGURATION_DATA_RADIO_STATE_AFTER_POWER_UP
 {0x03}

	)

37 
	#RADIO_CONFIGURATION_DATA_RADIO_DELAY_CNT_AFTER_RESET
 {0xF000}

	)

38 
	#RADIO_CONFIGURATION_DATA_CUSTOM_PAYLOAD
 {0xC5, 0xC5, 0xC5, 0xC5, 0xC5, 0xC5, 0xC5}

	)

47 
	#RF_POWER_UP
 0x02, 0x01, 0x00, 0x01, 0xC9, 0xC3, 0x80

	)

53 
	#RF_GPIO_PIN_CFG
 0x13, 0x04, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00

	)

64 
	#RF_GLOBAL_XO_TUNE_1
 0x11, 0x00, 0x01, 0x00, 0x52

	)

75 
	#RF_GLOBAL_CONFIG_1
 0x11, 0x00, 0x01, 0x03, 0x60

	)

87 
	#RF_INT_CTL_ENABLE_2
 0x11, 0x01, 0x02, 0x00, 0x01, 0x38

	)

101 
	#RF_FRR_CTL_A_MODE_4
 0x11, 0x02, 0x04, 0x00, 0x00, 0x00, 0x00, 0x00

	)

120 
	#RF_PREAMBLE_TX_LENGTH_9
 0x11, 0x10, 0x09, 0x00, 0x08, 0x14, 0x00, 0x0F, 0x31, 0x00, 0x00, 0x00, 0x00

	)

135 
	#RF_SYNC_CONFIG_5
 0x11, 0x11, 0x05, 0x00, 0x01, 0xB4, 0x2B, 0x00, 0x00

	)

146 
	#RF_PKT_CRC_CONFIG_1
 0x11, 0x12, 0x01, 0x00, 0x80

	)

160 
	#RF_PKT_WHT_SEED_15_8_4
 0x11, 0x12, 0x04, 0x03, 0xFF, 0xFF, 0x00, 0x02

	)

182 
	#RF_PKT_LEN_12
 0x11, 0x12, 0x0C, 0x08, 0x00, 0x00, 0x00, 0x30, 0x30, 0x00, 0x07, 0x04, 0x00, 0x00, 0x00, 0x00

	)

204 
	#RF_PKT_FIELD_2_CRC_CONFIG_12
 0x11, 0x12, 0x0C, 0x14, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00

	)

215 
	#RF_PKT_FIELD_5_CRC_CONFIG_1
 0x11, 0x12, 0x01, 0x20, 0x00

	)

237 
	#RF_MODEM_MOD_TYPE_12
 0x11, 0x20, 0x0C, 0x00, 0x03, 0x00, 0x07, 0x0F, 0x42, 0x40, 0x09, 0xC9, 0xC3, 0x80, 0x00, 0x1B

	)

248 
	#RF_MODEM_FREQ_DEV_0_1
 0x11, 0x20, 0x01, 0x0C, 0x4F

	)

266 
	#RF_MODEM_TX_RAMP_DELAY_8
 0x11, 0x20, 0x08, 0x18, 0x01, 0x80, 0x08, 0x03, 0x80, 0x00, 0x00, 0x10

	)

285 
	#RF_MODEM_BCR_OSR_1_9
 0x11, 0x20, 0x09, 0x22, 0x00, 0xC8, 0x02, 0x8F, 0x5C, 0x01, 0x48, 0x02, 0xC2

	)

302 
	#RF_MODEM_AFC_GEAR_7
 0x11, 0x20, 0x07, 0x2C, 0x04, 0x36, 0x80, 0x92, 0x0A, 0x46, 0x80

	)

313 
	#RF_MODEM_AGC_CONTROL_1
 0x11, 0x20, 0x01, 0x35, 0xE2

	)

332 
	#RF_MODEM_AGC_WINDOW_SIZE_9
 0x11, 0x20, 0x09, 0x38, 0x11, 0x2C, 0x2C, 0x00, 0x1A, 0xFF, 0xFF, 0x00, 0x29

	)

353 
	#RF_MODEM_OOK_CNT1_11
 0x11, 0x20, 0x0B, 0x42, 0xA4, 0x02, 0xD6, 0x83, 0x01, 0x7F, 0x01, 0x80, 0xFF, 0x0C, 0x02

	)

364 
	#RF_MODEM_RSSI_COMP_1
 0x11, 0x20, 0x01, 0x4E, 0x40

	)

375 
	#RF_MODEM_CLKGEN_BAND_1
 0x11, 0x20, 0x01, 0x51, 0x0A

	)

397 
	#RF_MODEM_CHFLT_RX1_CHFLT_COE13_7_0_12
 0x11, 0x21, 0x0C, 0x00, 0xFF, 0xC4, 0x30, 0x7F, 0xF5, 0xB5, 0xB8, 0xDE, 0x05, 0x17, 0x16, 0x0C

	)

419 
	#RF_MODEM_CHFLT_RX1_CHFLT_COE1_7_0_12
 0x11, 0x21, 0x0C, 0x0C, 0x03, 0x00, 0x15, 0xFF, 0x00, 0x00, 0xFF, 0xC4, 0x30, 0x7F, 0xF5, 0xB5

	)

441 
	#RF_MODEM_CHFLT_RX2_CHFLT_COE7_7_0_12
 0x11, 0x21, 0x0C, 0x18, 0xB8, 0xDE, 0x05, 0x17, 0x16, 0x0C, 0x03, 0x00, 0x15, 0xFF, 0x00, 0x00

	)

455 
	#RF_PA_MODE_4
 0x11, 0x22, 0x04, 0x00, 0x18, 0x01, 0xC0, 0x3F

	)

472 
	#RF_SYNTH_PFDCP_CPFF_7
 0x11, 0x23, 0x07, 0x00, 0x2C, 0x0E, 0x0B, 0x04, 0x0C, 0x73, 0x03

	)

494 
	#RF_MATCH_VALUE_1_12
 0x11, 0x30, 0x0C, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00

	)

512 
	#RF_FREQ_CONTROL_INTE_8
 0x11, 0x40, 0x08, 0x00, 0x38, 0x0E, 0xEE, 0xEE, 0x44, 0x44, 0x20, 0xFE

	)

519 #i‚de‡
FIRMWARE_LOAD_COMPILE


520 
	#RADIO_CONFIGURATION_DATA_ARRAY
 { \

	)

521 0x07, 
	gRF_POWER_UP
, \

522 0x08, 
	gRF_GPIO_PIN_CFG
, \

523 0x05, 
	gRF_GLOBAL_XO_TUNE_1
, \

524 0x05, 
	gRF_GLOBAL_CONFIG_1
, \

525 0x06, 
	gRF_INT_CTL_ENABLE_2
, \

526 0x08, 
	gRF_FRR_CTL_A_MODE_4
, \

527 0x0D, 
	gRF_PREAMBLE_TX_LENGTH_9
, \

528 0x09, 
	gRF_SYNC_CONFIG_5
, \

529 0x05, 
	gRF_PKT_CRC_CONFIG_1
, \

530 0x08, 
	gRF_PKT_WHT_SEED_15_8_4
, \

531 0x10, 
	gRF_PKT_LEN_12
, \

532 0x10, 
	gRF_PKT_FIELD_2_CRC_CONFIG_12
, \

533 0x05, 
	gRF_PKT_FIELD_5_CRC_CONFIG_1
, \

534 0x10, 
	gRF_MODEM_MOD_TYPE_12
, \

535 0x05, 
	gRF_MODEM_FREQ_DEV_0_1
, \

536 0x0C, 
	gRF_MODEM_TX_RAMP_DELAY_8
, \

537 0x0D, 
	gRF_MODEM_BCR_OSR_1_9
, \

538 0x0B, 
	gRF_MODEM_AFC_GEAR_7
, \

539 0x05, 
	gRF_MODEM_AGC_CONTROL_1
, \

540 0x0D, 
	gRF_MODEM_AGC_WINDOW_SIZE_9
, \

541 0x0F, 
	gRF_MODEM_OOK_CNT1_11
, \

542 0x05, 
	gRF_MODEM_RSSI_COMP_1
, \

543 0x05, 
	gRF_MODEM_CLKGEN_BAND_1
, \

544 0x10, 
	gRF_MODEM_CHFLT_RX1_CHFLT_COE13_7_0_12
, \

545 0x10, 
	gRF_MODEM_CHFLT_RX1_CHFLT_COE1_7_0_12
, \

546 0x10, 
	gRF_MODEM_CHFLT_RX2_CHFLT_COE7_7_0_12
, \

547 0x08, 
	gRF_PA_MODE_4
, \

548 0x0B, 
	gRF_SYNTH_PFDCP_CPFF_7
, \

549 0x10, 
	gRF_MATCH_VALUE_1_12
, \

550 0x0C, 
	gRF_FREQ_CONTROL_INTE_8
, \

554 
	#RADIO_CONFIGURATION_DATA_ARRAY
 { 0 }

	)

558 
	#RADIO_CONFIGURATION_DATA_RADIO_XO_FREQ_DEFAULT
 30000000L

	)

559 
	#RADIO_CONFIGURATION_DATA_CHANNEL_NUMBER_DEFAULT
 0x00

	)

560 
	#RADIO_CONFIGURATION_DATA_RADIO_PACKET_LENGTH_DEFAULT
 0x10

	)

561 
	#RADIO_CONFIGURATION_DATA_RADIO_STATE_AFTER_POWER_UP_DEFAULT
 0x01

	)

562 
	#RADIO_CONFIGURATION_DATA_RADIO_DELAY_CNT_AFTER_RESET_DEFAULT
 0x1000

	)

563 
	#RADIO_CONFIGURATION_DATA_CUSTOM_PAYLOAD_DEFAULT
 0x42, 0x55, 0x54, 0x54, 0x4F, 0x4E, 0x31

564 

	)

565 
	#RADIO_CONFIGURATION_DATA_RADIO_PATCH_INCLUDED
 0x00

	)

566 
	#RADIO_CONFIGURATION_DATA_RADIO_PATCH_SIZE
 0x00

	)

567 
	#RADIO_CONFIGURATION_DATA_RADIO_PATCH
 { }

	)

569 #i‚de‡
RADIO_CONFIGURATION_DATA_ARRAY


573 #i‚de‡
RADIO_CONFIGURATION_DATA_RADIO_XO_FREQ


574 
	#RADIO_CONFIGURATION_DATA_RADIO_XO_FREQ
 { 
RADIO_CONFIGURATION_DATA_RADIO_XO_FREQ_DEFAULT
 }

	)

577 #i‚de‡
RADIO_CONFIGURATION_DATA_CHANNEL_NUMBER


578 
	#RADIO_CONFIGURATION_DATA_CHANNEL_NUMBER
 { 
RADIO_CONFIGURATION_DATA_CHANNEL_NUMBER_DEFAULT
 }

	)

581 #i‚de‡
RADIO_CONFIGURATION_DATA_RADIO_PACKET_LENGTH


582 
	#RADIO_CONFIGURATION_DATA_RADIO_PACKET_LENGTH
 { 
RADIO_CONFIGURATION_DATA_RADIO_PACKET_LENGTH_DEFAULT
 }

	)

585 #i‚de‡
RADIO_CONFIGURATION_DATA_RADIO_STATE_AFTER_POWER_UP


586 
	#RADIO_CONFIGURATION_DATA_RADIO_STATE_AFTER_POWER_UP
 { 
RADIO_CONFIGURATION_DATA_RADIO_STATE_AFTER_POWER_UP_DEFAULT
 }

	)

589 #i‚de‡
RADIO_CONFIGURATION_DATA_RADIO_DELAY_CNT_AFTER_RESET


590 
	#RADIO_CONFIGURATION_DATA_RADIO_DELAY_CNT_AFTER_RESET
 { 
RADIO_CONFIGURATION_DATA_RADIO_DELAY_CNT_AFTER_RESET_DEFAULT
 }

	)

593 #i‚de‡
RADIO_CONFIGURATION_DATA_CUSTOM_PAYLOAD


594 
	#RADIO_CONFIGURATION_DATA_CUSTOM_PAYLOAD
 { 
RADIO_CONFIGURATION_DATA_CUSTOM_PAYLOAD_DEFAULT
 }

	)

597 
	#RADIO_CONFIGURATION_DATA
 { \

	)

598 
	gRadio_C⁄figuøti⁄_D©a_Aºay
, \

599 
	gRADIO_CONFIGURATION_DATA_CHANNEL_NUMBER
, \

600 
	gRADIO_CONFIGURATION_DATA_RADIO_PACKET_LENGTH
, \

601 
	gRADIO_CONFIGURATION_DATA_RADIO_STATE_AFTER_POWER_UP
, \

602 
	gRADIO_CONFIGURATION_DATA_RADIO_DELAY_CNT_AFTER_RESET
, \

603 
	gRADIO_CONFIGURATION_DATA_CUSTOM_PAYLOAD
 \

	@/usr/include/arpa/inet.h

18 #i‚de‡
_ARPA_INET_H


19 
	#_ARPA_INET_H
 1

	)

21 
	~<„©uªs.h
>

22 
	~<√töë/ö.h
>

25 #i‚de‡
__sockÀn_t_deföed


26 
__sockÀn_t
 
	tsockÀn_t
;

27 
	#__sockÀn_t_deföed


	)

30 
__BEGIN_DECLS


34 
ö_addr_t
 
	$öë_addr
 (c⁄° *
__˝
Ë
__THROW
;

37 
ö_addr_t
 
	$öë_ aof
 (
ö_addr
 
__ö
Ë
__THROW
;

41 
ö_addr
 
	$öë_makóddr
 (
ö_addr_t
 
__√t
, in_addr_à
__ho°
)

42 
__THROW
;

45 
ö_addr_t
 
	$öë_√tof
 (
ö_addr
 
__ö
Ë
__THROW
;

49 
ö_addr_t
 
	$öë_√tw‹k
 (c⁄° *
__˝
Ë
__THROW
;

53 *
	$öë_¡ﬂ
 (
ö_addr
 
__ö
Ë
__THROW
;

58 
	$öë_±⁄
 (
__af
, c⁄° *
__ª°ri˘
 
__˝
,

59 *
__ª°ri˘
 
__buf
Ë
__THROW
;

64 c⁄° *
	$öë_¡›
 (
__af
, c⁄° *
__ª°ri˘
 
__˝
,

65 *
__ª°ri˘
 
__buf
, 
sockÀn_t
 
__Àn
)

66 
__THROW
;

70 #ifde‡
__USE_MISC


73 
	$öë_©⁄
 (c⁄° *
__˝
, 
ö_addr
 *
__öp
Ë
__THROW
;

77 *
	$öë_√è
 (
ö_addr_t
 
__√t
, *
__buf
, 
size_t
 
__Àn
Ë
__THROW
;

82 *
	$öë_√t_¡›
 (
__af
, c⁄° *
__˝
, 
__bôs
,

83 *
__buf
, 
size_t
 
__Àn
Ë
__THROW
;

88 
	$öë_√t_±⁄
 (
__af
, c⁄° *
__˝
,

89 *
__buf
, 
size_t
 
__Àn
Ë
__THROW
;

94 
	$öë_nßp_addr
 (c⁄° *
__˝
,

95 *
__buf
, 
__Àn
Ë
__THROW
;

99 *
	$öë_nßp_¡ﬂ
 (
__Àn
, c⁄° *
__˝
,

100 *
__buf
Ë
__THROW
;

103 
__END_DECLS


	@/usr/include/errno.h

22 #i‚def 
_ERRNO_H


26 #i‚def 
__√ed_Em©h


27 
	#_ERRNO_H
 1

	)

28 
	~<„©uªs.h
>

31 
	g__BEGIN_DECLS


35 
	~<bôs/î∫o.h
>

36 #unde‡
__√ed_Em©h


38 #ifdef 
_ERRNO_H


45 #i‚def 
î∫o


46 
î∫o
;

49 #ifde‡
__USE_GNU


54 *
¥ogøm_övoˇti⁄_«me
, *
¥ogøm_övoˇti⁄_sh‹t_«me
;

58 
	g__END_DECLS


66 #i‡
deföed
 
__USE_GNU
 || deföed 
__√ed_îr‹_t


67 #i‚de‡
__îr‹_t_deföed


68 
	tîr‹_t
;

69 
	#__îr‹_t_deföed
 1

	)

71 #unde‡
__√ed_îr‹_t


	@/usr/include/math.h

23 #i‚def 
_MATH_H


24 
	#_MATH_H
 1

	)

26 
	~<„©uªs.h
>

28 
	g__BEGIN_DECLS


31 
	~<bôs/m©h-ve˘‹.h
>

35 
	~<bôs/huge_vÆ.h
>

36 #ifde‡
__USE_ISOC99


37 
	~<bôs/huge_vÆf.h
>

38 
	~<bôs/huge_vÆl.h
>

41 
	~<bôs/öf.h
>

44 
	~<bôs/«n.h
>

48 
	~<bôs/m©hdef.h
>

55 
	#__SIMD_DECL
(
fun˘i⁄
Ë
	`__CONCAT
 (
__DECL_SIMD_
, fun˘i⁄)

	)

57 
	#__MATHCALL_VEC
(
fun˘i⁄
, 
suffix
, 
¨gs
) \

58 
	`__SIMD_DECL
 (
	`__MATH_PRECNAME
 (
fun˘i⁄
, 
suffix
)) \

59 
	`__MATHCALL
 (
fun˘i⁄
, 
suffix
, 
¨gs
)

	)

61 
	#__MATHDECL_VEC
(
ty≥
, 
fun˘i⁄
,
suffix
, 
¨gs
) \

62 
	`__SIMD_DECL
 (
	`__MATH_PRECNAME
 (
fun˘i⁄
, 
suffix
)) \

63 
	`__MATHDECL
(
ty≥
, 
fun˘i⁄
,
suffix
, 
¨gs
)

	)

65 
	#__MATHCALL
(
fun˘i⁄
,
suffix
, 
¨gs
) \

66 
	`__MATHDECL
 (
_MdoubÀ_
,
fun˘i⁄
,
suffix
, 
¨gs
)

	)

67 
	#__MATHDECL
(
ty≥
, 
fun˘i⁄
,
suffix
, 
¨gs
) \

68 
	`__MATHDECL_1
(
ty≥
, 
fun˘i⁄
,
suffix
, 
¨gs
); \

69 
	`__MATHDECL_1
(
ty≥
, 
	`__CONCAT
(
__
,
fun˘i⁄
),
suffix
, 
¨gs
)

	)

70 
	#__MATHCALLX
(
fun˘i⁄
,
suffix
, 
¨gs
, 
©åib
) \

71 
	`__MATHDECLX
 (
_MdoubÀ_
,
fun˘i⁄
,
suffix
, 
¨gs
, 
©åib
)

	)

72 
	#__MATHDECLX
(
ty≥
, 
fun˘i⁄
,
suffix
, 
¨gs
, 
©åib
) \

73 
	`__MATHDECL_1
(
ty≥
, 
fun˘i⁄
,
suffix
, 
¨gs
Ë
	`__©åibuã__
 (
©åib
); \

74 
	`__MATHDECL_1
(
ty≥
, 
	`__CONCAT
(
__
,
fun˘i⁄
),
suffix
, 
¨gs
Ë
	`__©åibuã__
 (
©åib
)

	)

75 
	#__MATHDECL_1
(
ty≥
, 
fun˘i⁄
,
suffix
, 
¨gs
) \

76 
ty≥
 
	`__MATH_PRECNAME
(
fun˘i⁄
,
suffix
Ë
¨gs
 
__THROW


	)

78 
	#_MdoubÀ_
 

	)

79 
	#__MATH_PRECNAME
(
«me
,
r
Ë
	`__CONCAT
“ame,r)

	)

80 
	#__MATH_DECLARING_DOUBLE
 1

	)

81 
	#_MdoubÀ_BEGIN_NAMESPACE
 
__BEGIN_NAMESPACE_STD


	)

82 
	#_MdoubÀ_END_NAMESPACE
 
__END_NAMESPACE_STD


	)

83 
	~<bôs/m©hˇŒs.h
>

84 #unde‡
_MdoubÀ_


85 #unde‡
_MdoubÀ_BEGIN_NAMESPACE


86 #unde‡
_MdoubÀ_END_NAMESPACE


87 #unde‡
__MATH_PRECNAME


88 #unde‡
__MATH_DECLARING_DOUBLE


90 #ifde‡
__USE_ISOC99


96 #i‚de‡
_MÊﬂt_


97 
	#_MÊﬂt_
 

	)

99 
	#_MdoubÀ_
 
_MÊﬂt_


	)

100 
	#__MATH_PRECNAME
(
«me
,
r
Ë«me##
f
##
	)
r

101 
	#__MATH_DECLARING_DOUBLE
 0

	)

102 
	#_MdoubÀ_BEGIN_NAMESPACE
 
__BEGIN_NAMESPACE_C99


	)

103 
	#_MdoubÀ_END_NAMESPACE
 
__END_NAMESPACE_C99


	)

104 
	~<bôs/m©hˇŒs.h
>

105 #unde‡
_MdoubÀ_


106 #unde‡
_MdoubÀ_BEGIN_NAMESPACE


107 #unde‡
_MdoubÀ_END_NAMESPACE


108 #unde‡
__MATH_PRECNAME


109 #unde‡
__MATH_DECLARING_DOUBLE


111 #i‡!(
deföed
 
__NO_LONG_DOUBLE_MATH
 && deföed 
_LIBC
) \

112 || 
deföed
 
__LDBL_COMPAT
 \

113 || 
deföed
 
_LIBC_TEST


114 #ifde‡
__LDBL_COMPAT


116 #ifde‡
__USE_ISOC99


117 
	$__∆dbl_√xâow¨df
 (
__x
, 
__y
)

118 
__THROW
 
	`__©åibuã__
 ((
__c⁄°__
));

119 #ifde‡
__REDIRECT_NTH


120 
	`__REDIRECT_NTH
 (
√xâow¨df
, (
__x
, 
__y
),

121 
__∆dbl_√xâow¨df
)

122 
	`__©åibuã__
 ((
__c⁄°__
));

123 
	`__REDIRECT_NTH
 (
√xâow¨d
, (
__x
, 
__y
),

124 
√xè·î
Ë
	`__©åibuã__
 ((
__c⁄°__
));

125 
	`__REDIRECT_NTH
 (
√xâow¨dl
,

126 (
__x
, 
__y
),

127 
√xè·î
Ë
	`__©åibuã__
 ((
__c⁄°__
));

131 #unde‡
__MATHDECL_1


132 
	#__MATHDECL_2
(
ty≥
, 
fun˘i⁄
,
suffix
, 
¨gs
, 
Æüs
) \

133 
ty≥
 
	`__REDIRECT_NTH
(
	`__MATH_PRECNAME
(
fun˘i⁄
,
suffix
), \

134 
¨gs
, 
Æüs
)

	)

135 
	#__MATHDECL_1
(
ty≥
, 
fun˘i⁄
,
suffix
, 
¨gs
) \

136 
	`__MATHDECL_2
(
ty≥
, 
fun˘i⁄
,
suffix
, 
¨gs
, 
	`__CONCAT
(fun˘i⁄,suffix))

	)

142 #i‚de‡
_Ml⁄g_doubÀ_


143 
	#_Ml⁄g_doubÀ_
 

	)

145 
	#_MdoubÀ_
 
_Ml⁄g_doubÀ_


	)

146 
	#__MATH_PRECNAME
(
«me
,
r
Ë«me##
l
##
	)
r

147 
	#__MATH_DECLARING_DOUBLE
 0

	)

148 
	#_MdoubÀ_BEGIN_NAMESPACE
 
__BEGIN_NAMESPACE_C99


	)

149 
	#_MdoubÀ_END_NAMESPACE
 
__END_NAMESPACE_C99


	)

150 
	#__MATH_DECLARE_LDOUBLE
 1

	)

151 
	~<bôs/m©hˇŒs.h
>

152 #unde‡
_MdoubÀ_


153 #unde‡
_MdoubÀ_BEGIN_NAMESPACE


154 #unde‡
_MdoubÀ_END_NAMESPACE


155 #unde‡
__MATH_PRECNAME


156 #unde‡
__MATH_DECLARING_DOUBLE


161 #unde‡
__MATHDECL_1


162 #unde‡
__MATHDECL


163 #unde‡
__MATHCALL


166 #i‡
deföed
 
__USE_MISC
 || deföed 
__USE_XOPEN


168 
signgam
;

173 #ifde‡
__USE_ISOC99


211 
FP_NAN
 =

212 
	#FP_NAN
 0

	)

213 
FP_NAN
,

214 
FP_INFINITE
 =

215 
	#FP_INFINITE
 1

	)

216 
FP_INFINITE
,

217 
FP_ZERO
 =

218 
	#FP_ZERO
 2

	)

219 
FP_ZERO
,

220 
FP_SUBNORMAL
 =

221 
	#FP_SUBNORMAL
 3

	)

222 
FP_SUBNORMAL
,

223 
FP_NORMAL
 =

224 
	#FP_NORMAL
 4

	)

225 
FP_NORMAL


233 #i‡
	`__GNUC_PREREQ
 (4,4Ë&& !
deföed
 
__SUPPORT_SNAN__
 \

234 && !
deföed
 
__OPTIMIZE_SIZE__


235 
	#Â˛assify
(
x
Ë
	`__buûtö_Â˛assify
 (
FP_NAN
, 
FP_INFINITE
, \

236 
FP_NORMAL
, 
FP_SUBNORMAL
, 
FP_ZERO
, 
x
)

	)

237 #ñi‡
deföed
 
__NO_LONG_DOUBLE_MATH


238 
	#Â˛assify
(
x
) \

239 ( (
x
Ë= (Ë? 
	`__Â˛assifyf
 (xË: 
	`__Â˛assify
 (x))

	)

241 
	#Â˛assify
(
x
) \

242 ( (
x
) ==  () \

243 ? 
	`__Â˛assifyf
 (
x
) \

244 :  (
x
) ==  () \

245 ? 
	`__Â˛assify
 (
x
Ë: 
	`__Â˛assifyl
 (x))

	)

249 #i‡
	`__GNUC_PREREQ
 (4,0)

250 
	#signbô
(
x
) \

251 ( (
x
) ==  () \

252 ? 
	`__buûtö_signbôf
 (
x
) \

253 :  (
x
) ==  () \

254 ? 
	`__buûtö_signbô
 (
x
Ë: 
	`__buûtö_signbôl
 (x))

	)

256 #ifde‡
__NO_LONG_DOUBLE_MATH


257 
	#signbô
(
x
) \

258 ( (
x
Ë= (Ë? 
	`__signbôf
 (xË: 
	`__signbô
 (x))

	)

260 
	#signbô
(
x
) \

261 ( (
x
) ==  () \

262 ? 
	`__signbôf
 (
x
) \

263 :  (
x
) ==  () \

264 ? 
	`__signbô
 (
x
Ë: 
	`__signbôl
 (x))

	)

269 #i‡
	`__GNUC_PREREQ
 (4,4Ë&& !
deföed
 
__SUPPORT_SNAN__


270 
	#isföôe
(
x
Ë
	`__buûtö_isföôe
 (x)

	)

271 #ñi‡
deföed
 
__NO_LONG_DOUBLE_MATH


272 
	#isföôe
(
x
) \

273 ( (
x
Ë= (Ë? 
	`__föôef
 (xË: 
	`__föôe
 (x))

	)

275 
	#isföôe
(
x
) \

276 ( (
x
) ==  () \

277 ? 
	`__föôef
 (
x
) \

278 :  (
x
) ==  () \

279 ? 
	`__föôe
 (
x
Ë: 
	`__föôñ
 (x))

	)

283 #i‡
	`__GNUC_PREREQ
 (4,4Ë&& !
deföed
 
__SUPPORT_SNAN__


284 
	#i¢‹mÆ
(
x
Ë
	`__buûtö_i¢‹mÆ
 (x)

	)

286 
	#i¢‹mÆ
(
x
Ë(
	`Â˛assify
 (xË=
FP_NORMAL
)

	)

291 #i‡
	`__GNUC_PREREQ
 (4,4Ë&& !
deföed
 
__SUPPORT_SNAN__


292 
	#i¢™
(
x
Ë
	`__buûtö_i¢™
 (x)

	)

293 #ñi‡
deföed
 
__NO_LONG_DOUBLE_MATH


294 
	#i¢™
(
x
) \

295 ( (
x
Ë= (Ë? 
	`__i¢™f
 (xË: 
	`__i¢™
 (x))

	)

297 
	#i¢™
(
x
) \

298 ( (
x
) ==  () \

299 ? 
	`__i¢™f
 (
x
) \

300 :  (
x
) ==  () \

301 ? 
	`__i¢™
 (
x
Ë: 
	`__i¢™l
 (x))

	)

305 #i‡
	`__GNUC_PREREQ
 (4,4Ë&& !
deföed
 
__SUPPORT_SNAN__


306 
	#isöf
(
x
Ë
	`__buûtö_isöf_sign
 (x)

	)

307 #ñi‡
deföed
 
__NO_LONG_DOUBLE_MATH


308 
	#isöf
(
x
) \

309 ( (
x
Ë= (Ë? 
	`__isöff
 (xË: 
	`__isöf
 (x))

	)

311 
	#isöf
(
x
) \

312 ( (
x
) ==  () \

313 ? 
	`__isöff
 (
x
) \

314 :  (
x
) ==  () \

315 ? 
	`__isöf
 (
x
Ë: 
	`__isöÊ
 (x))

	)

319 
	#MATH_ERRNO
 1

	)

320 
	#MATH_ERREXCEPT
 2

	)

325 #i‚de‡
__FAST_MATH__


326 
	#m©h_îrh™dlög
 (
MATH_ERRNO
 | 
MATH_ERREXCEPT
)

	)

331 #ifde‡
__USE_GNU


333 #ifde‡
__NO_LONG_DOUBLE_MATH


334 
	#issig«lög
(
x
) \

335 ( (
x
Ë= (Ë? 
	`__issig«lögf
 (xË: 
	`__issig«lög
 (x))

	)

337 
	#issig«lög
(
x
) \

338 ( (
x
) ==  () \

339 ? 
	`__issig«lögf
 (
x
) \

340 :  (
x
) ==  () \

341 ? 
	`__issig«lög
 (
x
Ë: 
	`__issig«lögl
 (x))

	)

345 #ifdef 
__USE_MISC


349 
_IEEE_
 = -1,

350 
_SVID_
,

351 
_XOPEN_
,

352 
_POSIX_
,

353 
_ISOC_


354 } 
	t_LIB_VERSION_TYPE
;

359 
_LIB_VERSION_TYPE
 
_LIB_VERSION
;

363 #ifde‡
__USE_MISC


369 #ifde‡
__˝lu•lus


370 
__ex˚±i⁄


372 
ex˚±i⁄


375 
ty≥
;

376 *
«me
;

377 
¨g1
;

378 
¨g2
;

379 
ªtvÆ
;

380 
	}
};

382 #ifde‡
__˝lu•lus


383 
	$m©hîr
 (
__ex˚±i⁄
 *
__exc
Ë
	`throw
 ();

385 
	`m©hîr
 (
ex˚±i⁄
 *
__exc
);

388 
	#X_TLOSS
 1.41484755040568800000e+16

	)

391 
	#DOMAIN
 1

	)

392 
	#SING
 2

	)

393 
	#OVERFLOW
 3

	)

394 
	#UNDERFLOW
 4

	)

395 
	#TLOSS
 5

	)

396 
	#PLOSS
 6

	)

399 
	#HUGE
 3.40282347e+38F

	)

403 #ifde‡
__USE_XOPEN


405 
	#MAXFLOAT
 3.40282347e+38F

	)

412 #i‡
deföed
 
__USE_MISC
 || deföed 
__USE_XOPEN


413 
	#M_E
 2.7182818284590452354

	)

414 
	#M_LOG2E
 1.4426950408889634074

	)

415 
	#M_LOG10E
 0.43429448190325182765

	)

416 
	#M_LN2
 0.69314718055994530942

	)

417 
	#M_LN10
 2.30258509299404568402

	)

418 
	#M_PI
 3.14159265358979323846

	)

419 
	#M_PI_2
 1.57079632679489661923

	)

420 
	#M_PI_4
 0.78539816339744830962

	)

421 
	#M_1_PI
 0.31830988618379067154

	)

422 
	#M_2_PI
 0.63661977236758134308

	)

423 
	#M_2_SQRTPI
 1.12837916709551257390

	)

424 
	#M_SQRT2
 1.41421356237309504880

	)

425 
	#M_SQRT1_2
 0.70710678118654752440

	)

431 #ifde‡
__USE_GNU


432 
	#M_El
 2.718281828459045235360287471352662498L

	)

433 
	#M_LOG2El
 1.442695040888963407359924681001892137L

	)

434 
	#M_LOG10El
 0.434294481903251827651128918916605082L

	)

435 
	#M_LN2l
 0.693147180559945309417232121458176568L

	)

436 
	#M_LN10l
 2.302585092994045684017991454684364208L

	)

437 
	#M_PIl
 3.141592653589793238462643383279502884L

	)

438 
	#M_PI_2l
 1.570796326794896619231321691639751442L

	)

439 
	#M_PI_4l
 0.785398163397448309615660845819875721L

	)

440 
	#M_1_PIl
 0.318309886183790671537767526745028724L

	)

441 
	#M_2_PIl
 0.636619772367581343075535053490057448L

	)

442 
	#M_2_SQRTPIl
 1.128379167095512573896158903121545172L

	)

443 
	#M_SQRT2l
 1.414213562373095048801688724209698079L

	)

444 
	#M_SQRT1_2l
 0.707106781186547524400844362104849039L

	)

451 #i‡
deföed
 
__STRICT_ANSI__
 && !deföed 
__NO_MATH_INLINES


452 
	#__NO_MATH_INLINES
 1

	)

455 #i‡
deföed
 
__USE_ISOC99
 && 
	`__GNUC_PREREQ
(2,97)

462 
	#isgª©î
(
x
, 
y
Ë
	`__buûtö_isgª©î
(x, y)

	)

463 
	#isgª©îequÆ
(
x
, 
y
Ë
	`__buûtö_isgª©îequÆ
(x, y)

	)

464 
	#i¶ess
(
x
, 
y
Ë
	`__buûtö_i¶ess
(x, y)

	)

465 
	#i¶es£quÆ
(
x
, 
y
Ë
	`__buûtö_i¶es£quÆ
(x, y)

	)

466 
	#i¶essgª©î
(
x
, 
y
Ë
	`__buûtö_i¶essgª©î
(x, y)

	)

467 
	#isun‹dîed
(
u
, 
v
Ë
	`__buûtö_isun‹dîed
(u, v)

	)

471 #ifde‡
__USE_EXTERN_INLINES


472 
	~<bôs/m©hölöe.h
>

477 #i‡
deföed
 
__FINITE_MATH_ONLY__
 && __FINITE_MATH_ONLY__ > 0

478 
	~<bôs/m©h-föôe.h
>

481 #ifde‡
__USE_ISOC99


485 #i‚de‡
isgª©î


486 
	#isgª©î
(
x
, 
y
) \

487 (
__exãnsi⁄__
 \

488 ({ 
	`__ty≥of__
(
x
Ë
__x
 = (x); __ty≥of__(
y
Ë
__y
 = (y); \

489 !
	`isun‹dîed
 (
__x
, 
__y
Ë&& __x > __y; 
	}
}))

	)

493 #i‚de‡
isgª©îequÆ


494 
	#isgª©îequÆ
(
x
, 
y
) \

495 (
__exãnsi⁄__
 \

496 ({ 
	`__ty≥of__
(
x
Ë
__x
 = (x); __ty≥of__(
y
Ë
__y
 = (y); \

497 !
	`isun‹dîed
 (
__x
, 
__y
Ë&& __x >__y; }))

	)

501 #i‚de‡
i¶ess


502 
	#i¶ess
(
x
, 
y
) \

503 (
__exãnsi⁄__
 \

504 ({ 
	`__ty≥of__
(
x
Ë
__x
 = (x); __ty≥of__(
y
Ë
__y
 = (y); \

505 !
	`isun‹dîed
 (
__x
, 
__y
Ë&& __x < __y; }))

	)

509 #i‚de‡
i¶es£quÆ


510 
	#i¶es£quÆ
(
x
, 
y
) \

511 (
__exãnsi⁄__
 \

512 ({ 
	`__ty≥of__
(
x
Ë
__x
 = (x); __ty≥of__(
y
Ë
__y
 = (y); \

513 !
	`isun‹dîed
 (
__x
, 
__y
Ë&& __x <__y; }))

	)

517 #i‚de‡
i¶essgª©î


518 
	#i¶essgª©î
(
x
, 
y
) \

519 (
__exãnsi⁄__
 \

520 ({ 
	`__ty≥of__
(
x
Ë
__x
 = (x); __ty≥of__(
y
Ë
__y
 = (y); \

521 !
	`isun‹dîed
 (
__x
, 
__y
Ë&& (__x < __y || __y < __x); }))

	)

525 #i‚de‡
isun‹dîed


526 
	#isun‹dîed
(
u
, 
v
) \

527 (
__exãnsi⁄__
 \

528 ({ 
	`__ty≥of__
(
u
Ë
__u
 = (u); __ty≥of__(
v
Ë
__v
 = (v); \

529 
	`Â˛assify
 (
__u
Ë=
FP_NAN
 || fp˛assify (
__v
Ë=FP_NAN; }))

	)

534 
	g__END_DECLS


	@/usr/include/netdb.h

22 #i‚def 
_NETDB_H


23 
	#_NETDB_H
 1

	)

25 
	~<„©uªs.h
>

27 
	~<√töë/ö.h
>

28 
	~<°döt.h
>

29 #ifde‡
__USE_MISC


32 
	~<Ωc/√tdb.h
>

35 #ifde‡
__USE_GNU


36 
	#__√ed_sigevít_t


	)

37 
	~<bôs/sigöfo.h
>

38 
	#__√ed_time•ec


	)

39 
	~<time.h
>

42 
	~<bôs/√tdb.h
>

45 
	#_PATH_HEQUIV
 "/ëc/ho°s.equiv"

	)

46 
	#_PATH_HOSTS
 "/ëc/ho°s"

	)

47 
	#_PATH_NETWORKS
 "/ëc/√tw‹ks"

	)

48 
	#_PATH_NSSWITCH_CONF
 "/ëc/nsswôch.c⁄f"

	)

49 
	#_PATH_PROTOCOLS
 "/ëc/¥Ÿocﬁs"

	)

50 
	#_PATH_SERVICES
 "/ëc/£rvi˚s"

	)

53 
	g__BEGIN_DECLS


55 #i‡
deföed
 
__USE_MISC
 || !deföed 
__USE_XOPEN2K8


58 
	#h_î∫o
 (*
	`__h_î∫o_loˇti⁄
 ())

	)

61 *
	$__h_î∫o_loˇti⁄
 (Ë
__THROW
 
	`__©åibuã__
 ((
__c⁄°__
));

65 
	#HOST_NOT_FOUND
 1

	)

66 
	#TRY_AGAIN
 2

	)

68 
	#NO_RECOVERY
 3

	)

70 
	#NO_DATA
 4

	)

73 #ifde‡
__USE_MISC


74 
	#NETDB_INTERNAL
 -1

	)

75 
	#NETDB_SUCCESS
 0

	)

76 
	#NO_ADDRESS
 
NO_DATA


	)

79 #i‡
deföed
 
__USE_XOPEN2K
 || deföed 
__USE_XOPEN_EXTENDED


81 
	#IPPORT_RESERVED
 1024

	)

84 #ifde‡
__USE_GNU


86 
	#SCOPE_DELIMITER
 '%'

	)

89 #ifde‡
__USE_MISC


92 
	$hîr‹
 (c⁄° *
__°r
Ë
__THROW
;

95 c⁄° *
	$h°ªº‹
 (
__îr_num
Ë
__THROW
;

100 
	sho°ít


102 *
h_«me
;

103 **
h_Æü£s
;

104 
h_addπy≥
;

105 
h_Àngth
;

106 **
h_addr_li°
;

107 #ifde‡
__USE_MISC


108 
	#h_addr
 
h_addr_li°
[0]

	)

117 
	`£tho°ít
 (
__°ay_›í
);

123 
	`ídho°ít
 ();

130 
ho°ít
 *
	`gëho°ít
 ();

137 
ho°ít
 *
	`gëho°byaddr
 (c⁄° *
__addr
, 
__sockÀn_t
 
__Àn
,

138 
__ty≥
);

144 
ho°ít
 *
	`gëho°by«me
 (c⁄° *
__«me
);

146 #ifde‡
__USE_MISC


155 
ho°ít
 *
	`gëho°by«me2
 (c⁄° *
__«me
, 
__af
);

167 
	`gëho°ít_r
 (
ho°ít
 *
__ª°ri˘
 
__ªsu…_buf
,

168 *
__ª°ri˘
 
__buf
, 
size_t
 
__buÊí
,

169 
ho°ít
 **
__ª°ri˘
 
__ªsu…
,

170 *
__ª°ri˘
 
__h_î∫›
);

172 
	`gëho°byaddr_r
 (c⁄° *
__ª°ri˘
 
__addr
, 
__sockÀn_t
 
__Àn
,

173 
__ty≥
,

174 
ho°ít
 *
__ª°ri˘
 
__ªsu…_buf
,

175 *
__ª°ri˘
 
__buf
, 
size_t
 
__buÊí
,

176 
ho°ít
 **
__ª°ri˘
 
__ªsu…
,

177 *
__ª°ri˘
 
__h_î∫›
);

179 
	`gëho°by«me_r
 (c⁄° *
__ª°ri˘
 
__«me
,

180 
ho°ít
 *
__ª°ri˘
 
__ªsu…_buf
,

181 *
__ª°ri˘
 
__buf
, 
size_t
 
__buÊí
,

182 
ho°ít
 **
__ª°ri˘
 
__ªsu…
,

183 *
__ª°ri˘
 
__h_î∫›
);

185 
	`gëho°by«me2_r
 (c⁄° *
__ª°ri˘
 
__«me
, 
__af
,

186 
ho°ít
 *
__ª°ri˘
 
__ªsu…_buf
,

187 *
__ª°ri˘
 
__buf
, 
size_t
 
__buÊí
,

188 
ho°ít
 **
__ª°ri˘
 
__ªsu…
,

189 *
__ª°ri˘
 
__h_î∫›
);

198 
	`£äëít
 (
__°ay_›í
);

204 
	`íd√ã¡
 ();

211 
√ã¡
 *
	`gë√ã¡
 ();

218 
√ã¡
 *
	`gë√tbyaddr
 (
uöt32_t
 
__√t
, 
__ty≥
);

224 
√ã¡
 *
	`gë√tby«me
 (c⁄° *
__«me
);

226 #ifdef 
__USE_MISC


237 
	`gë√ã¡_r
 (
√ã¡
 *
__ª°ri˘
 
__ªsu…_buf
,

238 *
__ª°ri˘
 
__buf
, 
size_t
 
__buÊí
,

239 
√ã¡
 **
__ª°ri˘
 
__ªsu…
,

240 *
__ª°ri˘
 
__h_î∫›
);

242 
	`gë√tbyaddr_r
 (
uöt32_t
 
__√t
, 
__ty≥
,

243 
√ã¡
 *
__ª°ri˘
 
__ªsu…_buf
,

244 *
__ª°ri˘
 
__buf
, 
size_t
 
__buÊí
,

245 
√ã¡
 **
__ª°ri˘
 
__ªsu…
,

246 *
__ª°ri˘
 
__h_î∫›
);

248 
	`gë√tby«me_r
 (c⁄° *
__ª°ri˘
 
__«me
,

249 
√ã¡
 *
__ª°ri˘
 
__ªsu…_buf
,

250 *
__ª°ri˘
 
__buf
, 
size_t
 
__buÊí
,

251 
√ã¡
 **
__ª°ri˘
 
__ªsu…
,

252 *
__ª°ri˘
 
__h_î∫›
);

257 
	s£rvít


259 *
s_«me
;

260 **
s_Æü£s
;

261 
s_p‹t
;

262 *
s_¥Ÿo
;

270 
	`£t£rvít
 (
__°ay_›í
);

276 
	`íd£rvít
 ();

283 
£rvít
 *
	`gë£rvít
 ();

290 
£rvít
 *
	`gë£rvby«me
 (c⁄° *
__«me
, c⁄° *
__¥Ÿo
);

297 
£rvít
 *
	`gë£rvbyp‹t
 (
__p‹t
, c⁄° *
__¥Ÿo
);

300 #ifdef 
__USE_MISC


308 
	`gë£rvít_r
 (
£rvít
 *
__ª°ri˘
 
__ªsu…_buf
,

309 *
__ª°ri˘
 
__buf
, 
size_t
 
__buÊí
,

310 
£rvít
 **
__ª°ri˘
 
__ªsu…
);

312 
	`gë£rvby«me_r
 (c⁄° *
__ª°ri˘
 
__«me
,

313 c⁄° *
__ª°ri˘
 
__¥Ÿo
,

314 
£rvít
 *
__ª°ri˘
 
__ªsu…_buf
,

315 *
__ª°ri˘
 
__buf
, 
size_t
 
__buÊí
,

316 
£rvít
 **
__ª°ri˘
 
__ªsu…
);

318 
	`gë£rvbyp‹t_r
 (
__p‹t
, c⁄° *
__ª°ri˘
 
__¥Ÿo
,

319 
£rvít
 *
__ª°ri˘
 
__ªsu…_buf
,

320 *
__ª°ri˘
 
__buf
, 
size_t
 
__buÊí
,

321 
£rvít
 **
__ª°ri˘
 
__ªsu…
);

326 
	s¥Ÿ€¡


328 *
p_«me
;

329 **
p_Æü£s
;

330 
p_¥Ÿo
;

338 
	`£çrŸ€¡
 (
__°ay_›í
);

344 
	`íd¥Ÿ€¡
 ();

351 
¥Ÿ€¡
 *
	`gë¥Ÿ€¡
 ();

357 
¥Ÿ€¡
 *
	`gë¥Ÿoby«me
 (c⁄° *
__«me
);

363 
¥Ÿ€¡
 *
	`gë¥Ÿobynumbî
 (
__¥Ÿo
);

366 #ifdef 
__USE_MISC


374 
	`gë¥Ÿ€¡_r
 (
¥Ÿ€¡
 *
__ª°ri˘
 
__ªsu…_buf
,

375 *
__ª°ri˘
 
__buf
, 
size_t
 
__buÊí
,

376 
¥Ÿ€¡
 **
__ª°ri˘
 
__ªsu…
);

378 
	`gë¥Ÿoby«me_r
 (c⁄° *
__ª°ri˘
 
__«me
,

379 
¥Ÿ€¡
 *
__ª°ri˘
 
__ªsu…_buf
,

380 *
__ª°ri˘
 
__buf
, 
size_t
 
__buÊí
,

381 
¥Ÿ€¡
 **
__ª°ri˘
 
__ªsu…
);

383 
	`gë¥Ÿobynumbî_r
 (
__¥Ÿo
,

384 
¥Ÿ€¡
 *
__ª°ri˘
 
__ªsu…_buf
,

385 *
__ª°ri˘
 
__buf
, 
size_t
 
__buÊí
,

386 
¥Ÿ€¡
 **
__ª°ri˘
 
__ªsu…
);

395 
	`£äëgª¡
 (c⁄° *
__√tgroup
);

403 
	`íd√tgª¡
 ();

412 
	`gë√tgª¡
 (**
__ª°ri˘
 
__ho°p
,

413 **
__ª°ri˘
 
__u£Ω
,

414 **
__ª°ri˘
 
__domaöp
);

423 
	`ö√tgr
 (c⁄° *
__√tgroup
, c⁄° *
__ho°
,

424 c⁄° *
__u£r
, c⁄° *
__domaö
);

432 
	`gë√tgª¡_r
 (**
__ª°ri˘
 
__ho°p
,

433 **
__ª°ri˘
 
__u£Ω
,

434 **
__ª°ri˘
 
__domaöp
,

435 *
__ª°ri˘
 
__buf„r
, 
size_t
 
__buÊí
);

439 #ifde‡
__USE_MISC


451 
	`rcmd
 (**
__ª°ri˘
 
__aho°
, 
__Ω‹t
,

452 c⁄° *
__ª°ri˘
 
__locu£r
,

453 c⁄° *
__ª°ri˘
 
__ªmu£r
,

454 c⁄° *
__ª°ri˘
 
__cmd
, *__ª°ri˘ 
__fd2p
);

463 
	`rcmd_af
 (**
__ª°ri˘
 
__aho°
, 
__Ω‹t
,

464 c⁄° *
__ª°ri˘
 
__locu£r
,

465 c⁄° *
__ª°ri˘
 
__ªmu£r
,

466 c⁄° *
__ª°ri˘
 
__cmd
, *__ª°ri˘ 
__fd2p
,

467 
ß_Ámûy_t
 
__af
);

479 
	`ªxec
 (**
__ª°ri˘
 
__aho°
, 
__Ω‹t
,

480 c⁄° *
__ª°ri˘
 
__«me
,

481 c⁄° *
__ª°ri˘
 
__∑ss
,

482 c⁄° *
__ª°ri˘
 
__cmd
, *__ª°ri˘ 
__fd2p
);

491 
	`ªxec_af
 (**
__ª°ri˘
 
__aho°
, 
__Ω‹t
,

492 c⁄° *
__ª°ri˘
 
__«me
,

493 c⁄° *
__ª°ri˘
 
__∑ss
,

494 c⁄° *
__ª°ri˘
 
__cmd
, *__ª°ri˘ 
__fd2p
,

495 
ß_Ámûy_t
 
__af
);

505 
	`ru£rok
 (c⁄° *
__rho°
, 
__su£r
,

506 c⁄° *
__ªmu£r
, c⁄° *
__locu£r
);

515 
	`ru£rok_af
 (c⁄° *
__rho°
, 
__su£r
,

516 c⁄° *
__ªmu£r
, c⁄° *
__locu£r
,

517 
ß_Ámûy_t
 
__af
);

528 
	`úu£rok
 (
uöt32_t
 
__øddr
, 
__su£r
,

529 c⁄° *
__ªmu£r
, c⁄° *
__locu£r
);

539 
	`úu£rok_af
 (c⁄° *
__øddr
, 
__su£r
,

540 c⁄° *
__ªmu£r
, c⁄° *
__locu£r
,

541 
ß_Ámûy_t
 
__af
);

551 
	`ºesvp‹t
 (*
__Æp‹t
);

560 
	`ºesvp‹t_af
 (*
__Æp‹t
, 
ß_Ámûy_t
 
__af
);

565 #ifde‡
__USE_XOPEN2K


567 
	saddröfo


569 
ai_Êags
;

570 
ai_Ámûy
;

571 
ai_sockty≥
;

572 
ai_¥Ÿocﬁ
;

573 
sockÀn_t
 
ai_addæí
;

574 
sockaddr
 *
ai_addr
;

575 *
ai_ˇn⁄«me
;

576 
addröfo
 *
ai_√xt
;

579 #ifde‡
__USE_GNU


581 
	sgaicb


583 c⁄° *
¨_«me
;

584 c⁄° *
¨_£rvi˚
;

585 c⁄° 
addröfo
 *
¨_ªque°
;

586 
addröfo
 *
¨_ªsu…
;

588 
__ªtu∫
;

589 
__glibc_ª£rved
[5];

593 
	#GAI_WAIT
 0

	)

594 
	#GAI_NOWAIT
 1

	)

598 
	#AI_PASSIVE
 0x0001

	)

599 
	#AI_CANONNAME
 0x0002

	)

600 
	#AI_NUMERICHOST
 0x0004

	)

601 
	#AI_V4MAPPED
 0x0008

	)

602 
	#AI_ALL
 0x0010

	)

603 
	#AI_ADDRCONFIG
 0x0020

	)

605 #ifde‡
__USE_GNU


606 
	#AI_IDN
 0x0040

	)

609 
	#AI_CANONIDN
 0x0080

	)

610 
	#AI_IDN_ALLOW_UNASSIGNED
 0x0100

	)

612 
	#AI_IDN_USE_STD3_ASCII_RULES
 0x0200

	)

615 
	#AI_NUMERICSERV
 0x0400

	)

618 
	#EAI_BADFLAGS
 -1

	)

619 
	#EAI_NONAME
 -2

	)

620 
	#EAI_AGAIN
 -3

	)

621 
	#EAI_FAIL
 -4

	)

622 
	#EAI_FAMILY
 -6

	)

623 
	#EAI_SOCKTYPE
 -7

	)

624 
	#EAI_SERVICE
 -8

	)

625 
	#EAI_MEMORY
 -10

	)

626 
	#EAI_SYSTEM
 -11

	)

627 
	#EAI_OVERFLOW
 -12

	)

628 #ifde‡
__USE_GNU


629 
	#EAI_NODATA
 -5

	)

630 
	#EAI_ADDRFAMILY
 -9

	)

631 
	#EAI_INPROGRESS
 -100

	)

632 
	#EAI_CANCELED
 -101

	)

633 
	#EAI_NOTCANCELED
 -102

	)

634 
	#EAI_ALLDONE
 -103

	)

635 
	#EAI_INTR
 -104

	)

636 
	#EAI_IDN_ENCODE
 -105

	)

639 #ifde‡
__USE_MISC


640 
	#NI_MAXHOST
 1025

	)

641 
	#NI_MAXSERV
 32

	)

644 
	#NI_NUMERICHOST
 1

	)

645 
	#NI_NUMERICSERV
 2

	)

646 
	#NI_NOFQDN
 4

	)

647 
	#NI_NAMEREQD
 8

	)

648 
	#NI_DGRAM
 16

	)

649 #ifde‡
__USE_GNU


650 
	#NI_IDN
 32

	)

651 
	#NI_IDN_ALLOW_UNASSIGNED
 64

	)

653 
	#NI_IDN_USE_STD3_ASCII_RULES
 128

	)

662 
	`gëaddröfo
 (c⁄° *
__ª°ri˘
 
__«me
,

663 c⁄° *
__ª°ri˘
 
__£rvi˚
,

664 c⁄° 
addröfo
 *
__ª°ri˘
 
__ªq
,

665 
addröfo
 **
__ª°ri˘
 
__∑i
);

668 
	$‰ìaddröfo
 (
addröfo
 *
__ai
Ë
__THROW
;

671 c⁄° *
	$gai_°ªº‹
 (
__ecode
Ë
__THROW
;

677 
	`gë«meöfo
 (c⁄° 
sockaddr
 *
__ª°ri˘
 
__ß
,

678 
sockÀn_t
 
__ßÀn
, *
__ª°ri˘
 
__ho°
,

679 
sockÀn_t
 
__ho°Àn
, *
__ª°ri˘
 
__£rv
,

680 
sockÀn_t
 
__£rvÀn
, 
__Êags
);

683 #ifde‡
__USE_GNU


692 
	`gëaddröfo_a
 (
__mode
, 
gaicb
 *
__li°
[
__ª°ri˘_¨r
],

693 
__ít
, 
sigevít
 *
__ª°ri˘
 
__sig
);

703 
	`gai_su•íd
 (c⁄° 
gaicb
 *c⁄° 
__li°
[], 
__ít
,

704 c⁄° 
time•ec
 *
__timeout
);

707 
	$gai_îr‹
 (
gaicb
 *
__ªq
Ë
__THROW
;

710 
	$gai_ˇn˚l
 (
gaicb
 *
__gaicbp
Ë
__THROW
;

713 
__END_DECLS


	@/usr/include/netinet/in.h

18 #i‚def 
_NETINET_IN_H


19 
	#_NETINET_IN_H
 1

	)

21 
	~<„©uªs.h
>

22 
	~<°döt.h
>

23 
	~<sys/sockë.h
>

24 
	~<bôs/ty≥s.h
>

27 
__BEGIN_DECLS


30 
uöt32_t
 
	tö_addr_t
;

31 
	sö_addr


33 
ö_addr_t
 
	ms_addr
;

37 
	~<bôs/ö.h
>

42 
	mIPPROTO_IP
 = 0,

43 
	#IPPROTO_IP
 
IPPROTO_IP


	)

44 
	mIPPROTO_ICMP
 = 1,

45 
	#IPPROTO_ICMP
 
IPPROTO_ICMP


	)

46 
	mIPPROTO_IGMP
 = 2,

47 
	#IPPROTO_IGMP
 
IPPROTO_IGMP


	)

48 
	mIPPROTO_IPIP
 = 4,

49 
	#IPPROTO_IPIP
 
IPPROTO_IPIP


	)

50 
	mIPPROTO_TCP
 = 6,

51 
	#IPPROTO_TCP
 
IPPROTO_TCP


	)

52 
	mIPPROTO_EGP
 = 8,

53 
	#IPPROTO_EGP
 
IPPROTO_EGP


	)

54 
	mIPPROTO_PUP
 = 12,

55 
	#IPPROTO_PUP
 
IPPROTO_PUP


	)

56 
	mIPPROTO_UDP
 = 17,

57 
	#IPPROTO_UDP
 
IPPROTO_UDP


	)

58 
	mIPPROTO_IDP
 = 22,

59 
	#IPPROTO_IDP
 
IPPROTO_IDP


	)

60 
	mIPPROTO_TP
 = 29,

61 
	#IPPROTO_TP
 
IPPROTO_TP


	)

62 
	mIPPROTO_DCCP
 = 33,

63 
	#IPPROTO_DCCP
 
IPPROTO_DCCP


	)

64 
	mIPPROTO_IPV6
 = 41,

65 
	#IPPROTO_IPV6
 
IPPROTO_IPV6


	)

66 
	mIPPROTO_RSVP
 = 46,

67 
	#IPPROTO_RSVP
 
IPPROTO_RSVP


	)

68 
	mIPPROTO_GRE
 = 47,

69 
	#IPPROTO_GRE
 
IPPROTO_GRE


	)

70 
	mIPPROTO_ESP
 = 50,

71 
	#IPPROTO_ESP
 
IPPROTO_ESP


	)

72 
	mIPPROTO_AH
 = 51,

73 
	#IPPROTO_AH
 
IPPROTO_AH


	)

74 
	mIPPROTO_MTP
 = 92,

75 
	#IPPROTO_MTP
 
IPPROTO_MTP


	)

76 
	mIPPROTO_BEETPH
 = 94,

77 
	#IPPROTO_BEETPH
 
IPPROTO_BEETPH


	)

78 
	mIPPROTO_ENCAP
 = 98,

79 
	#IPPROTO_ENCAP
 
IPPROTO_ENCAP


	)

80 
	mIPPROTO_PIM
 = 103,

81 
	#IPPROTO_PIM
 
IPPROTO_PIM


	)

82 
	mIPPROTO_COMP
 = 108,

83 
	#IPPROTO_COMP
 
IPPROTO_COMP


	)

84 
	mIPPROTO_SCTP
 = 132,

85 
	#IPPROTO_SCTP
 
IPPROTO_SCTP


	)

86 
	mIPPROTO_UDPLITE
 = 136,

87 
	#IPPROTO_UDPLITE
 
IPPROTO_UDPLITE


	)

88 
	mIPPROTO_MPLS
 = 137,

89 
	#IPPROTO_MPLS
 
IPPROTO_MPLS


	)

90 
	mIPPROTO_RAW
 = 255,

91 
	#IPPROTO_RAW
 
IPPROTO_RAW


	)

92 
	mIPPROTO_MAX


98 #i‡!
__USE_KERNEL_IPV6_DEFS


101 
	mIPPROTO_HOPOPTS
 = 0,

102 
	#IPPROTO_HOPOPTS
 
IPPROTO_HOPOPTS


	)

103 
	mIPPROTO_ROUTING
 = 43,

104 
	#IPPROTO_ROUTING
 
IPPROTO_ROUTING


	)

105 
	mIPPROTO_FRAGMENT
 = 44,

106 
	#IPPROTO_FRAGMENT
 
IPPROTO_FRAGMENT


	)

107 
	mIPPROTO_ICMPV6
 = 58,

108 
	#IPPROTO_ICMPV6
 
IPPROTO_ICMPV6


	)

109 
	mIPPROTO_NONE
 = 59,

110 
	#IPPROTO_NONE
 
IPPROTO_NONE


	)

111 
	mIPPROTO_DSTOPTS
 = 60,

112 
	#IPPROTO_DSTOPTS
 
IPPROTO_DSTOPTS


	)

113 
	mIPPROTO_MH
 = 135

114 
	#IPPROTO_MH
 
IPPROTO_MH


	)

119 
uöt16_t
 
	tö_p‹t_t
;

124 
	mIPPORT_ECHO
 = 7,

125 
	mIPPORT_DISCARD
 = 9,

126 
	mIPPORT_SYSTAT
 = 11,

127 
	mIPPORT_DAYTIME
 = 13,

128 
	mIPPORT_NETSTAT
 = 15,

129 
	mIPPORT_FTP
 = 21,

130 
	mIPPORT_TELNET
 = 23,

131 
	mIPPORT_SMTP
 = 25,

132 
	mIPPORT_TIMESERVER
 = 37,

133 
	mIPPORT_NAMESERVER
 = 42,

134 
	mIPPORT_WHOIS
 = 43,

135 
	mIPPORT_MTP
 = 57,

137 
	mIPPORT_TFTP
 = 69,

138 
	mIPPORT_RJE
 = 77,

139 
	mIPPORT_FINGER
 = 79,

140 
	mIPPORT_TTYLINK
 = 87,

141 
	mIPPORT_SUPDUP
 = 95,

144 
	mIPPORT_EXECSERVER
 = 512,

145 
	mIPPORT_LOGINSERVER
 = 513,

146 
	mIPPORT_CMDSERVER
 = 514,

147 
	mIPPORT_EFSSERVER
 = 520,

150 
	mIPPORT_BIFFUDP
 = 512,

151 
	mIPPORT_WHOSERVER
 = 513,

152 
	mIPPORT_ROUTESERVER
 = 520,

155 
	mIPPORT_RESERVED
 = 1024,

158 
	mIPPORT_USERRESERVED
 = 5000

166 
	#IN_CLASSA
(
a
Ë((((
ö_addr_t
)◊)Ë& 0x80000000Ë=0)

	)

167 
	#IN_CLASSA_NET
 0xff000000

	)

168 
	#IN_CLASSA_NSHIFT
 24

	)

169 
	#IN_CLASSA_HOST
 (0xfffffff‡& ~
IN_CLASSA_NET
)

	)

170 
	#IN_CLASSA_MAX
 128

	)

172 
	#IN_CLASSB
(
a
Ë((((
ö_addr_t
)◊)Ë& 0xc0000000Ë=0x80000000)

	)

173 
	#IN_CLASSB_NET
 0xffff0000

	)

174 
	#IN_CLASSB_NSHIFT
 16

	)

175 
	#IN_CLASSB_HOST
 (0xfffffff‡& ~
IN_CLASSB_NET
)

	)

176 
	#IN_CLASSB_MAX
 65536

	)

178 
	#IN_CLASSC
(
a
Ë((((
ö_addr_t
)◊)Ë& 0xe0000000Ë=0xc0000000)

	)

179 
	#IN_CLASSC_NET
 0xffffff00

	)

180 
	#IN_CLASSC_NSHIFT
 8

	)

181 
	#IN_CLASSC_HOST
 (0xfffffff‡& ~
IN_CLASSC_NET
)

	)

183 
	#IN_CLASSD
(
a
Ë((((
ö_addr_t
)◊)Ë& 0xf0000000Ë=0xe0000000)

	)

184 
	#IN_MULTICAST
(
a
Ë
	`IN_CLASSD
◊)

	)

186 
	#IN_EXPERIMENTAL
(
a
Ë((((
ö_addr_t
)◊)Ë& 0xe0000000Ë=0xe0000000)

	)

187 
	#IN_BADCLASS
(
a
Ë((((
ö_addr_t
)◊)Ë& 0xf0000000Ë=0xf0000000)

	)

190 
	#INADDR_ANY
 ((
ö_addr_t
Ë0x00000000)

	)

192 
	#INADDR_BROADCAST
 ((
ö_addr_t
Ë0xffffffff)

	)

194 
	#INADDR_NONE
 ((
ö_addr_t
Ë0xffffffff)

	)

197 
	#IN_LOOPBACKNET
 127

	)

199 #i‚de‡
INADDR_LOOPBACK


200 
	#INADDR_LOOPBACK
 ((
ö_addr_t
Ë0x7f000001Ë

	)

204 
	#INADDR_UNSPEC_GROUP
 ((
ö_addr_t
Ë0xe0000000Ë

	)

205 
	#INADDR_ALLHOSTS_GROUP
 ((
ö_addr_t
Ë0xe0000001Ë

	)

206 
	#INADDR_ALLRTRS_GROUP
 ((
ö_addr_t
Ë0xe0000002Ë

	)

207 
	#INADDR_MAX_LOCAL_GROUP
 ((
ö_addr_t
Ë0xe00000ffË

	)

209 #i‡!
__USE_KERNEL_IPV6_DEFS


211 
	sö6_addr


215 
uöt8_t
 
	m__u6_addr8
[16];

216 #ifde‡
__USE_MISC


217 
uöt16_t
 
	m__u6_addr16
[8];

218 
uöt32_t
 
	m__u6_addr32
[4];

220 } 
	m__ö6_u
;

221 
	#s6_addr
 
__ö6_u
.
__u6_addr8


	)

222 #ifde‡
__USE_MISC


223 
	#s6_addr16
 
__ö6_u
.
__u6_addr16


	)

224 
	#s6_addr32
 
__ö6_u
.
__u6_addr32


	)

229 c⁄° 
ö6_addr
 
ö6addr_™y
;

230 c⁄° 
ö6_addr
 
ö6addr_lo›back
;

231 
	#IN6ADDR_ANY_INIT
 { { { 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0 } } }

	)

232 
	#IN6ADDR_LOOPBACK_INIT
 { { { 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1 } } }

	)

234 
	#INET_ADDRSTRLEN
 16

	)

235 
	#INET6_ADDRSTRLEN
 46

	)

239 
	ssockaddr_ö


241 
__SOCKADDR_COMMON
 (
sö_
);

242 
ö_p‹t_t
 
	msö_p‹t
;

243 
ö_addr
 
	msö_addr
;

246 
	msö_zîo
[ (
sockaddr
) -

247 
__SOCKADDR_COMMON_SIZE
 -

248  (
ö_p‹t_t
) -

249  (
ö_addr
)];

252 #i‡!
__USE_KERNEL_IPV6_DEFS


254 
	ssockaddr_ö6


256 
__SOCKADDR_COMMON
 (
sö6_
);

257 
ö_p‹t_t
 
	msö6_p‹t
;

258 
uöt32_t
 
	msö6_Êowöfo
;

259 
ö6_addr
 
	msö6_addr
;

260 
uöt32_t
 
	msö6_sc›e_id
;

264 #ifde‡
__USE_MISC


266 
	sù_mªq


269 
ö_addr
 
	mimr_mu…üddr
;

272 
ö_addr
 
	mimr_öãrÁ˚
;

275 
	sù_mªq_sour˚


278 
ö_addr
 
	mimr_mu…üddr
;

281 
ö_addr
 
	mimr_öãrÁ˚
;

284 
ö_addr
 
	mimr_sour˚addr
;

288 #i‡!
__USE_KERNEL_IPV6_DEFS


290 
	sùv6_mªq


293 
ö6_addr
 
	mùv6mr_mu…üddr
;

296 
	mùv6mr_öãrÁ˚
;

300 #ifde‡
__USE_MISC


302 
	sgroup_ªq


305 
uöt32_t
 
	mgr_öãrÁ˚
;

308 
sockaddr_°‹age
 
	mgr_group
;

311 
	sgroup_sour˚_ªq


314 
uöt32_t
 
	mg§_öãrÁ˚
;

317 
sockaddr_°‹age
 
	mg§_group
;

320 
sockaddr_°‹age
 
	mg§_sour˚
;

325 
	sù_msfûãr


328 
ö_addr
 
	mimsf_mu…üddr
;

331 
ö_addr
 
	mimsf_öãrÁ˚
;

334 
uöt32_t
 
	mimsf_fmode
;

337 
uöt32_t
 
	mimsf_num§c
;

339 
ö_addr
 
	mimsf_¶i°
[1];

342 
	#IP_MSFILTER_SIZE
(
num§c
Ë( (
ù_msfûãr
) \

343 -  (
ö_addr
) \

344 + (
num§c
Ë*  (
ö_addr
))

	)

346 
	sgroup_fûãr


349 
uöt32_t
 
	mgf_öãrÁ˚
;

352 
sockaddr_°‹age
 
	mgf_group
;

355 
uöt32_t
 
	mgf_fmode
;

358 
uöt32_t
 
	mgf_num§c
;

360 
sockaddr_°‹age
 
	mgf_¶i°
[1];

363 
	#GROUP_FILTER_SIZE
(
num§c
Ë( (
group_fûãr
) \

364 -  (
sockaddr_°‹age
) \

365 + ((
num§c
) \

366 *  (
sockaddr_°‹age
)))

	)

376 
uöt32_t
 
	$¡ohl
 (
uöt32_t
 
__√é⁄g
Ë
__THROW
 
	`__©åibuã__
 ((
__c⁄°__
));

377 
uöt16_t
 
	$¡ohs
 (
uöt16_t
 
__√tsh‹t
)

378 
__THROW
 
	`__©åibuã__
 ((
__c⁄°__
));

379 
uöt32_t
 
	$ht⁄l
 (
uöt32_t
 
__ho°l⁄g
)

380 
__THROW
 
	`__©åibuã__
 ((
__c⁄°__
));

381 
uöt16_t
 
	$ht⁄s
 (
uöt16_t
 
__ho°sh‹t
)

382 
__THROW
 
	`__©åibuã__
 ((
__c⁄°__
));

384 
	~<ídün.h
>

387 
	~<bôs/byãsw≠.h
>

389 #ifde‡
__OPTIMIZE__


393 #i‡
__BYTE_ORDER
 =
__BIG_ENDIAN


396 
	#¡ohl
(
x
Ë(x)

	)

397 
	#¡ohs
(
x
Ë(x)

	)

398 
	#ht⁄l
(
x
Ë(x)

	)

399 
	#ht⁄s
(
x
Ë(x)

	)

401 #i‡
__BYTE_ORDER
 =
__LITTLE_ENDIAN


402 
	#¡ohl
(
x
Ë
	`__bsw≠_32
 (x)

	)

403 
	#¡ohs
(
x
Ë
	`__bsw≠_16
 (x)

	)

404 
	#ht⁄l
(
x
Ë
	`__bsw≠_32
 (x)

	)

405 
	#ht⁄s
(
x
Ë
	`__bsw≠_16
 (x)

	)

410 #ifde‡
__GNUC__


411 
	#IN6_IS_ADDR_UNSPECIFIED
(
a
) \

412 (
__exãnsi⁄__
 \

413 ({ c⁄° 
ö6_addr
 *
__a
 = (c⁄° ö6_add∏*Ë(
a
); \

414 
__a
->
s6_addr32
[0] == 0 \

415 && 
__a
->
s6_addr32
[1] == 0 \

416 && 
__a
->
s6_addr32
[2] == 0 \

417 && 
__a
->
s6_addr32
[3] =0; 
	}
}))

	)

419 
	#IN6_IS_ADDR_LOOPBACK
(
a
) \

420 (
__exãnsi⁄__
 \

421 ({ c⁄° 
ö6_addr
 *
__a
 = (c⁄° ö6_add∏*Ë(
a
); \

422 
__a
->
s6_addr32
[0] == 0 \

423 && 
__a
->
s6_addr32
[1] == 0 \

424 && 
__a
->
s6_addr32
[2] == 0 \

425 && 
__a
->
s6_addr32
[3] =
	`ht⁄l
 (1); }))

	)

427 
	#IN6_IS_ADDR_LINKLOCAL
(
a
) \

428 (
__exãnsi⁄__
 \

429 ({ c⁄° 
ö6_addr
 *
__a
 = (c⁄° ö6_add∏*Ë(
a
); \

430 (
__a
->
s6_addr32
[0] & 
	`ht⁄l
 (0xffc00000)Ë=ht⁄»(0x„800000); }))

	)

432 
	#IN6_IS_ADDR_SITELOCAL
(
a
) \

433 (
__exãnsi⁄__
 \

434 ({ c⁄° 
ö6_addr
 *
__a
 = (c⁄° ö6_add∏*Ë(
a
); \

435 (
__a
->
s6_addr32
[0] & 
	`ht⁄l
 (0xffc00000)Ë=ht⁄»(0x„c00000); }))

	)

437 
	#IN6_IS_ADDR_V4MAPPED
(
a
) \

438 (
__exãnsi⁄__
 \

439 ({ c⁄° 
ö6_addr
 *
__a
 = (c⁄° ö6_add∏*Ë(
a
); \

440 
__a
->
s6_addr32
[0] == 0 \

441 && 
__a
->
s6_addr32
[1] == 0 \

442 && 
__a
->
s6_addr32
[2] =
	`ht⁄l
 (0xffff); }))

	)

444 
	#IN6_IS_ADDR_V4COMPAT
(
a
) \

445 (
__exãnsi⁄__
 \

446 ({ c⁄° 
ö6_addr
 *
__a
 = (c⁄° ö6_add∏*Ë(
a
); \

447 
__a
->
s6_addr32
[0] == 0 \

448 && 
__a
->
s6_addr32
[1] == 0 \

449 && 
__a
->
s6_addr32
[2] == 0 \

450 && 
	`¡ohl
 (
__a
->
s6_addr32
[3]Ë> 1; }))

	)

452 
	#IN6_ARE_ADDR_EQUAL
(
a
,
b
) \

453 (
__exãnsi⁄__
 \

454 ({ c⁄° 
ö6_addr
 *
__a
 = (c⁄° ö6_add∏*Ë(
a
); \

455 c⁄° 
ö6_addr
 *
__b
 = (c⁄° ö6_add∏*Ë(
b
); \

456 
__a
->
s6_addr32
[0] =
__b
->s6_addr32[0] \

457 && 
__a
->
s6_addr32
[1] =
__b
->s6_addr32[1] \

458 && 
__a
->
s6_addr32
[2] =
__b
->s6_addr32[2] \

459 && 
__a
->
s6_addr32
[3] =
__b
->s6_addr32[3]; }))

	)

461 
	#IN6_IS_ADDR_UNSPECIFIED
(
a
) \

462 (((c⁄° 
uöt32_t
 *Ë(
a
))[0] == 0 \

463 && ((c⁄° 
uöt32_t
 *Ë(
a
))[1] == 0 \

464 && ((c⁄° 
uöt32_t
 *Ë(
a
))[2] == 0 \

465 && ((c⁄° 
uöt32_t
 *Ë(
a
))[3] =0)

	)

467 
	#IN6_IS_ADDR_LOOPBACK
(
a
) \

468 (((c⁄° 
uöt32_t
 *Ë(
a
))[0] == 0 \

469 && ((c⁄° 
uöt32_t
 *Ë(
a
))[1] == 0 \

470 && ((c⁄° 
uöt32_t
 *Ë(
a
))[2] == 0 \

471 && ((c⁄° 
uöt32_t
 *Ë(
a
))[3] =
	`ht⁄l
 (1))

	)

473 
	#IN6_IS_ADDR_LINKLOCAL
(
a
) \

474 ((((c⁄° 
uöt32_t
 *Ë(
a
))[0] & 
	`ht⁄l
 (0xffc00000)) \

475 =
	`ht⁄l
 (0x„800000))

	)

477 
	#IN6_IS_ADDR_SITELOCAL
(
a
) \

478 ((((c⁄° 
uöt32_t
 *Ë(
a
))[0] & 
	`ht⁄l
 (0xffc00000)) \

479 =
	`ht⁄l
 (0x„c00000))

	)

481 
	#IN6_IS_ADDR_V4MAPPED
(
a
) \

482 ((((c⁄° 
uöt32_t
 *Ë(
a
))[0] == 0) \

483 && (((c⁄° 
uöt32_t
 *Ë(
a
))[1] == 0) \

484 && (((c⁄° 
uöt32_t
 *Ë(
a
))[2] =
	`ht⁄l
 (0xffff)))

	)

486 
	#IN6_IS_ADDR_V4COMPAT
(
a
) \

487 ((((c⁄° 
uöt32_t
 *Ë(
a
))[0] == 0) \

488 && (((c⁄° 
uöt32_t
 *Ë(
a
))[1] == 0) \

489 && (((c⁄° 
uöt32_t
 *Ë(
a
))[2] == 0) \

490 && (
	`¡ohl
 (((c⁄° 
uöt32_t
 *Ë(
a
))[3]Ë> 1))

	)

492 
	#IN6_ARE_ADDR_EQUAL
(
a
,
b
) \

493 ((((c⁄° 
uöt32_t
 *Ë(
a
))[0] =((c⁄° uöt32_à*Ë(
b
))[0]) \

494 && (((c⁄° 
uöt32_t
 *Ë(
a
))[1] =((c⁄° uöt32_à*Ë(
b
))[1]) \

495 && (((c⁄° 
uöt32_t
 *Ë(
a
))[2] =((c⁄° uöt32_à*Ë(
b
))[2]) \

496 && (((c⁄° 
uöt32_t
 *Ë(
a
))[3] =((c⁄° uöt32_à*Ë(
b
))[3]))

	)

499 
	#IN6_IS_ADDR_MULTICAST
(
a
Ë(((c⁄° 
uöt8_t
 *Ë◊))[0] =0xff)

	)

501 #ifde‡
__USE_MISC


503 
	$bödªsvp‹t
 (
__sockfd
, 
sockaddr_ö
 *
__sock_ö
Ë
__THROW
;

506 
	$bödªsvp‹t6
 (
__sockfd
, 
sockaddr_ö6
 *
__sock_ö
)

507 
__THROW
;

511 
	#IN6_IS_ADDR_MC_NODELOCAL
(
a
) \

512 (
	`IN6_IS_ADDR_MULTICAST
(
a
) \

513 && ((((c⁄° 
uöt8_t
 *Ë(
a
))[1] & 0xfË=0x1))

	)

515 
	#IN6_IS_ADDR_MC_LINKLOCAL
(
a
) \

516 (
	`IN6_IS_ADDR_MULTICAST
(
a
) \

517 && ((((c⁄° 
uöt8_t
 *Ë(
a
))[1] & 0xfË=0x2))

	)

519 
	#IN6_IS_ADDR_MC_SITELOCAL
(
a
) \

520 (
	`IN6_IS_ADDR_MULTICAST
(
a
) \

521 && ((((c⁄° 
uöt8_t
 *Ë(
a
))[1] & 0xfË=0x5))

	)

523 
	#IN6_IS_ADDR_MC_ORGLOCAL
(
a
) \

524 (
	`IN6_IS_ADDR_MULTICAST
(
a
) \

525 && ((((c⁄° 
uöt8_t
 *Ë(
a
))[1] & 0xfË=0x8))

	)

527 
	#IN6_IS_ADDR_MC_GLOBAL
(
a
) \

528 (
	`IN6_IS_ADDR_MULTICAST
(
a
) \

529 && ((((c⁄° 
uöt8_t
 *Ë(
a
))[1] & 0xfË=0xe))

	)

532 #ifde‡
__USE_GNU


533 
cmsghdr
;

535 #i‡!
__USE_KERNEL_IPV6_DEFS


537 
	sö6_pktöfo


539 
ö6_addr
 
ùi6_addr
;

540 
ùi6_ifödex
;

544 
	sù6_mtuöfo


546 
sockaddr_ö6
 
ù6m_addr
;

547 
uöt32_t
 
ù6m_mtu
;

552 
	$öë6_›ti⁄_•a˚
 (
__nbyãs
)

553 
__THROW
 
__©åibuã_dïªˇãd__
;

554 
	$öë6_›ti⁄_öô
 (*
__bp
, 
cmsghdr
 **
__cmsgp
,

555 
__ty≥
Ë
__THROW
 
__©åibuã_dïªˇãd__
;

556 
	$öë6_›ti⁄_≠≥nd
 (
cmsghdr
 *
__cmsg
,

557 c⁄° 
uöt8_t
 *
__ty≥p
, 
__mu…x
,

558 
__∂usy
Ë
__THROW
 
__©åibuã_dïªˇãd__
;

559 
uöt8_t
 *
	$öë6_›ti⁄_Æloc
 (
cmsghdr
 *
__cmsg
, 
__d©Æí
,

560 
__mu…x
, 
__∂usy
)

561 
__THROW
 
__©åibuã_dïªˇãd__
;

562 
	$öë6_›ti⁄_√xt
 (c⁄° 
cmsghdr
 *
__cmsg
,

563 
uöt8_t
 **
__çåp
)

564 
__THROW
 
__©åibuã_dïªˇãd__
;

565 
	$öë6_›ti⁄_föd
 (c⁄° 
cmsghdr
 *
__cmsg
,

566 
uöt8_t
 **
__çåp
, 
__ty≥
)

567 
__THROW
 
__©åibuã_dïªˇãd__
;

571 
	$öë6_›t_öô
 (*
__extbuf
, 
sockÀn_t
 
__exéí
Ë
__THROW
;

572 
	$öë6_›t_≠≥nd
 (*
__extbuf
, 
sockÀn_t
 
__exéí
, 
__off£t
,

573 
uöt8_t
 
__ty≥
, 
sockÀn_t
 
__Àn
, uöt8_à
__Æign
,

574 **
__d©abuÂ
Ë
__THROW
;

575 
	$öë6_›t_föish
 (*
__extbuf
, 
sockÀn_t
 
__exéí
, 
__off£t
)

576 
__THROW
;

577 
	$öë6_›t_£t_vÆ
 (*
__d©abuf
, 
__off£t
, *
__vÆ
,

578 
sockÀn_t
 
__vÆÀn
Ë
__THROW
;

579 
	$öë6_›t_√xt
 (*
__extbuf
, 
sockÀn_t
 
__exéí
, 
__off£t
,

580 
uöt8_t
 *
__ty≥p
, 
sockÀn_t
 *
__À≈
,

581 **
__d©abuÂ
Ë
__THROW
;

582 
	$öë6_›t_föd
 (*
__extbuf
, 
sockÀn_t
 
__exéí
, 
__off£t
,

583 
uöt8_t
 
__ty≥
, 
sockÀn_t
 *
__À≈
,

584 **
__d©abuÂ
Ë
__THROW
;

585 
	$öë6_›t_gë_vÆ
 (*
__d©abuf
, 
__off£t
, *
__vÆ
,

586 
sockÀn_t
 
__vÆÀn
Ë
__THROW
;

590 
sockÀn_t
 
	$öë6_πh_•a˚
 (
__ty≥
, 
__£gmíts
Ë
__THROW
;

591 *
	$öë6_πh_öô
 (*
__bp
, 
sockÀn_t
 
__bp_Àn
, 
__ty≥
,

592 
__£gmíts
Ë
__THROW
;

593 
	$öë6_πh_add
 (*
__bp
, c⁄° 
ö6_addr
 *
__addr
Ë
__THROW
;

594 
	$öë6_πh_ªvî£
 (c⁄° *
__ö
, *
__out
Ë
__THROW
;

595 
	$öë6_πh_£gmíts
 (c⁄° *
__bp
Ë
__THROW
;

596 
ö6_addr
 *
	$öë6_πh_gëaddr
 (c⁄° *
__bp
, 
__ödex
)

597 
__THROW
;

603 
	$gëùv4sour˚fûãr
 (
__s
, 
ö_addr
 
__öãrÁ˚_addr
,

604 
ö_addr
 
__group
, 
uöt32_t
 *
__fmode
,

605 
uöt32_t
 *
__num§c
, 
ö_addr
 *
__¶i°
)

606 
__THROW
;

609 
	$£tùv4sour˚fûãr
 (
__s
, 
ö_addr
 
__öãrÁ˚_addr
,

610 
ö_addr
 
__group
, 
uöt32_t
 
__fmode
,

611 
uöt32_t
 
__num§c
,

612 c⁄° 
ö_addr
 *
__¶i°
)

613 
__THROW
;

617 
	$gësour˚fûãr
 (
__s
, 
uöt32_t
 
__öãrÁ˚_addr
,

618 c⁄° 
sockaddr
 *
__group
,

619 
sockÀn_t
 
__grou∂í
, 
uöt32_t
 *
__fmode
,

620 
uöt32_t
 *
__num§c
,

621 
sockaddr_°‹age
 *
__¶i°
Ë
__THROW
;

624 
	$£tsour˚fûãr
 (
__s
, 
uöt32_t
 
__öãrÁ˚_addr
,

625 c⁄° 
sockaddr
 *
__group
,

626 
sockÀn_t
 
__grou∂í
, 
uöt32_t
 
__fmode
,

627 
uöt32_t
 
__num§c
,

628 c⁄° 
sockaddr_°‹age
 *
__¶i°
Ë
__THROW
;

631 
__END_DECLS


	@/usr/include/stdint.h

22 #i‚de‡
_STDINT_H


23 
	#_STDINT_H
 1

	)

25 
	~<„©uªs.h
>

26 
	~<bôs/wch¨.h
>

27 
	~<bôs/w‹dsize.h
>

34 #i‚de‡
__öt8_t_deföed


35 
	#__öt8_t_deföed


	)

36 sig√d 
	töt8_t
;

37 
	töt16_t
;

38 
	töt32_t
;

39 #i‡
__WORDSIZE
 == 64

40 
	töt64_t
;

42 
__exãnsi⁄__


43 
	töt64_t
;

48 
	tuöt8_t
;

49 
	tuöt16_t
;

50 #i‚de‡
__uöt32_t_deföed


51 
	tuöt32_t
;

52 
	#__uöt32_t_deföed


	)

54 #i‡
__WORDSIZE
 == 64

55 
	tuöt64_t
;

57 
__exãnsi⁄__


58 
	tuöt64_t
;

65 sig√d 
	töt_Àa°8_t
;

66 
	töt_Àa°16_t
;

67 
	töt_Àa°32_t
;

68 #i‡
__WORDSIZE
 == 64

69 
	töt_Àa°64_t
;

71 
__exãnsi⁄__


72 
	töt_Àa°64_t
;

76 
	tuöt_Àa°8_t
;

77 
	tuöt_Àa°16_t
;

78 
	tuöt_Àa°32_t
;

79 #i‡
__WORDSIZE
 == 64

80 
	tuöt_Àa°64_t
;

82 
__exãnsi⁄__


83 
	tuöt_Àa°64_t
;

90 sig√d 
	töt_Á°8_t
;

91 #i‡
__WORDSIZE
 == 64

92 
	töt_Á°16_t
;

93 
	töt_Á°32_t
;

94 
	töt_Á°64_t
;

96 
	töt_Á°16_t
;

97 
	töt_Á°32_t
;

98 
__exãnsi⁄__


99 
	töt_Á°64_t
;

103 
	tuöt_Á°8_t
;

104 #i‡
__WORDSIZE
 == 64

105 
	tuöt_Á°16_t
;

106 
	tuöt_Á°32_t
;

107 
	tuöt_Á°64_t
;

109 
	tuöt_Á°16_t
;

110 
	tuöt_Á°32_t
;

111 
__exãnsi⁄__


112 
	tuöt_Á°64_t
;

117 #i‡
__WORDSIZE
 == 64

118 #i‚de‡
__öçå_t_deföed


119 
	töçå_t
;

120 
	#__öçå_t_deföed


	)

122 
	tuöçå_t
;

124 #i‚de‡
__öçå_t_deföed


125 
	töçå_t
;

126 
	#__öçå_t_deföed


	)

128 
	tuöçå_t
;

133 #i‡
__WORDSIZE
 == 64

134 
	tötmax_t
;

135 
	tuötmax_t
;

137 
__exãnsi⁄__


138 
	tötmax_t
;

139 
__exãnsi⁄__


140 
	tuötmax_t
;

144 #i‡
__WORDSIZE
 == 64

145 
	#__INT64_C
(
c
Ë¯## 
L


	)

146 
	#__UINT64_C
(
c
Ë¯## 
UL


	)

148 
	#__INT64_C
(
c
Ë¯## 
LL


	)

149 
	#__UINT64_C
(
c
Ë¯## 
ULL


	)

155 
	#INT8_MIN
 (-128)

	)

156 
	#INT16_MIN
 (-32767-1)

	)

157 
	#INT32_MIN
 (-2147483647-1)

	)

158 
	#INT64_MIN
 (-
	`__INT64_C
(9223372036854775807)-1)

	)

160 
	#INT8_MAX
 (127)

	)

161 
	#INT16_MAX
 (32767)

	)

162 
	#INT32_MAX
 (2147483647)

	)

163 
	#INT64_MAX
 (
	`__INT64_C
(9223372036854775807))

	)

166 
	#UINT8_MAX
 (255)

	)

167 
	#UINT16_MAX
 (65535)

	)

168 
	#UINT32_MAX
 (4294967295U)

	)

169 
	#UINT64_MAX
 (
	`__UINT64_C
(18446744073709551615))

	)

173 
	#INT_LEAST8_MIN
 (-128)

	)

174 
	#INT_LEAST16_MIN
 (-32767-1)

	)

175 
	#INT_LEAST32_MIN
 (-2147483647-1)

	)

176 
	#INT_LEAST64_MIN
 (-
	`__INT64_C
(9223372036854775807)-1)

	)

178 
	#INT_LEAST8_MAX
 (127)

	)

179 
	#INT_LEAST16_MAX
 (32767)

	)

180 
	#INT_LEAST32_MAX
 (2147483647)

	)

181 
	#INT_LEAST64_MAX
 (
	`__INT64_C
(9223372036854775807))

	)

184 
	#UINT_LEAST8_MAX
 (255)

	)

185 
	#UINT_LEAST16_MAX
 (65535)

	)

186 
	#UINT_LEAST32_MAX
 (4294967295U)

	)

187 
	#UINT_LEAST64_MAX
 (
	`__UINT64_C
(18446744073709551615))

	)

191 
	#INT_FAST8_MIN
 (-128)

	)

192 #i‡
__WORDSIZE
 == 64

193 
	#INT_FAST16_MIN
 (-9223372036854775807L-1)

	)

194 
	#INT_FAST32_MIN
 (-9223372036854775807L-1)

	)

196 
	#INT_FAST16_MIN
 (-2147483647-1)

	)

197 
	#INT_FAST32_MIN
 (-2147483647-1)

	)

199 
	#INT_FAST64_MIN
 (-
	`__INT64_C
(9223372036854775807)-1)

	)

201 
	#INT_FAST8_MAX
 (127)

	)

202 #i‡
__WORDSIZE
 == 64

203 
	#INT_FAST16_MAX
 (9223372036854775807L)

	)

204 
	#INT_FAST32_MAX
 (9223372036854775807L)

	)

206 
	#INT_FAST16_MAX
 (2147483647)

	)

207 
	#INT_FAST32_MAX
 (2147483647)

	)

209 
	#INT_FAST64_MAX
 (
	`__INT64_C
(9223372036854775807))

	)

212 
	#UINT_FAST8_MAX
 (255)

	)

213 #i‡
__WORDSIZE
 == 64

214 
	#UINT_FAST16_MAX
 (18446744073709551615UL)

	)

215 
	#UINT_FAST32_MAX
 (18446744073709551615UL)

	)

217 
	#UINT_FAST16_MAX
 (4294967295U)

	)

218 
	#UINT_FAST32_MAX
 (4294967295U)

	)

220 
	#UINT_FAST64_MAX
 (
	`__UINT64_C
(18446744073709551615))

	)

224 #i‡
__WORDSIZE
 == 64

225 
	#INTPTR_MIN
 (-9223372036854775807L-1)

	)

226 
	#INTPTR_MAX
 (9223372036854775807L)

	)

227 
	#UINTPTR_MAX
 (18446744073709551615UL)

	)

229 
	#INTPTR_MIN
 (-2147483647-1)

	)

230 
	#INTPTR_MAX
 (2147483647)

	)

231 
	#UINTPTR_MAX
 (4294967295U)

	)

236 
	#INTMAX_MIN
 (-
	`__INT64_C
(9223372036854775807)-1)

	)

238 
	#INTMAX_MAX
 (
	`__INT64_C
(9223372036854775807))

	)

241 
	#UINTMAX_MAX
 (
	`__UINT64_C
(18446744073709551615))

	)

247 #i‡
__WORDSIZE
 == 64

248 
	#PTRDIFF_MIN
 (-9223372036854775807L-1)

	)

249 
	#PTRDIFF_MAX
 (9223372036854775807L)

	)

251 
	#PTRDIFF_MIN
 (-2147483647-1)

	)

252 
	#PTRDIFF_MAX
 (2147483647)

	)

256 
	#SIG_ATOMIC_MIN
 (-2147483647-1)

	)

257 
	#SIG_ATOMIC_MAX
 (2147483647)

	)

260 #i‡
__WORDSIZE
 == 64

261 
	#SIZE_MAX
 (18446744073709551615UL)

	)

263 #ifde‡
__WORDSIZE32_SIZE_ULONG


264 
	#SIZE_MAX
 (4294967295UL)

	)

266 
	#SIZE_MAX
 (4294967295U)

	)

271 #i‚de‡
WCHAR_MIN


273 
	#WCHAR_MIN
 
__WCHAR_MIN


	)

274 
	#WCHAR_MAX
 
__WCHAR_MAX


	)

278 
	#WINT_MIN
 (0u)

	)

279 
	#WINT_MAX
 (4294967295u)

	)

282 
	#INT8_C
(
c
Ë
	)
c

283 
	#INT16_C
(
c
Ë
	)
c

284 
	#INT32_C
(
c
Ë
	)
c

285 #i‡
__WORDSIZE
 == 64

286 
	#INT64_C
(
c
Ë¯## 
L


	)

288 
	#INT64_C
(
c
Ë¯## 
LL


	)

292 
	#UINT8_C
(
c
Ë
	)
c

293 
	#UINT16_C
(
c
Ë
	)
c

294 
	#UINT32_C
(
c
Ë¯## 
U


	)

295 #i‡
__WORDSIZE
 == 64

296 
	#UINT64_C
(
c
Ë¯## 
UL


	)

298 
	#UINT64_C
(
c
Ë¯## 
ULL


	)

302 #i‡
__WORDSIZE
 == 64

303 
	#INTMAX_C
(
c
Ë¯## 
L


	)

304 
	#UINTMAX_C
(
c
Ë¯## 
UL


	)

306 
	#INTMAX_C
(
c
Ë¯## 
LL


	)

307 
	#UINTMAX_C
(
c
Ë¯## 
ULL


	)

	@/usr/include/string.h

22 #i‚def 
_STRING_H


23 
	#_STRING_H
 1

	)

25 
	~<„©uªs.h
>

27 
	g__BEGIN_DECLS


30 
	#__√ed_size_t


	)

31 
	#__√ed_NULL


	)

32 
	~<°ddef.h
>

35 #i‡
deföed
 
__˝lu•lus
 && 
__GNUC_PREREQ
 (4, 4)

36 
	#__CORRECT_ISO_CPP_STRING_H_PROTO


	)

40 
__BEGIN_NAMESPACE_STD


42 *
	$mem˝y
 (*
__ª°ri˘
 
__de°
, c⁄° *__ª°ri˘ 
__§c
,

43 
size_t
 
__n
Ë
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

46 *
	$memmove
 (*
__de°
, c⁄° *
__§c
, 
size_t
 
__n
)

47 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

48 
__END_NAMESPACE_STD


53 #i‡
deföed
 
__USE_MISC
 || deföed 
__USE_XOPEN


54 *
	$memc˝y
 (*
__ª°ri˘
 
__de°
, c⁄° *__ª°ri˘ 
__§c
,

55 
__c
, 
size_t
 
__n
)

56 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

60 
__BEGIN_NAMESPACE_STD


62 *
	$mem£t
 (*
__s
, 
__c
, 
size_t
 
__n
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

65 
	$memcmp
 (c⁄° *
__s1
, c⁄° *
__s2
, 
size_t
 
__n
)

66 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2));

69 #ifde‡
__CORRECT_ISO_CPP_STRING_H_PROTO


72 *
	`memchr
 (*
__s
, 
__c
, 
size_t
 
__n
)

73 
__THROW
 
	`__asm
 ("memchr"Ë
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

74 c⁄° *
	`memchr
 (c⁄° *
__s
, 
__c
, 
size_t
 
__n
)

75 
__THROW
 
	`__asm
 ("memchr"Ë
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

77 #ifde‡
__OPTIMIZE__


78 
__exã∫_Æways_ölöe
 *

79 
	`memchr
 (*
__s
, 
__c
, 
size_t
 
__n
Ë
__THROW


81  
	`__buûtö_memchr
 (
__s
, 
__c
, 
__n
);

84 
__exã∫_Æways_ölöe
 const *

85 
	`memchr
 (c⁄° *
__s
, 
__c
, 
size_t
 
__n
Ë
__THROW


87  
	`__buûtö_memchr
 (
__s
, 
__c
, 
__n
);

90 
	}
}

92 *
	$memchr
 (c⁄° *
__s
, 
__c
, 
size_t
 
__n
)

93 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

95 
__END_NAMESPACE_STD


97 #ifde‡
__USE_GNU


100 #ifde‡
__CORRECT_ISO_CPP_STRING_H_PROTO


101 "C++" *
	$øwmemchr
 (*
__s
, 
__c
)

102 
__THROW
 
	`__asm
 ("øwmemchr"Ë
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

103 "C++" c⁄° *
	$øwmemchr
 (c⁄° *
__s
, 
__c
)

104 
__THROW
 
	`__asm
 ("øwmemchr"Ë
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

106 *
	$øwmemchr
 (c⁄° *
__s
, 
__c
)

107 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

111 #ifde‡
__CORRECT_ISO_CPP_STRING_H_PROTO


112 "C++" *
	$memrchr
 (*
__s
, 
__c
, 
size_t
 
__n
)

113 
__THROW
 
	`__asm
 ("memrchr"Ë
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

114 "C++" c⁄° *
	$memrchr
 (c⁄° *
__s
, 
__c
, 
size_t
 
__n
)

115 
__THROW
 
	`__asm
 ("memrchr"Ë
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

117 *
	$memrchr
 (c⁄° *
__s
, 
__c
, 
size_t
 
__n
)

118 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

123 
__BEGIN_NAMESPACE_STD


125 *
	$°r˝y
 (*
__ª°ri˘
 
__de°
, c⁄° *__ª°ri˘ 
__§c
)

126 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

128 *
	$°∫˝y
 (*
__ª°ri˘
 
__de°
,

129 c⁄° *
__ª°ri˘
 
__§c
, 
size_t
 
__n
)

130 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

133 *
	$°rˇt
 (*
__ª°ri˘
 
__de°
, c⁄° *__ª°ri˘ 
__§c
)

134 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

136 *
	$°∫ˇt
 (*
__ª°ri˘
 
__de°
, c⁄° *__ª°ri˘ 
__§c
,

137 
size_t
 
__n
Ë
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

140 
	$°rcmp
 (c⁄° *
__s1
, c⁄° *
__s2
)

141 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2));

143 
	$°∫cmp
 (c⁄° *
__s1
, c⁄° *
__s2
, 
size_t
 
__n
)

144 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2));

147 
	$°rcﬁl
 (c⁄° *
__s1
, c⁄° *
__s2
)

148 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2));

150 
size_t
 
	$°rx‰m
 (*
__ª°ri˘
 
__de°
,

151 c⁄° *
__ª°ri˘
 
__§c
, 
size_t
 
__n
)

152 
__THROW
 
	`__n⁄nuŒ
 ((2));

153 
__END_NAMESPACE_STD


155 #ifde‡
__USE_XOPEN2K8


159 
	~<xloˇÀ.h
>

162 
	$°rcﬁl_l
 (c⁄° *
__s1
, c⁄° *
__s2
, 
__loˇÀ_t
 
__l
)

163 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2, 3));

165 
size_t
 
	$°rx‰m_l
 (*
__de°
, c⁄° *
__§c
, 
size_t
 
__n
,

166 
__loˇÀ_t
 
__l
Ë
__THROW
 
	`__n⁄nuŒ
 ((2, 4));

169 #i‡
deföed
 
__USE_XOPEN_EXTENDED
 || deföed 
__USE_XOPEN2K8


171 *
	$°rdup
 (c⁄° *
__s
)

172 
__THROW
 
__©åibuã_mÆloc__
 
	`__n⁄nuŒ
 ((1));

178 #i‡
deföed
 
__USE_XOPEN2K8


179 *
	$°∫dup
 (c⁄° *
__°rög
, 
size_t
 
__n
)

180 
__THROW
 
__©åibuã_mÆloc__
 
	`__n⁄nuŒ
 ((1));

183 #i‡
deföed
 
__USE_GNU
 && deföed 
__GNUC__


185 
	#°rdu∑
(
s
) \

186 (
__exãnsi⁄__
 \

188 c⁄° *
__ﬁd
 = (
s
); \

189 
size_t
 
__Àn
 = 
	`°æí
 (
__ﬁd
) + 1; \

190 *
__√w
 = (*Ë
	`__buûtö_Æloˇ
 (
__Àn
); \

191 (*Ë
	`mem˝y
 (
__√w
, 
__ﬁd
, 
__Àn
); \

192 
	}
}))

	)

195 
	#°∫du∑
(
s
, 
n
) \

196 (
__exãnsi⁄__
 \

198 c⁄° *
__ﬁd
 = (
s
); \

199 
size_t
 
__Àn
 = 
	`°∫Àn
 (
__ﬁd
, (
n
)); \

200 *
__√w
 = (*Ë
	`__buûtö_Æloˇ
 (
__Àn
 + 1); \

201 
__√w
[
__Àn
] = '\0'; \

202 (*Ë
	`mem˝y
 (
__√w
, 
__ﬁd
, 
__Àn
); \

203 }))

	)

206 
	g__BEGIN_NAMESPACE_STD


208 #ifde‡
__CORRECT_ISO_CPP_STRING_H_PROTO


211 *
°rchr
 (*
__s
, 
__c
)

212 
__THROW
 
__asm
 ("°rchr"Ë
__©åibuã_puª__
 
__n⁄nuŒ
 ((1));

213 c⁄° *
°rchr
 (c⁄° *
__s
, 
__c
)

214 
__THROW
 
__asm
 ("°rchr"Ë
__©åibuã_puª__
 
__n⁄nuŒ
 ((1));

216 #ifde‡
__OPTIMIZE__


217 
__exã∫_Æways_ölöe
 *

218 
°rchr
 (*
__s
, 
__c
Ë
	g__THROW


220  
__buûtö_°rchr
 (
__s
, 
__c
);

223 
__exã∫_Æways_ölöe
 const *

224 
°rchr
 (c⁄° *
__s
, 
__c
Ë
	g__THROW


226  
__buûtö_°rchr
 (
__s
, 
__c
);

231 *
	$°rchr
 (c⁄° *
__s
, 
__c
)

232 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

235 #ifde‡
__CORRECT_ISO_CPP_STRING_H_PROTO


238 *
	`°ºchr
 (*
__s
, 
__c
)

239 
__THROW
 
	`__asm
 ("°ºchr"Ë
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

240 c⁄° *
	`°ºchr
 (c⁄° *
__s
, 
__c
)

241 
__THROW
 
	`__asm
 ("°ºchr"Ë
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

243 #ifde‡
__OPTIMIZE__


244 
__exã∫_Æways_ölöe
 *

245 
	`°ºchr
 (*
__s
, 
__c
Ë
__THROW


247  
	`__buûtö_°ºchr
 (
__s
, 
__c
);

250 
__exã∫_Æways_ölöe
 const *

251 
	`°ºchr
 (c⁄° *
__s
, 
__c
Ë
__THROW


253  
	`__buûtö_°ºchr
 (
__s
, 
__c
);

256 
	}
}

258 *
	$°ºchr
 (c⁄° *
__s
, 
__c
)

259 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

261 
__END_NAMESPACE_STD


263 #ifde‡
__USE_GNU


266 #ifde‡
__CORRECT_ISO_CPP_STRING_H_PROTO


267 "C++" *
	$°rch∫ul
 (*
__s
, 
__c
)

268 
__THROW
 
	`__asm
 ("°rch∫ul"Ë
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

269 "C++" c⁄° *
	$°rch∫ul
 (c⁄° *
__s
, 
__c
)

270 
__THROW
 
	`__asm
 ("°rch∫ul"Ë
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

272 *
	$°rch∫ul
 (c⁄° *
__s
, 
__c
)

273 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

277 
__BEGIN_NAMESPACE_STD


280 
size_t
 
	$°rc•n
 (c⁄° *
__s
, c⁄° *
__ªje˘
)

281 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2));

284 
size_t
 
	$°r•n
 (c⁄° *
__s
, c⁄° *
__ac˚±
)

285 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2));

287 #ifde‡
__CORRECT_ISO_CPP_STRING_H_PROTO


290 *
	`°Ωbrk
 (*
__s
, c⁄° *
__ac˚±
)

291 
__THROW
 
	`__asm
 ("°Ωbrk"Ë
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2));

292 c⁄° *
	`°Ωbrk
 (c⁄° *
__s
, c⁄° *
__ac˚±
)

293 
__THROW
 
	`__asm
 ("°Ωbrk"Ë
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2));

295 #ifde‡
__OPTIMIZE__


296 
__exã∫_Æways_ölöe
 *

297 
	`°Ωbrk
 (*
__s
, c⁄° *
__ac˚±
Ë
__THROW


299  
	`__buûtö_°Ωbrk
 (
__s
, 
__ac˚±
);

302 
__exã∫_Æways_ölöe
 const *

303 
	`°Ωbrk
 (c⁄° *
__s
, c⁄° *
__ac˚±
Ë
__THROW


305  
	`__buûtö_°Ωbrk
 (
__s
, 
__ac˚±
);

308 
	}
}

310 *
	$°Ωbrk
 (c⁄° *
__s
, c⁄° *
__ac˚±
)

311 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2));

314 #ifde‡
__CORRECT_ISO_CPP_STRING_H_PROTO


317 *
	`°r°r
 (*
__hay°ack
, c⁄° *
__√edÀ
)

318 
__THROW
 
	`__asm
 ("°r°r"Ë
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2));

319 c⁄° *
	`°r°r
 (c⁄° *
__hay°ack
, c⁄° *
__√edÀ
)

320 
__THROW
 
	`__asm
 ("°r°r"Ë
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2));

322 #ifde‡
__OPTIMIZE__


323 
__exã∫_Æways_ölöe
 *

324 
	`°r°r
 (*
__hay°ack
, c⁄° *
__√edÀ
Ë
__THROW


326  
	`__buûtö_°r°r
 (
__hay°ack
, 
__√edÀ
);

329 
__exã∫_Æways_ölöe
 const *

330 
	`°r°r
 (c⁄° *
__hay°ack
, c⁄° *
__√edÀ
Ë
__THROW


332  
	`__buûtö_°r°r
 (
__hay°ack
, 
__√edÀ
);

335 
	}
}

337 *
	$°r°r
 (c⁄° *
__hay°ack
, c⁄° *
__√edÀ
)

338 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2));

343 *
	$°πok
 (*
__ª°ri˘
 
__s
, c⁄° *__ª°ri˘ 
__dñim
)

344 
__THROW
 
	`__n⁄nuŒ
 ((2));

345 
__END_NAMESPACE_STD


349 *
	$__°πok_r
 (*
__ª°ri˘
 
__s
,

350 c⁄° *
__ª°ri˘
 
__dñim
,

351 **
__ª°ri˘
 
__ßve_±r
)

352 
__THROW
 
	`__n⁄nuŒ
 ((2, 3));

353 #ifde‡
__USE_POSIX


354 *
	$°πok_r
 (*
__ª°ri˘
 
__s
, c⁄° *__ª°ri˘ 
__dñim
,

355 **
__ª°ri˘
 
__ßve_±r
)

356 
__THROW
 
	`__n⁄nuŒ
 ((2, 3));

359 #ifde‡
__USE_GNU


361 #ifde‡
__CORRECT_ISO_CPP_STRING_H_PROTO


362 "C++" *
	$°rˇ£°r
 (*
__hay°ack
, c⁄° *
__√edÀ
)

363 
__THROW
 
	`__asm
 ("°rˇ£°r"Ë
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2));

364 "C++" c⁄° *
	$°rˇ£°r
 (c⁄° *
__hay°ack
,

365 c⁄° *
__√edÀ
)

366 
__THROW
 
	`__asm
 ("°rˇ£°r"Ë
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2));

368 *
	$°rˇ£°r
 (c⁄° *
__hay°ack
, c⁄° *
__√edÀ
)

369 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2));

373 #ifde‡
__USE_GNU


377 *
	$memmem
 (c⁄° *
__hay°ack
, 
size_t
 
__hay°ackÀn
,

378 c⁄° *
__√edÀ
, 
size_t
 
__√edÀÀn
)

379 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 3));

383 *
	$__memp˝y
 (*
__ª°ri˘
 
__de°
,

384 c⁄° *
__ª°ri˘
 
__§c
, 
size_t
 
__n
)

385 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

386 *
	$memp˝y
 (*
__ª°ri˘
 
__de°
,

387 c⁄° *
__ª°ri˘
 
__§c
, 
size_t
 
__n
)

388 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

392 
__BEGIN_NAMESPACE_STD


394 
size_t
 
	$°æí
 (c⁄° *
__s
)

395 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

396 
__END_NAMESPACE_STD


398 #ifdef 
__USE_XOPEN2K8


401 
size_t
 
	$°∫Àn
 (c⁄° *
__°rög
, 
size_t
 
__maxÀn
)

402 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

406 
__BEGIN_NAMESPACE_STD


408 *
	$°ªº‹
 (
__î∫um
Ë
__THROW
;

409 
__END_NAMESPACE_STD


410 #ifde‡
__USE_XOPEN2K


418 #i‡
deföed
 
__USE_XOPEN2K
 && !deföed 
__USE_GNU


421 #ifde‡
__REDIRECT_NTH


422 
	`__REDIRECT_NTH
 (
°ªº‹_r
,

423 (
__î∫um
, *
__buf
, 
size_t
 
__buÊí
),

424 
__xpg_°ªº‹_r
Ë
	`__n⁄nuŒ
 ((2));

426 
	$__xpg_°ªº‹_r
 (
__î∫um
, *
__buf
, 
size_t
 
__buÊí
)

427 
__THROW
 
	`__n⁄nuŒ
 ((2));

428 
	#°ªº‹_r
 
__xpg_°ªº‹_r


	)

433 *
	$°ªº‹_r
 (
__î∫um
, *
__buf
, 
size_t
 
__buÊí
)

434 
__THROW
 
	`__n⁄nuŒ
 ((2)Ë
__wur
;

438 #ifde‡
__USE_XOPEN2K8


440 *
	$°ªº‹_l
 (
__î∫um
, 
__loˇÀ_t
 
__l
Ë
__THROW
;

446 
	$__bzîo
 (*
__s
, 
size_t
 
__n
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

448 #ifde‡
__USE_MISC


450 
	$bc›y
 (c⁄° *
__§c
, *
__de°
, 
size_t
 
__n
)

451 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

454 
	$bzîo
 (*
__s
, 
size_t
 
__n
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

457 
	$bcmp
 (c⁄° *
__s1
, c⁄° *
__s2
, 
size_t
 
__n
)

458 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2));

461 #ifde‡
__CORRECT_ISO_CPP_STRING_H_PROTO


464 *
	`ödex
 (*
__s
, 
__c
)

465 
__THROW
 
	`__asm
 ("ödex"Ë
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

466 c⁄° *
	`ödex
 (c⁄° *
__s
, 
__c
)

467 
__THROW
 
	`__asm
 ("ödex"Ë
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

469 #i‡
deföed
 
__OPTIMIZE__
 && !deföed 
__CORRECT_ISO_CPP_STRINGS_H_PROTO


470 
__exã∫_Æways_ölöe
 *

471 
	`ödex
 (*
__s
, 
__c
Ë
__THROW


473  
	`__buûtö_ödex
 (
__s
, 
__c
);

476 
__exã∫_Æways_ölöe
 const *

477 
	`ödex
 (c⁄° *
__s
, 
__c
Ë
__THROW


479  
	`__buûtö_ödex
 (
__s
, 
__c
);

482 
	}
}

484 *
	$ödex
 (c⁄° *
__s
, 
__c
)

485 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

489 #ifde‡
__CORRECT_ISO_CPP_STRING_H_PROTO


492 *
	`rödex
 (*
__s
, 
__c
)

493 
__THROW
 
	`__asm
 ("rödex"Ë
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

494 c⁄° *
	`rödex
 (c⁄° *
__s
, 
__c
)

495 
__THROW
 
	`__asm
 ("rödex"Ë
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

497 #i‡
deföed
 
__OPTIMIZE__
 && !deföed 
__CORRECT_ISO_CPP_STRINGS_H_PROTO


498 
__exã∫_Æways_ölöe
 *

499 
	`rödex
 (*
__s
, 
__c
Ë
__THROW


501  
	`__buûtö_rödex
 (
__s
, 
__c
);

504 
__exã∫_Æways_ölöe
 const *

505 
	`rödex
 (c⁄° *
__s
, 
__c
Ë
__THROW


507  
	`__buûtö_rödex
 (
__s
, 
__c
);

510 
	}
}

512 *
	$rödex
 (c⁄° *
__s
, 
__c
)

513 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

518 
	$ffs
 (
__i
Ë
__THROW
 
	`__©åibuã__
 ((
__c⁄°__
));

522 #ifdef 
__USE_GNU


523 
	$ff¶
 (
__l
Ë
__THROW
 
	`__©åibuã__
 ((
__c⁄°__
));

524 
__exãnsi⁄__
 
	$ff¶l
 (
__Œ
)

525 
__THROW
 
	`__©åibuã__
 ((
__c⁄°__
));

529 
	$°rˇ£cmp
 (c⁄° *
__s1
, c⁄° *
__s2
)

530 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2));

533 
	$°∫ˇ£cmp
 (c⁄° *
__s1
, c⁄° *
__s2
, 
size_t
 
__n
)

534 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2));

537 #ifdef 
__USE_GNU


540 
	$°rˇ£cmp_l
 (c⁄° *
__s1
, c⁄° *
__s2
,

541 
__loˇÀ_t
 
__loc
)

542 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2, 3));

544 
	$°∫ˇ£cmp_l
 (c⁄° *
__s1
, c⁄° *
__s2
,

545 
size_t
 
__n
, 
__loˇÀ_t
 
__loc
)

546 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2, 4));

549 #ifdef 
__USE_MISC


552 *
	$°r£p
 (**
__ª°ri˘
 
__°rögp
,

553 c⁄° *
__ª°ri˘
 
__dñim
)

554 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

557 #ifdef 
__USE_XOPEN2K8


559 *
	$°rsig«l
 (
__sig
Ë
__THROW
;

562 *
	$__°p˝y
 (*
__ª°ri˘
 
__de°
, c⁄° *__ª°ri˘ 
__§c
)

563 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

564 *
	$°p˝y
 (*
__ª°ri˘
 
__de°
, c⁄° *__ª°ri˘ 
__§c
)

565 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

569 *
	$__°≤˝y
 (*
__ª°ri˘
 
__de°
,

570 c⁄° *
__ª°ri˘
 
__§c
, 
size_t
 
__n
)

571 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

572 *
	$°≤˝y
 (*
__ª°ri˘
 
__de°
,

573 c⁄° *
__ª°ri˘
 
__§c
, 
size_t
 
__n
)

574 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

577 #ifdef 
__USE_GNU


579 
	$°rvîscmp
 (c⁄° *
__s1
, c⁄° *
__s2
)

580 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2));

583 *
	$°r‰y
 (*
__°rög
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

586 *
	$mem‰ob
 (*
__s
, 
size_t
 
__n
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

588 #i‚de‡
ba£«me


593 #ifde‡
__CORRECT_ISO_CPP_STRING_H_PROTO


594 "C++" *
	$ba£«me
 (*
__fûíame
)

595 
__THROW
 
	`__asm
 ("ba£«me"Ë
	`__n⁄nuŒ
 ((1));

596 "C++" c⁄° *
	$ba£«me
 (c⁄° *
__fûíame
)

597 
__THROW
 
	`__asm
 ("ba£«me"Ë
	`__n⁄nuŒ
 ((1));

599 *
	$ba£«me
 (c⁄° *
__fûíame
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

605 #i‡
	`__GNUC_PREREQ
 (3,4)

606 #i‡
deföed
 
__OPTIMIZE__
 && !deföed 
__OPTIMIZE_SIZE__
 \

607 && !
deföed
 
__NO_INLINE__
 && !deföed 
__˝lu•lus


627 
	~<bôs/°rög.h
>

630 
	~<bôs/°rög2.h
>

633 #i‡
__USE_FORTIFY_LEVEL
 > 0 && 
deföed
 
__f‹tify_fun˘i⁄


635 
	~<bôs/°rög3.h
>

639 #i‡
deföed
 
__USE_GNU
 && deföed 
__OPTIMIZE__
 \

640 && 
deföed
 
__exã∫_Æways_ölöe
 && 
	$__GNUC_PREREQ
 (3,2)

641 #i‡!
deföed
 
_FORCE_INLINES
 && !deföed 
_HAVE_STRING_ARCH_memp˝y


643 
	#memp˝y
(
de°
, 
§c
, 
n
Ë
	`__memp˝y_ölöe
 (de°, src,Ç)

	)

644 
	#__memp˝y
(
de°
, 
§c
, 
n
Ë
	`__memp˝y_ölöe
 (de°, src,Ç)

	)

646 
__exã∫_Æways_ölöe
 *

647 
	$__memp˝y_ölöe
 (*
__ª°ri˘
 
__de°
,

648 c⁄° *
__ª°ri˘
 
__§c
, 
size_t
 
__n
)

650  (*Ë
	`mem˝y
 (
__de°
, 
__§c
, 
__n
) + __n;

651 
	}
}

656 
	g__END_DECLS


	@/usr/include/unistd.h

22 #i‚def 
_UNISTD_H


23 
	#_UNISTD_H
 1

	)

25 
	~<„©uªs.h
>

27 
	g__BEGIN_DECLS


32 #ifde‡
__USE_XOPEN2K8


34 
	#_POSIX_VERSION
 200809L

	)

35 #ñi‡
deföed
 
__USE_XOPEN2K


37 
	#_POSIX_VERSION
 200112L

	)

38 #ñi‡
deföed
 
__USE_POSIX199506


40 
	#_POSIX_VERSION
 199506L

	)

41 #ñi‡
deföed
 
__USE_POSIX199309


43 
	#_POSIX_VERSION
 199309L

	)

46 
	#_POSIX_VERSION
 199009L

	)

52 #ifde‡
__USE_XOPEN2K8


53 
	#__POSIX2_THIS_VERSION
 200809L

	)

55 #ñi‡
deföed
 
__USE_XOPEN2K


57 
	#__POSIX2_THIS_VERSION
 200112L

	)

58 #ñi‡
deföed
 
__USE_POSIX199506


60 
	#__POSIX2_THIS_VERSION
 199506L

	)

63 
	#__POSIX2_THIS_VERSION
 199209L

	)

67 
	#_POSIX2_VERSION
 
__POSIX2_THIS_VERSION


	)

70 
	#_POSIX2_C_VERSION
 
__POSIX2_THIS_VERSION


	)

74 
	#_POSIX2_C_BIND
 
__POSIX2_THIS_VERSION


	)

78 
	#_POSIX2_C_DEV
 
__POSIX2_THIS_VERSION


	)

82 
	#_POSIX2_SW_DEV
 
__POSIX2_THIS_VERSION


	)

86 
	#_POSIX2_LOCALEDEF
 
__POSIX2_THIS_VERSION


	)

89 #ifde‡
__USE_XOPEN2K8


90 
	#_XOPEN_VERSION
 700

	)

91 #ñi‡
deföed
 
__USE_XOPEN2K


92 
	#_XOPEN_VERSION
 600

	)

93 #ñi‡
deföed
 
__USE_UNIX98


94 
	#_XOPEN_VERSION
 500

	)

96 
	#_XOPEN_VERSION
 4

	)

100 
	#_XOPEN_XCU_VERSION
 4

	)

103 
	#_XOPEN_XPG2
 1

	)

104 
	#_XOPEN_XPG3
 1

	)

105 
	#_XOPEN_XPG4
 1

	)

108 
	#_XOPEN_UNIX
 1

	)

111 
	#_XOPEN_CRYPT
 1

	)

115 
	#_XOPEN_ENH_I18N
 1

	)

118 
	#_XOPEN_LEGACY
 1

	)

205 
	~<bôs/posix_›t.h
>

208 #i‡
deföed
 
__USE_UNIX98
 || deföed 
__USE_XOPEN2K


209 
	~<bôs/ívú⁄míts.h
>

213 
	#STDIN_FILENO
 0

	)

214 
	#STDOUT_FILENO
 1

	)

215 
	#STDERR_FILENO
 2

	)

220 
	~<bôs/ty≥s.h
>

222 #i‚def 
__ssize_t_deföed


223 
__ssize_t
 
	tssize_t
;

224 
	#__ssize_t_deföed


	)

227 
	#__√ed_size_t


	)

228 
	#__√ed_NULL


	)

229 
	~<°ddef.h
>

231 #i‡
deföed
 
__USE_XOPEN
 || deföed 
__USE_XOPEN2K


234 #i‚de‡
__gid_t_deföed


235 
__gid_t
 
	tgid_t
;

236 
	#__gid_t_deföed


	)

239 #i‚de‡
__uid_t_deföed


240 
__uid_t
 
	tuid_t
;

241 
	#__uid_t_deföed


	)

244 #i‚de‡
__off_t_deföed


245 #i‚de‡
__USE_FILE_OFFSET64


246 
__off_t
 
	toff_t
;

248 
__off64_t
 
	toff_t
;

250 
	#__off_t_deföed


	)

252 #i‡
deföed
 
__USE_LARGEFILE64
 && !deföed 
__off64_t_deföed


253 
__off64_t
 
	toff64_t
;

254 
	#__off64_t_deföed


	)

257 #i‚de‡
__u£c⁄ds_t_deföed


258 
__u£c⁄ds_t
 
	tu£c⁄ds_t
;

259 
	#__u£c⁄ds_t_deföed


	)

262 #i‚de‡
__pid_t_deföed


263 
__pid_t
 
	tpid_t
;

264 
	#__pid_t_deföed


	)

268 #i‡
deföed
 
__USE_XOPEN_EXTENDED
 || deföed 
__USE_XOPEN2K


269 #i‚de‡
__öçå_t_deföed


270 
__öçå_t
 
	töçå_t
;

271 
	#__öçå_t_deföed


	)

275 #i‡
deföed
 
__USE_MISC
 || deföed 
__USE_XOPEN


276 #i‚de‡
__sockÀn_t_deföed


277 
__sockÀn_t
 
	tsockÀn_t
;

278 
	#__sockÀn_t_deföed


	)

284 
	#R_OK
 4

	)

285 
	#W_OK
 2

	)

286 
	#X_OK
 1

	)

287 
	#F_OK
 0

	)

290 
	$ac˚ss
 (c⁄° *
__«me
, 
__ty≥
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

292 #ifde‡
__USE_GNU


295 
	$euidac˚ss
 (c⁄° *
__«me
, 
__ty≥
)

296 
__THROW
 
	`__n⁄nuŒ
 ((1));

299 
	$óc˚ss
 (c⁄° *
__«me
, 
__ty≥
)

300 
__THROW
 
	`__n⁄nuŒ
 ((1));

303 #ifde‡
__USE_ATFILE


307 
	$Ác˚sßt
 (
__fd
, c⁄° *
__fûe
, 
__ty≥
, 
__Êag
)

308 
__THROW
 
	`__n⁄nuŒ
 ((2)Ë
__wur
;

313 #i‚def 
_STDIO_H


314 
	#SEEK_SET
 0

	)

315 
	#SEEK_CUR
 1

	)

316 
	#SEEK_END
 2

	)

317 #ifde‡
__USE_GNU


318 
	#SEEK_DATA
 3

	)

319 
	#SEEK_HOLE
 4

	)

323 #i‡
deföed
 
__USE_MISC
 && !deföed 
L_SET


325 
	#L_SET
 
SEEK_SET


	)

326 
	#L_INCR
 
SEEK_CUR


	)

327 
	#L_XTND
 
SEEK_END


	)

336 #i‚de‡
__USE_FILE_OFFSET64


337 
__off_t
 
	$l£ek
 (
__fd
, 
__off_t
 
__off£t
, 
__whí˚
Ë
__THROW
;

339 #ifde‡
__REDIRECT_NTH


340 
__off64_t
 
	`__REDIRECT_NTH
 (
l£ek
,

341 (
__fd
, 
__off64_t
 
__off£t
, 
__whí˚
),

342 
l£ek64
);

344 
	#l£ek
 
l£ek64


	)

347 #ifde‡
__USE_LARGEFILE64


348 
__off64_t
 
	$l£ek64
 (
__fd
, 
__off64_t
 
__off£t
, 
__whí˚
)

349 
__THROW
;

356 
	`˛o£
 (
__fd
);

363 
ssize_t
 
	$ªad
 (
__fd
, *
__buf
, 
size_t
 
__nbyãs
Ë
__wur
;

369 
ssize_t
 
	$wrôe
 (
__fd
, c⁄° *
__buf
, 
size_t
 
__n
Ë
__wur
;

371 #i‡
deföed
 
__USE_UNIX98
 || deföed 
__USE_XOPEN2K8


372 #i‚de‡
__USE_FILE_OFFSET64


379 
ssize_t
 
	$¥ód
 (
__fd
, *
__buf
, 
size_t
 
__nbyãs
,

380 
__off_t
 
__off£t
Ë
__wur
;

387 
ssize_t
 
	$pwrôe
 (
__fd
, c⁄° *
__buf
, 
size_t
 
__n
,

388 
__off_t
 
__off£t
Ë
__wur
;

390 #ifde‡
__REDIRECT


391 
ssize_t
 
	`__REDIRECT
 (
¥ód
, (
__fd
, *
__buf
, 
size_t
 
__nbyãs
,

392 
__off64_t
 
__off£t
),

393 
¥ód64
Ë
__wur
;

394 
ssize_t
 
	`__REDIRECT
 (
pwrôe
, (
__fd
, c⁄° *
__buf
,

395 
size_t
 
__nbyãs
, 
__off64_t
 
__off£t
),

396 
pwrôe64
Ë
__wur
;

398 
	#¥ód
 
¥ód64


	)

399 
	#pwrôe
 
pwrôe64


	)

403 #ifde‡
__USE_LARGEFILE64


407 
ssize_t
 
	$¥ód64
 (
__fd
, *
__buf
, 
size_t
 
__nbyãs
,

408 
__off64_t
 
__off£t
Ë
__wur
;

411 
ssize_t
 
	$pwrôe64
 (
__fd
, c⁄° *
__buf
, 
size_t
 
__n
,

412 
__off64_t
 
__off£t
Ë
__wur
;

420 
	$pùe
 (
__pùedes
[2]Ë
__THROW
 
__wur
;

422 #ifde‡
__USE_GNU


425 
	$pùe2
 (
__pùedes
[2], 
__Êags
Ë
__THROW
 
__wur
;

435 
	$Æ¨m
 (
__£c⁄ds
Ë
__THROW
;

447 
	`¶ìp
 (
__£c⁄ds
);

449 #i‡(
deföed
 
__USE_XOPEN_EXTENDED
 && !deföed 
__USE_XOPEN2K8
) \

450 || 
deföed
 
__USE_MISC


455 
__u£c⁄ds_t
 
	$uÆ¨m
 (
__u£c⁄ds_t
 
__vÆue
, __u£c⁄ds_à
__öãrvÆ
)

456 
__THROW
;

463 
	`u¶ìp
 (
__u£c⁄ds_t
 
__u£c⁄ds
);

472 
	`∑u£
 ();

476 
	$chown
 (c⁄° *
__fûe
, 
__uid_t
 
__ow√r
, 
__gid_t
 
__group
)

477 
__THROW
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

479 #i‡
deföed
 
__USE_XOPEN_EXTENDED
 || deföed 
__USE_XOPEN2K8


481 
	$fchown
 (
__fd
, 
__uid_t
 
__ow√r
, 
__gid_t
 
__group
Ë
__THROW
 
__wur
;

486 
	$lchown
 (c⁄° *
__fûe
, 
__uid_t
 
__ow√r
, 
__gid_t
 
__group
)

487 
__THROW
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

491 #ifde‡
__USE_ATFILE


494 
	$fchow«t
 (
__fd
, c⁄° *
__fûe
, 
__uid_t
 
__ow√r
,

495 
__gid_t
 
__group
, 
__Êag
)

496 
__THROW
 
	`__n⁄nuŒ
 ((2)Ë
__wur
;

500 
	$chdú
 (c⁄° *
__∑th
Ë
__THROW
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

502 #i‡
deföed
 
__USE_XOPEN_EXTENDED
 || deföed 
__USE_XOPEN2K8


504 
	$fchdú
 (
__fd
Ë
__THROW
 
__wur
;

514 *
	$gëcwd
 (*
__buf
, 
size_t
 
__size
Ë
__THROW
 
__wur
;

516 #ifdef 
__USE_GNU


520 *
	$gë_cuºít_dú_«me
 (Ë
__THROW
;

523 #i‡(
deföed
 
__USE_XOPEN_EXTENDED
 && !deföed 
__USE_XOPEN2K8
) \

524 || 
deföed
 
__USE_MISC


528 *
	$gëwd
 (*
__buf
)

529 
__THROW
 
	`__n⁄nuŒ
 ((1)Ë
__©åibuã_dïªˇãd__
 
__wur
;

534 
	$dup
 (
__fd
Ë
__THROW
 
__wur
;

537 
	$dup2
 (
__fd
, 
__fd2
Ë
__THROW
;

539 #ifde‡
__USE_GNU


542 
	$dup3
 (
__fd
, 
__fd2
, 
__Êags
Ë
__THROW
;

546 **
__ívú⁄
;

547 #ifde‡
__USE_GNU


548 **
ívú⁄
;

554 
	$execve
 (c⁄° *
__∑th
, *c⁄° 
__¨gv
[],

555 *c⁄° 
__ívp
[]Ë
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

557 #ifde‡
__USE_XOPEN2K8


560 
	$„xecve
 (
__fd
, *c⁄° 
__¨gv
[], *c⁄° 
__ívp
[])

561 
__THROW
 
	`__n⁄nuŒ
 ((2));

566 
	$execv
 (c⁄° *
__∑th
, *c⁄° 
__¨gv
[])

567 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

571 
	$exe˛e
 (c⁄° *
__∑th
, c⁄° *
__¨g
, ...)

572 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

576 
	$exe˛
 (c⁄° *
__∑th
, c⁄° *
__¨g
, ...)

577 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

581 
	$execvp
 (c⁄° *
__fûe
, *c⁄° 
__¨gv
[])

582 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

587 
	$exe˛p
 (c⁄° *
__fûe
, c⁄° *
__¨g
, ...)

588 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

590 #ifde‡
__USE_GNU


593 
	$execv≥
 (c⁄° *
__fûe
, *c⁄° 
__¨gv
[],

594 *c⁄° 
__ívp
[])

595 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

599 #i‡
deföed
 
__USE_MISC
 || deföed 
__USE_XOPEN


601 
	$ni˚
 (
__öc
Ë
__THROW
 
__wur
;

606 
	$_exô
 (
__°©us
Ë
	`__©åibuã__
 ((
__n‹ëu∫__
));

612 
	~<bôs/c⁄‚ame.h
>

615 
	$∑thc⁄f
 (c⁄° *
__∑th
, 
__«me
)

616 
__THROW
 
	`__n⁄nuŒ
 ((1));

619 
	$Â©hc⁄f
 (
__fd
, 
__«me
Ë
__THROW
;

622 
	$sysc⁄f
 (
__«me
Ë
__THROW
;

624 #ifdef 
__USE_POSIX2


626 
size_t
 
	$c⁄f°r
 (
__«me
, *
__buf
, 
size_t
 
__Àn
Ë
__THROW
;

631 
__pid_t
 
	$gëpid
 (Ë
__THROW
;

634 
__pid_t
 
	$gëµid
 (Ë
__THROW
;

637 
__pid_t
 
	$gëpgΩ
 (Ë
__THROW
;

640 
__pid_t
 
	$__gëpgid
 (
__pid_t
 
__pid
Ë
__THROW
;

641 #i‡
deföed
 
__USE_XOPEN_EXTENDED
 || deföed 
__USE_XOPEN2K8


642 
__pid_t
 
	$gëpgid
 (
__pid_t
 
__pid
Ë
__THROW
;

649 
	$£çgid
 (
__pid_t
 
__pid
, __pid_à
__pgid
Ë
__THROW
;

651 #i‡
deföed
 
__USE_MISC
 || deföed 
__USE_XOPEN_EXTENDED


663 
	$£çgΩ
 (Ë
__THROW
;

670 
__pid_t
 
	$£tsid
 (Ë
__THROW
;

672 #i‡
deföed
 
__USE_XOPEN_EXTENDED
 || deföed 
__USE_XOPEN2K8


674 
__pid_t
 
	$gësid
 (
__pid_t
 
__pid
Ë
__THROW
;

678 
__uid_t
 
	$gëuid
 (Ë
__THROW
;

681 
__uid_t
 
	$gëeuid
 (Ë
__THROW
;

684 
__gid_t
 
	$gëgid
 (Ë
__THROW
;

687 
__gid_t
 
	$gëegid
 (Ë
__THROW
;

692 
	$gëgroups
 (
__size
, 
__gid_t
 
__li°
[]Ë
__THROW
 
__wur
;

694 #ifdef 
__USE_GNU


696 
	$group_membî
 (
__gid_t
 
__gid
Ë
__THROW
;

703 
	$£tuid
 (
__uid_t
 
__uid
Ë
__THROW
 
__wur
;

705 #i‡
deföed
 
__USE_MISC
 || deföed 
__USE_XOPEN_EXTENDED


708 
	$£åeuid
 (
__uid_t
 
__ruid
, __uid_à
__euid
Ë
__THROW
 
__wur
;

711 #ifde‡
__USE_XOPEN2K


713 
	$£ãuid
 (
__uid_t
 
__uid
Ë
__THROW
 
__wur
;

720 
	$£tgid
 (
__gid_t
 
__gid
Ë
__THROW
 
__wur
;

722 #i‡
deföed
 
__USE_MISC
 || deföed 
__USE_XOPEN_EXTENDED


725 
	$£åegid
 (
__gid_t
 
__rgid
, __gid_à
__egid
Ë
__THROW
 
__wur
;

728 #ifde‡
__USE_XOPEN2K


730 
	$£ãgid
 (
__gid_t
 
__gid
Ë
__THROW
 
__wur
;

733 #ifde‡
__USE_GNU


736 
	$gëªsuid
 (
__uid_t
 *
__ruid
, __uid_à*
__euid
, __uid_à*
__suid
)

737 
__THROW
;

741 
	$gëªsgid
 (
__gid_t
 *
__rgid
, __gid_à*
__egid
, __gid_à*
__sgid
)

742 
__THROW
;

746 
	$£åesuid
 (
__uid_t
 
__ruid
, __uid_à
__euid
, __uid_à
__suid
)

747 
__THROW
 
__wur
;

751 
	$£åesgid
 (
__gid_t
 
__rgid
, __gid_à
__egid
, __gid_à
__sgid
)

752 
__THROW
 
__wur
;

759 
__pid_t
 
	$f‹k
 (Ë
__THROWNL
;

761 #i‡(
deföed
 
__USE_XOPEN_EXTENDED
 && !deföed 
__USE_XOPEN2K8
) \

762 || 
deföed
 
__USE_MISC


767 
__pid_t
 
	$vf‹k
 (Ë
__THROW
;

773 *
	$ây«me
 (
__fd
Ë
__THROW
;

777 
	$ây«me_r
 (
__fd
, *
__buf
, 
size_t
 
__buÊí
)

778 
__THROW
 
	`__n⁄nuŒ
 ((2)Ë
__wur
;

782 
	$ißây
 (
__fd
Ë
__THROW
;

784 #ifde‡
__USE_MISC


787 
	$ây¶Ÿ
 (Ë
__THROW
;

792 
	$lök
 (c⁄° *
__‰om
, c⁄° *
__to
)

793 
__THROW
 
	`__n⁄nuŒ
 ((1, 2)Ë
__wur
;

795 #ifde‡
__USE_ATFILE


798 
	$lök©
 (
__‰omfd
, c⁄° *
__‰om
, 
__tofd
,

799 c⁄° *
__to
, 
__Êags
)

800 
__THROW
 
	`__n⁄nuŒ
 ((2, 4)Ë
__wur
;

803 #i‡
deföed
 
__USE_XOPEN_EXTENDED
 || deföed 
__USE_XOPEN2K


805 
	$symlök
 (c⁄° *
__‰om
, c⁄° *
__to
)

806 
__THROW
 
	`__n⁄nuŒ
 ((1, 2)Ë
__wur
;

811 
ssize_t
 
	$ªadlök
 (c⁄° *
__ª°ri˘
 
__∑th
,

812 *
__ª°ri˘
 
__buf
, 
size_t
 
__Àn
)

813 
__THROW
 
	`__n⁄nuŒ
 ((1, 2)Ë
__wur
;

816 #ifde‡
__USE_ATFILE


818 
	$symlök©
 (c⁄° *
__‰om
, 
__tofd
,

819 c⁄° *
__to
Ë
__THROW
 
	`__n⁄nuŒ
 ((1, 3)Ë
__wur
;

822 
ssize_t
 
	$ªadlök©
 (
__fd
, c⁄° *
__ª°ri˘
 
__∑th
,

823 *
__ª°ri˘
 
__buf
, 
size_t
 
__Àn
)

824 
__THROW
 
	`__n⁄nuŒ
 ((2, 3)Ë
__wur
;

828 
	$u∆ök
 (c⁄° *
__«me
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

830 #ifde‡
__USE_ATFILE


832 
	$u∆ök©
 (
__fd
, c⁄° *
__«me
, 
__Êag
)

833 
__THROW
 
	`__n⁄nuŒ
 ((2));

837 
	$rmdú
 (c⁄° *
__∑th
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

841 
__pid_t
 
	$tcgëpgΩ
 (
__fd
Ë
__THROW
;

844 
	$tc£çgΩ
 (
__fd
, 
__pid_t
 
__pgΩ_id
Ë
__THROW
;

851 *
	`gëlogö
 ();

852 #i‡
deföed
 
__USE_REENTRANT
 || deföed 
__USE_POSIX199506


859 
	$gëlogö_r
 (*
__«me
, 
size_t
 
__«me_Àn
Ë
	`__n⁄nuŒ
 ((1));

862 #ifdef 
__USE_MISC


864 
	$£éogö
 (c⁄° *
__«me
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

868 #ifdef 
__USE_POSIX2


872 
	#__√ed_gë›t


	)

873 
	~<gë›t.h
>

877 #i‡
deföed
 
__USE_XOPEN_EXTENDED
 || deföed 
__USE_XOPEN2K


881 
	$gëho°«me
 (*
__«me
, 
size_t
 
__Àn
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

885 #i‡
deföed
 
__USE_MISC


888 
	$£tho°«me
 (c⁄° *
__«me
, 
size_t
 
__Àn
)

889 
__THROW
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

893 
	$£tho°id
 (
__id
Ë
__THROW
 
__wur
;

899 
	$gëdomaö«me
 (*
__«me
, 
size_t
 
__Àn
)

900 
__THROW
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

901 
	$£tdomaö«me
 (c⁄° *
__«me
, 
size_t
 
__Àn
)

902 
__THROW
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

908 
	$vh™gup
 (Ë
__THROW
;

911 
	$ªvoke
 (c⁄° *
__fûe
Ë
__THROW
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

919 
	$¥ofû
 (*
__ßm∂e_buf„r
, 
size_t
 
__size
,

920 
size_t
 
__off£t
, 
__sˇÀ
)

921 
__THROW
 
	`__n⁄nuŒ
 ((1));

927 
	$ac˘
 (c⁄° *
__«me
Ë
__THROW
;

931 *
	$gëu£rshñl
 (Ë
__THROW
;

932 
	$ídu£rshñl
 (Ë
__THROW
;

933 
	$£tu£rshñl
 (Ë
__THROW
;

939 
	$d´m⁄
 (
__nochdú
, 
__no˛o£
Ë
__THROW
 
__wur
;

943 #i‡
deföed
 
__USE_MISC
 || (deföed 
__USE_XOPEN
 && !deföed 
__USE_XOPEN2K
)

946 
	$chroŸ
 (c⁄° *
__∑th
Ë
__THROW
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

950 *
	$gë∑ss
 (c⁄° *
__¥om±
Ë
	`__n⁄nuŒ
 ((1));

958 
	`fsync
 (
__fd
);

961 #ifde‡
__USE_GNU


964 
	$syncfs
 (
__fd
Ë
__THROW
;

968 #i‡
deföed
 
__USE_MISC
 || deföed 
__USE_XOPEN_EXTENDED


971 
	`gëho°id
 ();

974 
	$sync
 (Ë
__THROW
;

977 #i‡
deföed
 
__USE_MISC
 || !deföed 
__USE_XOPEN2K


980 
	$gë∑gesize
 (Ë
__THROW
 
	`__©åibuã__
 ((
__c⁄°__
));

985 
	$gëdèbÀsize
 (Ë
__THROW
;

991 #i‡
deföed
 
__USE_XOPEN_EXTENDED
 || deföed 
__USE_XOPEN2K8


994 #i‚de‡
__USE_FILE_OFFSET64


995 
	$åunˇã
 (c⁄° *
__fûe
, 
__off_t
 
__Àngth
)

996 
__THROW
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

998 #ifde‡
__REDIRECT_NTH


999 
	`__REDIRECT_NTH
 (
åunˇã
,

1000 (c⁄° *
__fûe
, 
__off64_t
 
__Àngth
),

1001 
åunˇã64
Ë
	`__n⁄nuŒ
 ((1)Ë
__wur
;

1003 
	#åunˇã
 
åunˇã64


	)

1006 #ifde‡
__USE_LARGEFILE64


1007 
	$åunˇã64
 (c⁄° *
__fûe
, 
__off64_t
 
__Àngth
)

1008 
__THROW
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

1013 #i‡
deföed
 
__USE_POSIX199309
 \

1014 || 
deföed
 
__USE_XOPEN_EXTENDED
 || deföed 
__USE_XOPEN2K


1017 #i‚de‡
__USE_FILE_OFFSET64


1018 
	$·runˇã
 (
__fd
, 
__off_t
 
__Àngth
Ë
__THROW
 
__wur
;

1020 #ifde‡
__REDIRECT_NTH


1021 
	`__REDIRECT_NTH
 (
·runˇã
, (
__fd
, 
__off64_t
 
__Àngth
),

1022 
·runˇã64
Ë
__wur
;

1024 
	#·runˇã
 
·runˇã64


	)

1027 #ifde‡
__USE_LARGEFILE64


1028 
	$·runˇã64
 (
__fd
, 
__off64_t
 
__Àngth
Ë
__THROW
 
__wur
;

1034 #i‡(
deföed
 
__USE_XOPEN_EXTENDED
 && !deföed 
__USE_XOPEN2K
) \

1035 || 
deföed
 
__USE_MISC


1039 
	$brk
 (*
__addr
Ë
__THROW
 
__wur
;

1045 *
	$sbrk
 (
öçå_t
 
__dñè
Ë
__THROW
;

1049 #ifde‡
__USE_MISC


1060 
	$sysˇŒ
 (
__sy¢o
, ...Ë
__THROW
;

1065 #i‡(
deföed
 
__USE_MISC
 || deföed 
__USE_XOPEN_EXTENDED
Ë&& !deföed 
F_LOCK


1077 
	#F_ULOCK
 0

	)

1078 
	#F_LOCK
 1

	)

1079 
	#F_TLOCK
 2

	)

1080 
	#F_TEST
 3

	)

1082 #i‚de‡
__USE_FILE_OFFSET64


1083 
	$lockf
 (
__fd
, 
__cmd
, 
__off_t
 
__Àn
Ë
__wur
;

1085 #ifde‡
__REDIRECT


1086 
	`__REDIRECT
 (
lockf
, (
__fd
, 
__cmd
, 
__off64_t
 
__Àn
),

1087 
lockf64
Ë
__wur
;

1089 
	#lockf
 
lockf64


	)

1092 #ifde‡
__USE_LARGEFILE64


1093 
	$lockf64
 (
__fd
, 
__cmd
, 
__off64_t
 
__Àn
Ë
__wur
;

1098 #ifde‡
__USE_GNU


1103 
	#TEMP_FAILURE_RETRY
(
ex¥essi⁄
) \

1104 (
__exãnsi⁄__
 \

1105 ({ 
__ªsu…
; \

1106 dÿ
__ªsu…
 = (Ë(
ex¥essi⁄
); \

1107 
__ªsu…
 =-1L && 
î∫o
 =
EINTR
); \

1108 
__ªsu…
; 
	}
}))

	)

1111 #i‡
deföed
 
__USE_POSIX199309
 || deföed 
__USE_UNIX98


1114 
fd©async
 (
__fûdes
);

1120 #ifdef 
__USE_XOPEN


1122 *
	$¸y±
 (c⁄° *
__key
, c⁄° *
__ß…
)

1123 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

1127 
	$í¸y±
 (*
__glibc_block
, 
__edÊag
)

1128 
__THROW
 
	`__n⁄nuŒ
 ((1));

1135 
	$swab
 (c⁄° *
__ª°ri˘
 
__‰om
, *__ª°ri˘ 
__to
,

1136 
ssize_t
 
__n
Ë
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

1143 #i‡
deföed
 
__USE_XOPEN
 && !deföed 
__USE_XOPEN2K


1145 *
	$˘îmid
 (*
__s
Ë
__THROW
;

1148 *
	`cu£rid
 (*
__s
);

1154 #i‡
deföed
 
__USE_UNIX98
 && !deföed 
__USE_XOPEN2K


1155 
	$±hªad_©f‹k
 ((*
__¥ï¨e
) (),

1156 (*
__∑ª¡
) (),

1157 (*
__chûd
Ë()Ë
__THROW
;

1162 #i‡
__USE_FORTIFY_LEVEL
 > 0 && 
deföed
 
__f‹tify_fun˘i⁄


1163 
	~<bôs/uni°d.h
>

1166 
__END_DECLS


	@RF24configs/radio_config_Si4464_30_434_2GFSK_5_10.h

14 #i‚de‡
RADIO_CONFIG_H_


15 
	#RADIO_CONFIG_H_


	)

34 
	#RADIO_CONFIGURATION_DATA_RADIO_XO_FREQ
 30000000L

	)

35 
	#RADIO_CONFIGURATION_DATA_CHANNEL_NUMBER
 0x00

	)

36 
	#RADIO_CONFIGURATION_DATA_RADIO_PACKET_LENGTH
 0x07

	)

37 
	#RADIO_CONFIGURATION_DATA_RADIO_STATE_AFTER_POWER_UP
 0x03

	)

38 
	#RADIO_CONFIGURATION_DATA_RADIO_DELAY_CNT_AFTER_RESET
 0xF000

	)

47 
	#RF_POWER_UP
 0x02, 0x01, 0x00, 0x01, 0xC9, 0xC3, 0x80

	)

53 
	#RF_GPIO_PIN_CFG
 0x13, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00

	)

65 
	#RF_GLOBAL_XO_TUNE_2
 0x11, 0x00, 0x02, 0x00, 0x52, 0x00

	)

76 
	#RF_GLOBAL_CONFIG_1
 0x11, 0x00, 0x01, 0x03, 0x60

	)

88 
	#RF_INT_CTL_ENABLE_2
 0x11, 0x01, 0x02, 0x00, 0x01, 0x20

	)

102 
	#RF_FRR_CTL_A_MODE_4
 0x11, 0x02, 0x04, 0x00, 0x00, 0x00, 0x00, 0x00

	)

113 
	#RF_PREAMBLE_TX_LENGTH_1
 0x11, 0x10, 0x01, 0x00, 0x0A

	)

124 
	#RF_PREAMBLE_CONFIG_1
 0x11, 0x10, 0x01, 0x04, 0x31

	)

137 
	#RF_SYNC_CONFIG_3
 0x11, 0x11, 0x03, 0x00, 0x01, 0xB4, 0x2B

	)

148 
	#RF_PKT_CONFIG1_1
 0x11, 0x12, 0x01, 0x06, 0x02

	)

159 
	#RF_PKT_FIELD_1_CONFIG_1
 0x11, 0x12, 0x01, 0x0F, 0x04

	)

181 
	#RF_MODEM_MOD_TYPE_12
 0x11, 0x20, 0x0C, 0x00, 0x03, 0x00, 0x07, 0x03, 0x0D, 0x40, 0x05, 0xC9, 0xC3, 0x80, 0x00, 0x02

	)

192 
	#RF_MODEM_FREQ_DEV_0_1
 0x11, 0x20, 0x01, 0x0C, 0xBB

	)

210 
	#RF_MODEM_TX_RAMP_DELAY_8
 0x11, 0x20, 0x08, 0x18, 0x01, 0x80, 0x08, 0x03, 0x80, 0x00, 0x30, 0x20

	)

229 
	#RF_MODEM_BCR_OSR_1_9
 0x11, 0x20, 0x09, 0x22, 0x01, 0x77, 0x01, 0x5D, 0x86, 0x00, 0xAF, 0x02, 0xC2

	)

246 
	#RF_MODEM_AFC_GEAR_7
 0x11, 0x20, 0x07, 0x2C, 0x04, 0x36, 0x80, 0x0F, 0x15, 0x87, 0x80

	)

257 
	#RF_MODEM_AGC_CONTROL_1
 0x11, 0x20, 0x01, 0x35, 0xE2

	)

276 
	#RF_MODEM_AGC_WINDOW_SIZE_9
 0x11, 0x20, 0x09, 0x38, 0x11, 0x52, 0x52, 0x00, 0x1A, 0xFF, 0xFF, 0x00, 0x2A

	)

294 
	#RF_MODEM_OOK_CNT1_8
 0x11, 0x20, 0x08, 0x42, 0xA4, 0x02, 0xD6, 0x83, 0x00, 0xAD, 0x01, 0x80

	)

305 
	#RF_MODEM_RSSI_COMP_1
 0x11, 0x20, 0x01, 0x4E, 0x40

	)

316 
	#RF_MODEM_CLKGEN_BAND_1
 0x11, 0x20, 0x01, 0x51, 0x0A

	)

338 
	#RF_MODEM_CHFLT_RX1_CHFLT_COE13_7_0_12
 0x11, 0x21, 0x0C, 0x00, 0xFF, 0xBA, 0x0F, 0x51, 0xCF, 0xA9, 0xC9, 0xFC, 0x1B, 0x1E, 0x0F, 0x01

	)

360 
	#RF_MODEM_CHFLT_RX1_CHFLT_COE1_7_0_12
 0x11, 0x21, 0x0C, 0x0C, 0xFC, 0xFD, 0x15, 0xFF, 0x00, 0x0F, 0xFF, 0xBA, 0x0F, 0x51, 0xCF, 0xA9

	)

382 
	#RF_MODEM_CHFLT_RX2_CHFLT_COE7_7_0_12
 0x11, 0x21, 0x0C, 0x18, 0xC9, 0xFC, 0x1B, 0x1E, 0x0F, 0x01, 0xFC, 0xFD, 0x15, 0xFF, 0x00, 0x0F

	)

396 
	#RF_PA_MODE_4
 0x11, 0x22, 0x04, 0x00, 0x08, 0x7F, 0x00, 0x3D

	)

413 
	#RF_SYNTH_PFDCP_CPFF_7
 0x11, 0x23, 0x07, 0x00, 0x2C, 0x0E, 0x0B, 0x04, 0x0C, 0x73, 0x03

	)

431 
	#RF_FREQ_CONTROL_INTE_8
 0x11, 0x40, 0x08, 0x00, 0x38, 0x0E, 0xEE, 0xEE, 0x44, 0x44, 0x20, 0xFE

	)

438 #i‚de‡
FIRMWARE_LOAD_COMPILE


439 
	#RADIO_CONFIGURATION_DATA_ARRAY
 { \

440 0x07, 
RF_POWER_UP
, \

441 0x08, 
RF_GPIO_PIN_CFG
, \

442 0x06, 
RF_GLOBAL_XO_TUNE_2
, \

443 0x05, 
RF_GLOBAL_CONFIG_1
, \

444 0x06, 
RF_INT_CTL_ENABLE_2
, \

445 0x08, 
RF_FRR_CTL_A_MODE_4
, \

446 0x05, 
RF_PREAMBLE_TX_LENGTH_1
, \

447 0x05, 
RF_PREAMBLE_CONFIG_1
, \

448 0x07, 
RF_SYNC_CONFIG_3
, \

449 0x05, 
RF_PKT_CONFIG1_1
, \

450 0x05, 
RF_PKT_FIELD_1_CONFIG_1
, \

451 0x10, 
RF_MODEM_MOD_TYPE_12
, \

452 0x05, 
RF_MODEM_FREQ_DEV_0_1
, \

453 0x0C, 
RF_MODEM_TX_RAMP_DELAY_8
, \

454 0x0D, 
RF_MODEM_BCR_OSR_1_9
, \

455 0x0B, 
RF_MODEM_AFC_GEAR_7
, \

456 0x05, 
RF_MODEM_AGC_CONTROL_1
, \

457 0x0D, 
RF_MODEM_AGC_WINDOW_SIZE_9
, \

458 0x0C, 
RF_MODEM_OOK_CNT1_8
, \

459 0x05, 
RF_MODEM_RSSI_COMP_1
, \

460 0x05, 
RF_MODEM_CLKGEN_BAND_1
, \

461 0x10, 
RF_MODEM_CHFLT_RX1_CHFLT_COE13_7_0_12
, \

462 0x10, 
RF_MODEM_CHFLT_RX1_CHFLT_COE1_7_0_12
, \

463 0x10, 
RF_MODEM_CHFLT_RX2_CHFLT_COE7_7_0_12
, \

464 0x08, 
RF_PA_MODE_4
, \

465 0x0B, 
RF_SYNTH_PFDCP_CPFF_7
, \

466 0x0C, 
RF_FREQ_CONTROL_INTE_8
, \

468 }

	)

470 
	#RADIO_CONFIGURATION_DATA_ARRAY
 { 0 }

	)

474 
	#RADIO_CONFIGURATION_DATA_RADIO_XO_FREQ_DEFAULT
 30000000L

	)

475 
	#RADIO_CONFIGURATION_DATA_CHANNEL_NUMBER_DEFAULT
 0x00

	)

476 
	#RADIO_CONFIGURATION_DATA_RADIO_PACKET_LENGTH_DEFAULT
 0x10

	)

477 
	#RADIO_CONFIGURATION_DATA_RADIO_STATE_AFTER_POWER_UP_DEFAULT
 0x01

	)

478 
	#RADIO_CONFIGURATION_DATA_RADIO_DELAY_CNT_AFTER_RESET_DEFAULT
 0x1000

	)

480 
	#RADIO_CONFIGURATION_DATA_RADIO_PATCH_INCLUDED
 0x00

	)

481 
	#RADIO_CONFIGURATION_DATA_RADIO_PATCH_SIZE
 0x00

	)

482 
	#RADIO_CONFIGURATION_DATA_RADIO_PATCH
 { }

	)

484 #i‚de‡
RADIO_CONFIGURATION_DATA_ARRAY


488 #i‚de‡
RADIO_CONFIGURATION_DATA_RADIO_XO_FREQ


489 
	#RADIO_CONFIGURATION_DATA_RADIO_XO_FREQ
 
RADIO_CONFIGURATION_DATA_RADIO_XO_FREQ_DEFAULT


	)

492 #i‚de‡
RADIO_CONFIGURATION_DATA_CHANNEL_NUMBER


493 
	#RADIO_CONFIGURATION_DATA_CHANNEL_NUMBER
 
RADIO_CONFIGURATION_DATA_CHANNEL_NUMBER_DEFAULT


	)

496 #i‚de‡
RADIO_CONFIGURATION_DATA_RADIO_PACKET_LENGTH


497 
	#RADIO_CONFIGURATION_DATA_RADIO_PACKET_LENGTH
 
RADIO_CONFIGURATION_DATA_RADIO_PACKET_LENGTH_DEFAULT


	)

500 #i‚de‡
RADIO_CONFIGURATION_DATA_RADIO_STATE_AFTER_POWER_UP


501 
	#RADIO_CONFIGURATION_DATA_RADIO_STATE_AFTER_POWER_UP
 
RADIO_CONFIGURATION_DATA_RADIO_STATE_AFTER_POWER_UP_DEFAULT


	)

504 #i‚de‡
RADIO_CONFIGURATION_DATA_RADIO_DELAY_CNT_AFTER_RESET


505 
	#RADIO_CONFIGURATION_DATA_RADIO_DELAY_CNT_AFTER_RESET
 
RADIO_CONFIGURATION_DATA_RADIO_DELAY_CNT_AFTER_RESET_DEFAULT


	)

508 
	#RADIO_CONFIGURATION_DATA
 { \

509 
Radio_C⁄figuøti⁄_D©a_Aºay
, \

510 
RADIO_CONFIGURATION_DATA_CHANNEL_NUMBER
, \

511 
RADIO_CONFIGURATION_DATA_RADIO_PACKET_LENGTH
, \

512 
RADIO_CONFIGURATION_DATA_RADIO_STATE_AFTER_POWER_UP
, \

513 
RADIO_CONFIGURATION_DATA_RADIO_DELAY_CNT_AFTER_RESET
 \

514 }

	)

	@/usr/include/endian.h

18 #i‚def 
_ENDIAN_H


19 
	#_ENDIAN_H
 1

	)

21 
	~<„©uªs.h
>

31 
	#__LITTLE_ENDIAN
 1234

	)

32 
	#__BIG_ENDIAN
 4321

	)

33 
	#__PDP_ENDIAN
 3412

	)

36 
	~<bôs/ídün.h
>

40 #i‚de‡
__FLOAT_WORD_ORDER


41 
	#__FLOAT_WORD_ORDER
 
__BYTE_ORDER


	)

44 #ifdef 
__USE_MISC


45 
	#LITTLE_ENDIAN
 
__LITTLE_ENDIAN


	)

46 
	#BIG_ENDIAN
 
__BIG_ENDIAN


	)

47 
	#PDP_ENDIAN
 
__PDP_ENDIAN


	)

48 
	#BYTE_ORDER
 
__BYTE_ORDER


	)

51 #i‡
__BYTE_ORDER
 =
__LITTLE_ENDIAN


52 
	#__LONG_LONG_PAIR
(
HI
, 
LO
ËLO, 
	)
HI

53 #ñi‡
__BYTE_ORDER
 =
__BIG_ENDIAN


54 
	#__LONG_LONG_PAIR
(
HI
, 
LO
ËHI, 
	)
LO

58 #i‡
deföed
 
__USE_MISC
 && !deföed 
__ASSEMBLER__


60 
	~<bôs/byãsw≠.h
>

62 #i‡
__BYTE_ORDER
 =
__LITTLE_ENDIAN


63 
	#htobe16
(
x
Ë
	`__bsw≠_16
 (x)

	)

64 
	#htﬁe16
(
x
Ë(x)

	)

65 
	#be16toh
(
x
Ë
	`__bsw≠_16
 (x)

	)

66 
	#À16toh
(
x
Ë(x)

	)

68 
	#htobe32
(
x
Ë
	`__bsw≠_32
 (x)

	)

69 
	#htﬁe32
(
x
Ë(x)

	)

70 
	#be32toh
(
x
Ë
	`__bsw≠_32
 (x)

	)

71 
	#À32toh
(
x
Ë(x)

	)

73 
	#htobe64
(
x
Ë
	`__bsw≠_64
 (x)

	)

74 
	#htﬁe64
(
x
Ë(x)

	)

75 
	#be64toh
(
x
Ë
	`__bsw≠_64
 (x)

	)

76 
	#À64toh
(
x
Ë(x)

	)

79 
	#htobe16
(
x
Ë(x)

	)

80 
	#htﬁe16
(
x
Ë
	`__bsw≠_16
 (x)

	)

81 
	#be16toh
(
x
Ë(x)

	)

82 
	#À16toh
(
x
Ë
	`__bsw≠_16
 (x)

	)

84 
	#htobe32
(
x
Ë(x)

	)

85 
	#htﬁe32
(
x
Ë
	`__bsw≠_32
 (x)

	)

86 
	#be32toh
(
x
Ë(x)

	)

87 
	#À32toh
(
x
Ë
	`__bsw≠_32
 (x)

	)

89 
	#htobe64
(
x
Ë(x)

	)

90 
	#htﬁe64
(
x
Ë
	`__bsw≠_64
 (x)

	)

91 
	#be64toh
(
x
Ë(x)

	)

92 
	#À64toh
(
x
Ë
	`__bsw≠_64
 (x)

	)

	@/usr/include/features.h

18 #i‚def 
_FEATURES_H


19 
	#_FEATURES_H
 1

	)

97 #unde‡
__USE_ISOC11


98 #unde‡
__USE_ISOC99


99 #unde‡
__USE_ISOC95


100 #unde‡
__USE_ISOCXX11


101 #unde‡
__USE_POSIX


102 #unde‡
__USE_POSIX2


103 #unde‡
__USE_POSIX199309


104 #unde‡
__USE_POSIX199506


105 #unde‡
__USE_XOPEN


106 #unde‡
__USE_XOPEN_EXTENDED


107 #unde‡
__USE_UNIX98


108 #unde‡
__USE_XOPEN2K


109 #unde‡
__USE_XOPEN2KXSI


110 #unde‡
__USE_XOPEN2K8


111 #unde‡
__USE_XOPEN2K8XSI


112 #unde‡
__USE_LARGEFILE


113 #unde‡
__USE_LARGEFILE64


114 #unde‡
__USE_FILE_OFFSET64


115 #unde‡
__USE_MISC


116 #unde‡
__USE_ATFILE


117 #unde‡
__USE_GNU


118 #unde‡
__USE_REENTRANT


119 #unde‡
__USE_FORTIFY_LEVEL


120 #unde‡
__KERNEL_STRICT_NAMES


124 #i‚de‡
_LOOSE_KERNEL_NAMES


125 
	#__KERNEL_STRICT_NAMES


	)

135 #i‡
deföed
 
__GNUC__
 && deföed 
__GNUC_MINOR__


136 
	#__GNUC_PREREQ
(
maj
, 
mö
) \

137 ((
__GNUC__
 << 16Ë+ 
__GNUC_MINOR__
 >((
maj
Ë<< 16Ë+ (
mö
))

	)

139 
	#__GNUC_PREREQ
(
maj
, 
mö
Ë0

	)

146 #i‡(
deföed
 
_BSD_SOURCE
 || deföed 
_SVID_SOURCE
) \

147 && !
deföed
 
	g_DEFAULT_SOURCE


149 #unde‡
_DEFAULT_SOURCE


150 
	#_DEFAULT_SOURCE
 1

	)

154 #ifde‡
_GNU_SOURCE


155 #unde‡
_ISOC95_SOURCE


156 
	#_ISOC95_SOURCE
 1

	)

157 #unde‡
_ISOC99_SOURCE


158 
	#_ISOC99_SOURCE
 1

	)

159 #unde‡
_ISOC11_SOURCE


160 
	#_ISOC11_SOURCE
 1

	)

161 #unde‡
_POSIX_SOURCE


162 
	#_POSIX_SOURCE
 1

	)

163 #unde‡
_POSIX_C_SOURCE


164 
	#_POSIX_C_SOURCE
 200809L

	)

165 #unde‡
_XOPEN_SOURCE


166 
	#_XOPEN_SOURCE
 700

	)

167 #unde‡
_XOPEN_SOURCE_EXTENDED


168 
	#_XOPEN_SOURCE_EXTENDED
 1

	)

169 #unde‡
_LARGEFILE64_SOURCE


170 
	#_LARGEFILE64_SOURCE
 1

	)

171 #unde‡
_DEFAULT_SOURCE


172 
	#_DEFAULT_SOURCE
 1

	)

173 #unde‡
_ATFILE_SOURCE


174 
	#_ATFILE_SOURCE
 1

	)

179 #i‡(
deföed
 
_DEFAULT_SOURCE
 \

180 || (!
deföed
 
	g__STRICT_ANSI__
 \

181 && !
deföed
 
	g_ISOC99_SOURCE
 \

182 && !
deföed
 
	g_POSIX_SOURCE
 && !deföed 
	g_POSIX_C_SOURCE
 \

183 && !
deföed
 
	g_XOPEN_SOURCE
))

184 #unde‡
_DEFAULT_SOURCE


185 
	#_DEFAULT_SOURCE
 1

	)

189 #i‡(
deföed
 
_ISOC11_SOURCE
 \

190 || (
deföed
 
	g__STDC_VERSION__
 && __STDC_VERSION__ >= 201112L))

191 
	#__USE_ISOC11
 1

	)

195 #i‡(
deföed
 
_ISOC99_SOURCE
 || deföed 
_ISOC11_SOURCE
 \

196 || (
deföed
 
__STDC_VERSION__
 && __STDC_VERSION__ >= 199901L))

197 
	#__USE_ISOC99
 1

	)

201 #i‡(
deföed
 
_ISOC99_SOURCE
 || deföed 
_ISOC11_SOURCE
 \

202 || (
deföed
 
__STDC_VERSION__
 && __STDC_VERSION__ >= 199409L))

203 
	#__USE_ISOC95
 1

	)

210 #i‡((
deföed
 
__˝lu•lus
 && __cplusplus >= 201103L) \

211 || 
deföed
 
__GXX_EXPERIMENTAL_CXX0X__
)

212 
	#__USE_ISOCXX11
 1

	)

218 #ifde‡
_DEFAULT_SOURCE


219 #i‡!
deföed
 
_POSIX_SOURCE
 && !deföed 
_POSIX_C_SOURCE


220 
	#__USE_POSIX_IMPLICITLY
 1

	)

222 #unde‡
_POSIX_SOURCE


223 
	#_POSIX_SOURCE
 1

	)

224 #unde‡
_POSIX_C_SOURCE


225 
	#_POSIX_C_SOURCE
 200809L

	)

227 #i‡((!
deföed
 
__STRICT_ANSI__
 \

228 || (
deföed
 
_XOPEN_SOURCE
 && (_XOPEN_SOURCE - 0) >= 500)) \

229 && !
deföed
 
_POSIX_SOURCE
 && !deföed 
_POSIX_C_SOURCE
)

230 
	#_POSIX_SOURCE
 1

	)

231 #i‡
deföed
 
_XOPEN_SOURCE
 && (_XOPEN_SOURCE - 0) < 500

232 
	#_POSIX_C_SOURCE
 2

	)

233 #ñi‡
deföed
 
_XOPEN_SOURCE
 && (_XOPEN_SOURCE - 0) < 600

234 
	#_POSIX_C_SOURCE
 199506L

	)

235 #ñi‡
deföed
 
_XOPEN_SOURCE
 && (_XOPEN_SOURCE - 0) < 700

236 
	#_POSIX_C_SOURCE
 200112L

	)

238 
	#_POSIX_C_SOURCE
 200809L

	)

240 
	#__USE_POSIX_IMPLICITLY
 1

	)

243 #i‡(
deföed
 
_POSIX_SOURCE
 \

244 || (
deföed
 
_POSIX_C_SOURCE
 && _POSIX_C_SOURCE >= 1) \

245 || 
deföed
 
_XOPEN_SOURCE
)

246 
	#__USE_POSIX
 1

	)

249 #i‡
deföed
 
_POSIX_C_SOURCE
 && _POSIX_C_SOURCE >2 || deföed 
_XOPEN_SOURCE


250 
	#__USE_POSIX2
 1

	)

253 #i‡
deföed
 
_POSIX_C_SOURCE
 && (_POSIX_C_SOURCE - 0) >= 199309L

254 
	#__USE_POSIX199309
 1

	)

257 #i‡
deföed
 
_POSIX_C_SOURCE
 && (_POSIX_C_SOURCE - 0) >= 199506L

258 
	#__USE_POSIX199506
 1

	)

261 #i‡
deföed
 
_POSIX_C_SOURCE
 && (_POSIX_C_SOURCE - 0) >= 200112L

262 
	#__USE_XOPEN2K
 1

	)

263 #unde‡
__USE_ISOC95


264 
	#__USE_ISOC95
 1

	)

265 #unde‡
__USE_ISOC99


266 
	#__USE_ISOC99
 1

	)

269 #i‡
deföed
 
_POSIX_C_SOURCE
 && (_POSIX_C_SOURCE - 0) >= 200809L

270 
	#__USE_XOPEN2K8
 1

	)

271 #unde‡
_ATFILE_SOURCE


272 
	#_ATFILE_SOURCE
 1

	)

275 #ifdef 
_XOPEN_SOURCE


276 
	#__USE_XOPEN
 1

	)

277 #i‡(
_XOPEN_SOURCE
 - 0) >= 500

278 
	#__USE_XOPEN_EXTENDED
 1

	)

279 
	#__USE_UNIX98
 1

	)

280 #unde‡
_LARGEFILE_SOURCE


281 
	#_LARGEFILE_SOURCE
 1

	)

282 #i‡(
_XOPEN_SOURCE
 - 0) >= 600

283 #i‡(
_XOPEN_SOURCE
 - 0) >= 700

284 
	#__USE_XOPEN2K8
 1

	)

285 
	#__USE_XOPEN2K8XSI
 1

	)

287 
	#__USE_XOPEN2K
 1

	)

288 
	#__USE_XOPEN2KXSI
 1

	)

289 #unde‡
__USE_ISOC95


290 
	#__USE_ISOC95
 1

	)

291 #unde‡
__USE_ISOC99


292 
	#__USE_ISOC99
 1

	)

295 #ifde‡
_XOPEN_SOURCE_EXTENDED


296 
	#__USE_XOPEN_EXTENDED
 1

	)

301 #ifde‡
_LARGEFILE_SOURCE


302 
	#__USE_LARGEFILE
 1

	)

305 #ifde‡
_LARGEFILE64_SOURCE


306 
	#__USE_LARGEFILE64
 1

	)

309 #i‡
deföed
 
_FILE_OFFSET_BITS
 && _FILE_OFFSET_BITS == 64

310 
	#__USE_FILE_OFFSET64
 1

	)

313 #i‡
deföed
 
_DEFAULT_SOURCE


314 
	#__USE_MISC
 1

	)

317 #ifdef 
_ATFILE_SOURCE


318 
	#__USE_ATFILE
 1

	)

321 #ifdef 
_GNU_SOURCE


322 
	#__USE_GNU
 1

	)

325 #i‡
deföed
 
_REENTRANT
 || deföed 
_THREAD_SAFE


326 
	#__USE_REENTRANT
 1

	)

329 #i‡
deföed
 
_FORTIFY_SOURCE
 && _FORTIFY_SOURCE > 0 \

330 && 
__GNUC_PREREQ
 (4, 1Ë&& 
deföed
 
	g__OPTIMIZE__
 && __OPTIMIZE__ > 0

331 #i‡
_FORTIFY_SOURCE
 > 1

332 
	#__USE_FORTIFY_LEVEL
 2

	)

334 
	#__USE_FORTIFY_LEVEL
 1

	)

337 
	#__USE_FORTIFY_LEVEL
 0

	)

342 
	~<°dc-¥edef.h
>

350 #unde‡
__GNU_LIBRARY__


351 
	#__GNU_LIBRARY__
 6

	)

355 
	#__GLIBC__
 2

	)

356 
	#__GLIBC_MINOR__
 24

	)

358 
	#__GLIBC_PREREQ
(
maj
, 
mö
) \

359 ((
__GLIBC__
 << 16Ë+ 
__GLIBC_MINOR__
 >((
maj
Ë<< 16Ë+ (
mö
))

	)

362 #i‚de‡
__ASSEMBLER__


363 #i‚de‡
_SYS_CDEFS_H


364 
	~<sys/cdefs.h
>

369 #i‡
deföed
 
__USE_FILE_OFFSET64
 && !deföed 
__REDIRECT


370 
	#__USE_LARGEFILE
 1

	)

371 
	#__USE_LARGEFILE64
 1

	)

377 #i‡
__GNUC_PREREQ
 (2, 7Ë&& 
deföed
 
__OPTIMIZE__
 \

378 && !
deföed
 
	g__OPTIMIZE_SIZE__
 && !deföed 
	g__NO_INLINE__
 \

379 && 
deföed
 
	g__exã∫_ölöe


380 
	#__USE_EXTERN_INLINES
 1

	)

388 
	~<gnu/°ubs.h
>

	@/usr/include/getopt.h

19 #i‚de‡
_GETOPT_H


21 #i‚de‡
__√ed_gë›t


22 
	#_GETOPT_H
 1

	)

32 #i‡!
deföed
 
__GNU_LIBRARY__


33 
	~<˘y≥.h
>

36 #i‚de‡
__THROW


37 #i‚de‡
__GNUC_PREREQ


38 
	#__GNUC_PREREQ
(
maj
, 
mö
Ë(0)

	)

40 #i‡
deföed
 
__˝lu•lus
 && 
__GNUC_PREREQ
 (2,8)

41 
	#__THROW
 
	`throw
 ()

	)

43 
	#__THROW


	)

47 #ifdef 
__˝lu•lus


57 *
›èrg
;

71 
›töd
;

76 
›ãº
;

80 
›t›t
;

82 #i‚de‡
__√ed_gë›t


104 
	s›ti⁄


106 c⁄° *
	g«me
;

109 
	ghas_¨g
;

110 *
	gÊag
;

111 
	gvÆ
;

116 
	#no_¨gumít
 0

	)

117 
	#ªquúed_¨gumít
 1

	)

118 
	#›ti⁄Æ_¨gumít
 2

	)

146 #ifde‡
__GNU_LIBRARY__


150 
gë›t
 (
___¨gc
, *c⁄° *
___¨gv
, c⁄° *
__sh‹t›ts
)

151 
__THROW
;

153 #i‡
deföed
 
__√ed_gë›t
 && deföed 
__USE_POSIX2
 \

154 && !
deföed
 
	g__USE_POSIX_IMPLICITLY
 && !deföed 
	g__USE_GNU


158 #ifde‡
__REDIRECT


159 
__REDIRECT_NTH
 (
gë›t
, (
___¨gc
, *c⁄° *
___¨gv
,

160 c⁄° *
__sh‹t›ts
),

161 
__posix_gë›t
);

163 
__posix_gë›t
 (
___¨gc
, *c⁄° *
___¨gv
,

164 c⁄° *
__sh‹t›ts
Ë
__THROW
;

165 
	#gë›t
 
__posix_gë›t


	)

169 
gë›t
 ();

172 #i‚de‡
__√ed_gë›t


173 
gë›t_l⁄g
 (
___¨gc
, *c⁄° *
___¨gv
,

174 c⁄° *
__sh‹t›ts
,

175 c⁄° 
›ti⁄
 *
__l⁄g›ts
, *
__l⁄göd
)

176 
__THROW
;

177 
gë›t_l⁄g_⁄ly
 (
___¨gc
, *c⁄° *
___¨gv
,

178 c⁄° *
__sh‹t›ts
,

179 c⁄° 
›ti⁄
 *
__l⁄g›ts
, *
__l⁄göd
)

180 
__THROW
;

184 #ifdef 
__˝lu•lus


189 #unde‡
__√ed_gë›t


	@/usr/include/rpc/netdb.h

36 #i‚de‡
_RPC_NETDB_H


37 
	#_RPC_NETDB_H
 1

	)

39 
	~<„©uªs.h
>

41 
	#__√ed_size_t


	)

42 
	~<°ddef.h
>

44 
__BEGIN_DECLS


46 
	sΩ˚¡


48 *
	mr_«me
;

49 **
	mr_Æü£s
;

50 
	mr_numbî
;

53 
	$£åp˚¡
 (
__°ay›í
Ë
__THROW
;

54 
	$ídΩ˚¡
 (Ë
__THROW
;

55 
Ω˚¡
 *
	$gëΩcby«me
 (c⁄° *
__«me
Ë
__THROW
;

56 
Ω˚¡
 *
	$gëΩcbynumbî
 (
__numbî
Ë
__THROW
;

57 
Ω˚¡
 *
	$gëΩ˚¡
 (Ë
__THROW
;

59 #ifde‡
__USE_MISC


60 
	$gëΩcby«me_r
 (c⁄° *
__«me
, 
Ω˚¡
 *
__ªsu…_buf
,

61 *
__buf„r
, 
size_t
 
__buÊí
,

62 
Ω˚¡
 **
__ªsu…
Ë
__THROW
;

64 
	$gëΩcbynumbî_r
 (
__numbî
, 
Ω˚¡
 *
__ªsu…_buf
,

65 *
__buf„r
, 
size_t
 
__buÊí
,

66 
Ω˚¡
 **
__ªsu…
Ë
__THROW
;

68 
	$gëΩ˚¡_r
 (
Ω˚¡
 *
__ªsu…_buf
, *
__buf„r
,

69 
size_t
 
__buÊí
, 
Ω˚¡
 **
__ªsu…
Ë
__THROW
;

72 
__END_DECLS


	@/usr/include/time.h

22 #i‚def 
_TIME_H


24 #i‡(! 
deföed
 
__√ed_time_t
 && !deföed 
__√ed_˛ock_t
 && \

25 ! 
deföed
 
	g__√ed_time•ec
)

26 
	#_TIME_H
 1

	)

27 
	~<„©uªs.h
>

29 
	g__BEGIN_DECLS


33 #ifdef 
_TIME_H


35 
	#__√ed_size_t


	)

36 
	#__√ed_NULL


	)

37 
	~<°ddef.h
>

41 
	~<bôs/time.h
>

44 #i‡!
deföed
 
__STRICT_ANSI__
 && !deföed 
__USE_XOPEN2K


45 #i‚de‡
CLK_TCK


46 
	#CLK_TCK
 
CLOCKS_PER_SEC


	)

52 #i‡!
deföed
 
__˛ock_t_deföed
 && (deföed 
_TIME_H
 || deföed 
__√ed_˛ock_t
)

53 
	#__˛ock_t_deföed
 1

	)

55 
	~<bôs/ty≥s.h
>

57 
__BEGIN_NAMESPACE_STD


59 
__˛ock_t
 
	t˛ock_t
;

60 
	g__END_NAMESPACE_STD


61 #i‡
deföed
 
__USE_XOPEN
 || deföed 
__USE_POSIX


62 
	$__USING_NAMESPACE_STD
(
˛ock_t
)

66 #unde‡
__√ed_˛ock_t


68 #i‡!
deföed
 
__time_t_deföed
 && (deföed 
_TIME_H
 || deföed 
__√ed_time_t
)

69 
	#__time_t_deföed
 1

	)

71 
	~<bôs/ty≥s.h
>

73 
__BEGIN_NAMESPACE_STD


75 
__time_t
 
	ttime_t
;

76 
__END_NAMESPACE_STD


77 #ifde‡
__USE_POSIX


78 
	$__USING_NAMESPACE_STD
(
time_t
)

82 #unde‡
__√ed_time_t


84 #i‡!
deföed
 
__˛ockid_t_deföed
 && \

85 ((
deföed
 
_TIME_H
 && deföed 
__USE_POSIX199309
Ë|| deföed 
__√ed_˛ockid_t
)

86 
	#__˛ockid_t_deföed
 1

	)

88 
	~<bôs/ty≥s.h
>

91 
__˛ockid_t
 
	t˛ockid_t
;

94 #unde‡
__˛ockid_time_t


96 #i‡!
deföed
 
__timî_t_deföed
 && \

97 ((
deföed
 
_TIME_H
 && deföed 
__USE_POSIX199309
Ë|| deföed 
__√ed_timî_t
)

98 
	#__timî_t_deföed
 1

	)

100 
	~<bôs/ty≥s.h
>

103 
__timî_t
 
	ttimî_t
;

106 #unde‡
__√ed_timî_t


109 #i‡(!
deföed
 
__time•ec_deföed
 \

110 && ((
deföed
 
_TIME_H
 \

111 && (
deföed
 
__USE_POSIX199309
 \

112 || 
deföed
 
__USE_ISOC11
)) \

113 || 
deföed
 
__√ed_time•ec
))

114 
	#__time•ec_deföed
 1

	)

116 
	~<bôs/ty≥s.h
>

120 
	stime•ec


122 
__time_t
 
tv_£c
;

123 
__sysˇŒ_¶⁄g_t
 
tv_n£c
;

127 #unde‡
__√ed_time•ec


130 #ifdef 
_TIME_H


131 
__BEGIN_NAMESPACE_STD


133 
	stm


135 
tm_£c
;

136 
tm_mö
;

137 
tm_hour
;

138 
tm_mday
;

139 
tm_m⁄
;

140 
tm_yór
;

141 
tm_wday
;

142 
tm_yday
;

143 
tm_isd°
;

145 #ifdef 
__USE_MISC


146 
tm_gmtoff
;

147 c⁄° *
tm_z⁄e
;

149 
__tm_gmtoff
;

150 c⁄° *
__tm_z⁄e
;

153 
__END_NAMESPACE_STD


154 #i‡
deföed
 
__USE_XOPEN
 || deföed 
__USE_POSIX


155 
	$__USING_NAMESPACE_STD
(
tm
)

159 #ifde‡
__USE_POSIX199309


161 
	sôimî•ec


163 
time•ec
 
ô_öãrvÆ
;

164 
time•ec
 
ô_vÆue
;

168 
sigevít
;

172 #ifde‡
__USE_XOPEN2K


173 #i‚de‡
__pid_t_deföed


174 
__pid_t
 
	tpid_t
;

175 
	#__pid_t_deföed


	)

180 #ifde‡
__USE_ISOC11


182 
	#TIME_UTC
 1

	)

186 
__BEGIN_NAMESPACE_STD


189 
˛ock_t
 
	$˛ock
 (Ë
__THROW
;

192 
time_t
 
	$time
 (
time_t
 *
__timî
Ë
__THROW
;

195 
	$dif·ime
 (
time_t
 
__time1
,Åime_à
__time0
)

196 
__THROW
 
	`__©åibuã__
 ((
__c⁄°__
));

199 
time_t
 
	$mktime
 (
tm
 *
__ç
Ë
__THROW
;

205 
size_t
 
	$°r·ime
 (*
__ª°ri˘
 
__s
, 
size_t
 
__maxsize
,

206 c⁄° *
__ª°ri˘
 
__f‹m©
,

207 c⁄° 
tm
 *
__ª°ri˘
 
__ç
Ë
__THROW
;

208 
__END_NAMESPACE_STD


210 #ifde‡
__USE_XOPEN


213 *
	$°Ωtime
 (c⁄° *
__ª°ri˘
 
__s
,

214 c⁄° *
__ª°ri˘
 
__fmt
, 
tm
 *
__ç
)

215 
__THROW
;

218 #ifde‡
__USE_XOPEN2K8


221 
	~<xloˇÀ.h
>

223 
size_t
 
	$°r·ime_l
 (*
__ª°ri˘
 
__s
, 
size_t
 
__maxsize
,

224 c⁄° *
__ª°ri˘
 
__f‹m©
,

225 c⁄° 
tm
 *
__ª°ri˘
 
__ç
,

226 
__loˇÀ_t
 
__loc
Ë
__THROW
;

229 #ifde‡
__USE_GNU


230 *
	$°Ωtime_l
 (c⁄° *
__ª°ri˘
 
__s
,

231 c⁄° *
__ª°ri˘
 
__fmt
, 
tm
 *
__ç
,

232 
__loˇÀ_t
 
__loc
Ë
__THROW
;

236 
__BEGIN_NAMESPACE_STD


239 
tm
 *
	$gmtime
 (c⁄° 
time_t
 *
__timî
Ë
__THROW
;

243 
tm
 *
	$loˇ…ime
 (c⁄° 
time_t
 *
__timî
Ë
__THROW
;

244 
__END_NAMESPACE_STD


246 #ifde‡
__USE_POSIX


249 
tm
 *
	$gmtime_r
 (c⁄° 
time_t
 *
__ª°ri˘
 
__timî
,

250 
tm
 *
__ª°ri˘
 
__ç
Ë
__THROW
;

254 
tm
 *
	$loˇ…ime_r
 (c⁄° 
time_t
 *
__ª°ri˘
 
__timî
,

255 
tm
 *
__ª°ri˘
 
__ç
Ë
__THROW
;

258 
__BEGIN_NAMESPACE_STD


261 *
	$as˘ime
 (c⁄° 
tm
 *
__ç
Ë
__THROW
;

264 *
	$˘ime
 (c⁄° 
time_t
 *
__timî
Ë
__THROW
;

265 
__END_NAMESPACE_STD


267 #ifde‡
__USE_POSIX


272 *
	$as˘ime_r
 (c⁄° 
tm
 *
__ª°ri˘
 
__ç
,

273 *
__ª°ri˘
 
__buf
Ë
__THROW
;

276 *
	$˘ime_r
 (c⁄° 
time_t
 *
__ª°ri˘
 
__timî
,

277 *
__ª°ri˘
 
__buf
Ë
__THROW
;

282 *
__tz«me
[2];

283 
__daylight
;

284 
__timez⁄e
;

287 #ifdef 
__USE_POSIX


289 *
tz«me
[2];

293 
	$tz£t
 (Ë
__THROW
;

296 #i‡
deföed
 
__USE_MISC
 || deföed 
__USE_XOPEN


297 
daylight
;

298 
timez⁄e
;

301 #ifde‡
__USE_MISC


304 
	$°ime
 (c⁄° 
time_t
 *
__whí
Ë
__THROW
;

310 
	#__i¶óp
(
yór
) \

311 ((
yór
Ë% 4 =0 && ((yórË% 100 !0 || (yórË% 400 =0))

	)

314 #ifde‡
__USE_MISC


319 
time_t
 
	$timegm
 (
tm
 *
__ç
Ë
__THROW
;

322 
time_t
 
	$timñoˇl
 (
tm
 *
__ç
Ë
__THROW
;

325 
	$dysize
 (
__yór
Ë
__THROW
 
	`__©åibuã__
 ((
__c⁄°__
));

329 #ifde‡
__USE_POSIX199309


334 
	`«no¶ìp
 (c⁄° 
time•ec
 *
__ªque°ed_time
,

335 
time•ec
 *
__ªmaöög
);

339 
	$˛ock_gëªs
 (
˛ockid_t
 
__˛ock_id
, 
time•ec
 *
__ªs
Ë
__THROW
;

342 
	$˛ock_gëtime
 (
˛ockid_t
 
__˛ock_id
, 
time•ec
 *
__ç
Ë
__THROW
;

345 
	$˛ock_£âime
 (
˛ockid_t
 
__˛ock_id
, c⁄° 
time•ec
 *
__ç
)

346 
__THROW
;

348 #ifde‡
__USE_XOPEN2K


353 
	`˛ock_«no¶ìp
 (
˛ockid_t
 
__˛ock_id
, 
__Êags
,

354 c⁄° 
time•ec
 *
__ªq
,

355 
time•ec
 *
__ªm
);

358 
	$˛ock_gë˝u˛ockid
 (
pid_t
 
__pid
, 
˛ockid_t
 *
__˛ock_id
Ë
__THROW
;

363 
	$timî_¸óã
 (
˛ockid_t
 
__˛ock_id
,

364 
sigevít
 *
__ª°ri˘
 
__evp
,

365 
timî_t
 *
__ª°ri˘
 
__timîid
Ë
__THROW
;

368 
	$timî_dñëe
 (
timî_t
 
__timîid
Ë
__THROW
;

371 
	$timî_£âime
 (
timî_t
 
__timîid
, 
__Êags
,

372 c⁄° 
ôimî•ec
 *
__ª°ri˘
 
__vÆue
,

373 
ôimî•ec
 *
__ª°ri˘
 
__ovÆue
Ë
__THROW
;

376 
	$timî_gëtime
 (
timî_t
 
__timîid
, 
ôimî•ec
 *
__vÆue
)

377 
__THROW
;

380 
	$timî_gëovîrun
 (
timî_t
 
__timîid
Ë
__THROW
;

384 #ifde‡
__USE_ISOC11


386 
	$time•ec_gë
 (
time•ec
 *
__ts
, 
__ba£
)

387 
__THROW
 
	`__n⁄nuŒ
 ((1));

391 #ifde‡
__USE_XOPEN_EXTENDED


403 
gëd©e_îr
;

412 
tm
 *
	`gëd©e
 (c⁄° *
__°rög
);

415 #ifde‡
__USE_GNU


426 
	`gëd©e_r
 (c⁄° *
__ª°ri˘
 
__°rög
,

427 
tm
 *
__ª°ri˘
 
__ªsbuÂ
);

430 
__END_DECLS


	@/usr/include/xlocale.h

20 #i‚de‡
_XLOCALE_H


21 
	#_XLOCALE_H
 1

	)

27 
	s__loˇÀ_°ru˘


30 
__loˇÀ_d©a
 *
	m__loˇÀs
[13];

33 c⁄° *
	m__˘y≥_b
;

34 c⁄° *
	m__˘y≥_tﬁowî
;

35 c⁄° *
	m__˘y≥_touµî
;

38 c⁄° *
	m__«mes
[13];

39 } *
	t__loˇÀ_t
;

42 
__loˇÀ_t
 
	tloˇÀ_t
;

	@/usr/include/ctype.h

22 #i‚def 
_CTYPE_H


23 
	#_CTYPE_H
 1

	)

25 
	~<„©uªs.h
>

26 
	~<bôs/ty≥s.h
>

28 
	g__BEGIN_DECLS


30 #i‚de‡
_ISbô


39 
	~<ídün.h
>

40 #i‡
__BYTE_ORDER
 =
__BIG_ENDIAN


41 
	#_ISbô
(
bô
Ë(1 << (bô))

	)

43 
	#_ISbô
(
bô
Ë((bôË< 8 ? ((1 << (bô)Ë<< 8Ë: ((1 << (bô)Ë>> 8))

	)

48 
	m_ISuµî
 = 
_ISbô
 (0),

49 
	m_ISlowî
 = 
_ISbô
 (1),

50 
	m_ISÆpha
 = 
_ISbô
 (2),

51 
	m_ISdigô
 = 
_ISbô
 (3),

52 
	m_ISxdigô
 = 
_ISbô
 (4),

53 
	m_IS•a˚
 = 
_ISbô
 (5),

54 
	m_IS¥öt
 = 
_ISbô
 (6),

55 
	m_ISgøph
 = 
_ISbô
 (7),

56 
	m_ISbœnk
 = 
_ISbô
 (8),

57 
	m_IS˙ål
 = 
_ISbô
 (9),

58 
	m_ISpun˘
 = 
_ISbô
 (10),

59 
	m_ISÆnum
 = 
_ISbô
 (11)

79 c⁄° **
	$__˘y≥_b_loc
 ()

80 
__THROW
 
	`__©åibuã__
 ((
__c⁄°__
));

81 c⁄° 
__öt32_t
 **
	$__˘y≥_tﬁowî_loc
 ()

82 
__THROW
 
	`__©åibuã__
 ((
__c⁄°__
));

83 c⁄° 
__öt32_t
 **
	$__˘y≥_touµî_loc
 ()

84 
__THROW
 
	`__©åibuã__
 ((
__c⁄°__
));

87 #i‚de‡
__˝lu•lus


88 
	#__is˘y≥
(
c
, 
ty≥
) \

89 ((*
	`__˘y≥_b_loc
 ())[(Ë(
c
)] & (Ë
ty≥
)

	)

90 #ñi‡
deföed
 
__USE_EXTERN_INLINES


91 
	#__is˘y≥_f
(
ty≥
) \

92 
__exã∫_ölöe
 \

93 
is
##
	`ty≥
 (
__c
Ë
__THROW
 \

95  (*
	`__˘y≥_b_loc
 ())[(Ë(
__c
)] & (Ë
_IS
##
ty≥
; \

96 
	}

	)
}

99 
	#__ißscii
(
c
Ë(((cË& ~0x7fË=0Ë

	)

100 
	#__tﬂscii
(
c
Ë((cË& 0x7fË

	)

102 
	#__ex˘y≥
(
«me
Ë
	`«me
 (Ë
__THROW


	)

104 
__BEGIN_NAMESPACE_STD


110 
__ex˘y≥
 (
iß um
);

111 
__ex˘y≥
 (
ißÕha
);

112 
__ex˘y≥
 (
is˙ål
);

113 
__ex˘y≥
 (
isdigô
);

114 
__ex˘y≥
 (
i¶owî
);

115 
__ex˘y≥
 (
isgøph
);

116 
__ex˘y≥
 (
i•röt
);

117 
__ex˘y≥
 (
i•un˘
);

118 
__ex˘y≥
 (
is•a˚
);

119 
__ex˘y≥
 (
isuµî
);

120 
__ex˘y≥
 (
isxdigô
);

124 
	$tﬁowî
 (
__c
Ë
__THROW
;

127 
	$touµî
 (
__c
Ë
__THROW
;

129 
__END_NAMESPACE_STD


133 #ifdef 
__USE_ISOC99


134 
__BEGIN_NAMESPACE_C99


136 
	`__ex˘y≥
 (
isbœnk
);

138 
__END_NAMESPACE_C99


141 #ifde‡
__USE_GNU


143 
	$is˘y≥
 (
__c
, 
__mask
Ë
__THROW
;

146 #i‡
deföed
 
__USE_MISC
 || deföed 
__USE_XOPEN


150 
	$ißscii
 (
__c
Ë
__THROW
;

154 
	$tﬂscii
 (
__c
Ë
__THROW
;

158 
	`__ex˘y≥
 (
_touµî
);

159 
	`__ex˘y≥
 (
_tﬁowî
);

163 
	#__tobody
(
c
, 
f
, 
a
, 
¨gs
) \

164 (
__exãnsi⁄__
 \

165 ({ 
__ªs
; \

166 i‡( (
c
) > 1) \

168 i‡(
	`__buûtö_c⁄°™t_p
 (
c
)) \

170 
__c
 = (
c
); \

171 
__ªs
 = 
__c
 < -128 || __¯> 255 ? __¯: (
a
)[__c]; \

174 
__ªs
 = 
f
 
¨gs
; \

177 
__ªs
 = (
a
)[(Ë(
c
)]; \

178 
__ªs
; 
	}
}))

	)

180 #i‡!
deföed
 
__NO_CTYPE


181 #ifde‡
__is˘y≥_f


182 
	$__is˘y≥_f
 (
Ænum
)

183 
	$__is˘y≥_f
 (
Æpha
)

184 
	$__is˘y≥_f
 (
˙ål
)

185 
	$__is˘y≥_f
 (
digô
)

186 
	$__is˘y≥_f
 (
lowî
)

187 
	$__is˘y≥_f
 (
gøph
)

188 
	$__is˘y≥_f
 (
¥öt
)

189 
	$__is˘y≥_f
 (
pun˘
)

190 
	$__is˘y≥_f
 (
•a˚
)

191 
	$__is˘y≥_f
 (
uµî
)

192 
	$__is˘y≥_f
 (
xdigô
)

193 #ifde‡
__USE_ISOC99


194 
	$__is˘y≥_f
 (
bœnk
)

196 #ñi‡
deföed
 
__is˘y≥


197 
	#iß um
(
c
Ë
	`__is˘y≥
((c), 
_ISÆnum
)

	)

198 
	#ißÕha
(
c
Ë
	`__is˘y≥
((c), 
_ISÆpha
)

	)

199 
	#is˙ål
(
c
Ë
	`__is˘y≥
((c), 
_IS˙ål
)

	)

200 
	#isdigô
(
c
Ë
	`__is˘y≥
((c), 
_ISdigô
)

	)

201 
	#i¶owî
(
c
Ë
	`__is˘y≥
((c), 
_ISlowî
)

	)

202 
	#isgøph
(
c
Ë
	`__is˘y≥
((c), 
_ISgøph
)

	)

203 
	#i•röt
(
c
Ë
	`__is˘y≥
((c), 
_IS¥öt
)

	)

204 
	#i•un˘
(
c
Ë
	`__is˘y≥
((c), 
_ISpun˘
)

	)

205 
	#is•a˚
(
c
Ë
	`__is˘y≥
((c), 
_IS•a˚
)

	)

206 
	#isuµî
(
c
Ë
	`__is˘y≥
((c), 
_ISuµî
)

	)

207 
	#isxdigô
(
c
Ë
	`__is˘y≥
((c), 
_ISxdigô
)

	)

208 #ifde‡
__USE_ISOC99


209 
	#isbœnk
(
c
Ë
	`__is˘y≥
((c), 
_ISbœnk
)

	)

213 #ifde‡
__USE_EXTERN_INLINES


214 
__exã∫_ölöe
 

215 
	`__NTH
 (
	$tﬁowî
 (
__c
))

217  
__c
 >-128 && __¯< 256 ? (*
	`__˘y≥_tﬁowî_loc
 ())[__c] : __c;

218 
	}
}

220 
__exã∫_ölöe
 

221 
__NTH
 (
	$touµî
 (
__c
))

223  
__c
 >-128 && __¯< 256 ? (*
	`__˘y≥_touµî_loc
 ())[__c] : __c;

224 
	}
}

227 #i‡
__GNUC__
 >2 && 
deföed
 
__OPTIMIZE__
 && !deföed 
__˝lu•lus


228 
	#tﬁowî
(
c
Ë
	`__tobody
 (c, 
tﬁowî
, *
	`__˘y≥_tﬁowî_loc
 (), (c))

	)

229 
	#touµî
(
c
Ë
	`__tobody
 (c, 
touµî
, *
	`__˘y≥_touµî_loc
 (), (c))

	)

232 #i‡
deföed
 
__USE_MISC
 || deföed 
__USE_XOPEN


233 
	#ißscii
(
c
Ë
	`__ißscii
 (c)

	)

234 
	#tﬂscii
(
c
Ë
	`__tﬂscii
 (c)

	)

236 
	#_tﬁowî
(
c
Ë((Ë(*
	`__˘y≥_tﬁowî_loc
 ())[(Ë(c)])

	)

237 
	#_touµî
(
c
Ë((Ë(*
	`__˘y≥_touµî_loc
 ())[(Ë(c)])

	)

243 #ifde‡
__USE_XOPEN2K8


257 
	~<xloˇÀ.h
>

261 
	#__is˘y≥_l
(
c
, 
ty≥
, 
loˇÀ
) \

262 ((
loˇÀ
)->
__˘y≥_b
[(Ë(
c
)] & (Ë
ty≥
)

	)

264 
	#__ex˘y≥_l
(
«me
) \

265 
	`«me
 (, 
__loˇÀ_t
Ë
__THROW


	)

271 
__ex˘y≥_l
 (
iß um_l
);

272 
__ex˘y≥_l
 (
ißÕha_l
);

273 
__ex˘y≥_l
 (
is˙ål_l
);

274 
__ex˘y≥_l
 (
isdigô_l
);

275 
__ex˘y≥_l
 (
i¶owî_l
);

276 
__ex˘y≥_l
 (
isgøph_l
);

277 
__ex˘y≥_l
 (
i•röt_l
);

278 
__ex˘y≥_l
 (
i•un˘_l
);

279 
__ex˘y≥_l
 (
is•a˚_l
);

280 
__ex˘y≥_l
 (
isuµî_l
);

281 
__ex˘y≥_l
 (
isxdigô_l
);

283 
__ex˘y≥_l
 (
isbœnk_l
);

287 
	$__tﬁowî_l
 (
__c
, 
__loˇÀ_t
 
__l
Ë
__THROW
;

288 
	$tﬁowî_l
 (
__c
, 
__loˇÀ_t
 
__l
Ë
__THROW
;

291 
	$__touµî_l
 (
__c
, 
__loˇÀ_t
 
__l
Ë
__THROW
;

292 
	$touµî_l
 (
__c
, 
__loˇÀ_t
 
__l
Ë
__THROW
;

294 #i‡
__GNUC__
 >2 && 
deföed
 
__OPTIMIZE__
 && !deföed 
__˝lu•lus


295 
	#__tﬁowî_l
(
c
, 
loˇÀ
) \

296 
	`__tobody
 (
c
, 
__tﬁowî_l
, (
loˇÀ
)->
__˘y≥_tﬁowî
, (c,ÜoˇÀ))

	)

297 
	#__touµî_l
(
c
, 
loˇÀ
) \

298 
	`__tobody
 (
c
, 
__touµî_l
, (
loˇÀ
)->
__˘y≥_touµî
, (c,ÜoˇÀ))

	)

299 
	#tﬁowî_l
(
c
, 
loˇÀ
Ë
	`__tﬁowî_l
 ((c), (loˇÀ))

	)

300 
	#touµî_l
(
c
, 
loˇÀ
Ë
	`__touµî_l
 ((c), (loˇÀ))

	)

304 #i‚de‡
__NO_CTYPE


305 
	#__iß um_l
(
c
,
l
Ë
	`__is˘y≥_l
((c), 
_ISÆnum
, (l))

	)

306 
	#__ißÕha_l
(
c
,
l
Ë
	`__is˘y≥_l
((c), 
_ISÆpha
, (l))

	)

307 
	#__is˙ål_l
(
c
,
l
Ë
	`__is˘y≥_l
((c), 
_IS˙ål
, (l))

	)

308 
	#__isdigô_l
(
c
,
l
Ë
	`__is˘y≥_l
((c), 
_ISdigô
, (l))

	)

309 
	#__i¶owî_l
(
c
,
l
Ë
	`__is˘y≥_l
((c), 
_ISlowî
, (l))

	)

310 
	#__isgøph_l
(
c
,
l
Ë
	`__is˘y≥_l
((c), 
_ISgøph
, (l))

	)

311 
	#__i•röt_l
(
c
,
l
Ë
	`__is˘y≥_l
((c), 
_IS¥öt
, (l))

	)

312 
	#__i•un˘_l
(
c
,
l
Ë
	`__is˘y≥_l
((c), 
_ISpun˘
, (l))

	)

313 
	#__is•a˚_l
(
c
,
l
Ë
	`__is˘y≥_l
((c), 
_IS•a˚
, (l))

	)

314 
	#__isuµî_l
(
c
,
l
Ë
	`__is˘y≥_l
((c), 
_ISuµî
, (l))

	)

315 
	#__isxdigô_l
(
c
,
l
Ë
	`__is˘y≥_l
((c), 
_ISxdigô
, (l))

	)

317 
	#__isbœnk_l
(
c
,
l
Ë
	`__is˘y≥_l
((c), 
_ISbœnk
, (l))

	)

319 #ifde‡
__USE_MISC


320 
	#__ißscii_l
(
c
,
l
Ë(÷), 
	`__ißscii
 (c))

	)

321 
	#__tﬂscii_l
(
c
,
l
Ë(÷), 
	`__tﬂscii
 (c))

	)

324 
	#iß um_l
(
c
,
l
Ë
	`__iß um_l
 ((c), (l))

	)

325 
	#ißÕha_l
(
c
,
l
Ë
	`__ißÕha_l
 ((c), (l))

	)

326 
	#is˙ål_l
(
c
,
l
Ë
	`__is˙ål_l
 ((c), (l))

	)

327 
	#isdigô_l
(
c
,
l
Ë
	`__isdigô_l
 ((c), (l))

	)

328 
	#i¶owî_l
(
c
,
l
Ë
	`__i¶owî_l
 ((c), (l))

	)

329 
	#isgøph_l
(
c
,
l
Ë
	`__isgøph_l
 ((c), (l))

	)

330 
	#i•röt_l
(
c
,
l
Ë
	`__i•röt_l
 ((c), (l))

	)

331 
	#i•un˘_l
(
c
,
l
Ë
	`__i•un˘_l
 ((c), (l))

	)

332 
	#is•a˚_l
(
c
,
l
Ë
	`__is•a˚_l
 ((c), (l))

	)

333 
	#isuµî_l
(
c
,
l
Ë
	`__isuµî_l
 ((c), (l))

	)

334 
	#isxdigô_l
(
c
,
l
Ë
	`__isxdigô_l
 ((c), (l))

	)

336 
	#isbœnk_l
(
c
,
l
Ë
	`__isbœnk_l
 ((c), (l))

	)

338 #ifde‡
__USE_MISC


339 
	#ißscii_l
(
c
,
l
Ë
	`__ißscii_l
 ((c), (l))

	)

340 
	#tﬂscii_l
(
c
,
l
Ë
	`__tﬂscii_l
 ((c), (l))

	)

347 
__END_DECLS


	@/usr/include/stdc-predef.h

18 #i‚def 
_STDC_PREDEF_H


19 
	#_STDC_PREDEF_H
 1

	)

36 #ifde‡
__GCC_IEC_559


37 #i‡
__GCC_IEC_559
 > 0

38 
	#__STDC_IEC_559__
 1

	)

41 
	#__STDC_IEC_559__
 1

	)

44 #ifde‡
__GCC_IEC_559_COMPLEX


45 #i‡
__GCC_IEC_559_COMPLEX
 > 0

46 
	#__STDC_IEC_559_COMPLEX__
 1

	)

49 
	#__STDC_IEC_559_COMPLEX__
 1

	)

57 
	#__STDC_ISO_10646__
 201605L

	)

60 
	#__STDC_NO_THREADS__
 1

	)

	@
1
.
1
/usr/include
71
1128
Network.cpp
Network.h
Packet.h
Queue.cpp
Queue.h
RHCRC.cpp
RHCRC.h
RHDatagram.cpp
RHDatagram.h
RHGenericDriver.cpp
RHGenericDriver.h
RHGenericSPI.cpp
RHGenericSPI.h
RHHardwareSPI.cpp
RHHardwareSPI.h
RHMesh.cpp
RHMesh.h
RHNRFSPIDriver.cpp
RHNRFSPIDriver.h
RHReliableDatagram.cpp
RHReliableDatagram.h
RHRouter.cpp
RHRouter.h
RHSPIDriver.cpp
RHSPIDriver.h
RHSoftwareSPI.cpp
RHSoftwareSPI.h
RHTcpProtocol.h
RH_ASK.cpp
RH_ASK.h
RH_CC110.cpp
RH_CC110.h
RH_MRF89.cpp
RH_MRF89.h
RH_NRF24.cpp
RH_NRF24.h
RH_NRF51.cpp
RH_NRF51.h
RH_NRF905.cpp
RH_NRF905.h
RH_RF22.cpp
RH_RF22.h
RH_RF24.cpp
RH_RF24.h
RH_RF69.cpp
RH_RF69.h
RH_RF95.cpp
RH_RF95.h
RH_Serial.cpp
RH_Serial.h
RH_TCP.cpp
RH_TCP.h
RadioHead.h
radio_config_Si4460.h
/usr/include/arpa/inet.h
/usr/include/errno.h
/usr/include/math.h
/usr/include/netdb.h
/usr/include/netinet/in.h
/usr/include/stdint.h
/usr/include/string.h
/usr/include/unistd.h
RF24configs/radio_config_Si4464_30_434_2GFSK_5_10.h
/usr/include/endian.h
/usr/include/features.h
/usr/include/getopt.h
/usr/include/rpc/netdb.h
/usr/include/time.h
/usr/include/xlocale.h
/usr/include/ctype.h
/usr/include/stdc-predef.h
